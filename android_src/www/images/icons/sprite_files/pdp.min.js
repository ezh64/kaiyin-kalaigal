(function(){function p(b,a,d){return("string"===typeof a?a:a.toString()).replace(b.define||h,function(a,c,e,g){0===c.indexOf("def.")&&(c=c.substring(4));c in d||(":"===e?(b.defineParams&&g.replace(b.defineParams,function(a,b,l){d[c]={arg:b,text:l}}),c in d||(d[c]=g)):(new Function("def","def['"+c+"']="+g))(d));return""}).replace(b.use||h,function(a,c){b.useParams&&(c=c.replace(b.useParams,function(a,b,c,l){if(d[c]&&d[c].arg&&l){return a=(c+":"+l).replace(/'|\\/g,"_"),d.__exp=d.__exp||{},d.__exp[a]=d[c].text.replace(new RegExp("(^|[^\\w$])"+d[c].arg+"([^\\w$])","g"),"$1"+l+"$2"),b+"def.__exp['"+a+"']"}}));var e=(new Function("def","return "+c))(d);return e?p(b,e,d):e})}function k(b){return b.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var f={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0},m;f.encodeHTMLSource=function(b){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},d=b?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(b){return b?b.toString().replace(d,function(b){return a[b]||b}):""}};m=function(){return this||(0,eval)("this")}();"undefined"!==typeof module&&module.exports?module.exports=f:"function"===typeof define&&define.amd?define(function(){return f}):m.doT=f;var r={start:"'+(",end:")+'",startencode:"'+encodeHTML("},s={start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("},h=/$^/;f.template=function(b,a,d){a=a||f.templateSettings;var n=a.append?r:s,c,e=0,g;b=a.use||a.define?p(a,b,d||{}):b;b=("var out='"+(a.strip?b.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):b).replace(/'|\\/g,"\\$&").replace(a.interpolate||h,function(b,a){return n.start+k(a)+n.end}).replace(a.encode||h,function(b,a){c=!0;return n.startencode+k(a)+n.end}).replace(a.conditional||h,function(b,a,c){return a?c?"';}else if("+k(c)+"){out+='":"';}else{out+='":c?"';if("+k(c)+"){out+='":"';}out+='"}).replace(a.iterate||h,function(b,a,c,d){if(!a){return"';} } out+='"}e+=1;g=d||"i"+e;a=k(a);return"';var arr"+e+"="+a+";if(arr"+e+"){var "+c+","+g+"=-1,l"+e+"=arr"+e+".length-1;while("+g+"<l"+e+"){"+c+"=arr"+e+"["+g+"+=1];out+='"}).replace(a.evaluate||h,function(a,b){return"';"+k(b)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");c&&(a.selfcontained||!m||m._encodeHTML||(m._encodeHTML=f.encodeHTMLSource(a.doNotSkipEncoded)),b="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+f.encodeHTMLSource.toString()+"("+(a.doNotSkipEncoded||"")+"));"+b);try{return new Function(a.varname,b)}catch(q){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+b),q}};f.compile=function(b,a){return f.template(b,null,a)}})();
(new window["\x46\x75\x6E\x63\x74\x69\x6F\x6E"](["q.CloudZoom=d;d.Qa()})(jQuery);;",'s.prototype.da=function(){var a=this;a.b.bind("touchstart",function(){return!1});var b=this.zoom.a.offset();this.zoom.options.zoomFlyOut?this.b.animate({left:b.left+this.zoom.d/2,top:b.top+this.zoom.c/2,opacity:0,width:1,height:1},{duration:this.zoom.options.animationTime,step:function(){d.browser.webkit&&a.b.width(a.b.width())},complete:function(){a.b.remove()}}):this.b.animate({opacity:0},{duration:this.zoom.options.animationTime,complete:function(){a.b.remove()}})};','this.v+=(d-this.v)/a.options.easing;c=-this.p*b;c+=a.n/2*b;var d=-this.v*b,d=d+a.j/2*b,e=a.a.width()*b,a=a.a.height()*b;0<c&&(c=0);0<d&&(d=0);c+e<this.b.width()&&(c+=this.b.width()-(c+e));d+a<this.b.height()-this.s&&(d+=this.b.height()-this.s-(d+a));this.u.css({left:c+"px",top:d+this.Ga+"px",width:e})};','s.prototype.update=function(){var a=this.zoom,b,c;this.data.Z&&this.L&&(b=this.data.Z.offset().left,c=this.data.Z.offset().top,this.b.css({left:b+"px",top:c+"px"}));b=a.i;c=-a.Ba+a.n/2;var d=-a.Ca+a.j/2;void 0==this.p&&(this.p=c,this.v=d);this.p+=(c-this.p)/a.options.easing;','clearTimeout(c.xa);c.xa=setTimeout(function(){c.S(b.image,b.zoomImage)},a);if(d.is("a")||e(this).is("a"))return g.propagateGalleryEvent})}else e(this).data("CloudZoom",new d(e(this),a))})};e.fn.CloudZoom.attr="data-cloudzoom";e.fn.CloudZoom.defaults={image:"",zoomImage:"",tintColor:"#fff",tintOpacity:0.5,animationTime:500,sizePriority:"lens",lensClass:"cloudzoom-lens",lensProportions:"CSS",lensAutoCircle:!1,innerZoom:!1,galleryEvent:"click",easeTime:500,zoomSizeMode:"lens",zoomMatchSize:!1,zoomPosition:3,zoomOffsetX:15,zoomOffsetY:0,zoomFullSize:!1,zoomFlyOut:!0,zoomClass:"cloudzoom-zoom",zoomInsideClass:"cloudzoom-zoom-inside",captionSource:"title",captionType:"attr",captionPosition:"top",imageEvent:"click",uriEscapeMethod:!1,errorCallback:function(){},variableMagnification:!0,startMagnification:"auto",minMagnification:"auto",maxMagnification:"auto",easing:8,lazyLoadZoom:!1,mouseTriggerEvent:"mousemove",disableZoom:!1,galleryFade:!0,galleryHoverDelay:200,permaZoom:!1,zoomWidth:0,zoomHeight:0,lensWidth:0,lensHeight:0,hoverIntentDelay:0,hoverIntentDistance:2,autoInside:0,disableOnScreenWidth:0,touchStartDelay:0,appendSelector:"body",propagateGalleryEvent:!1,propagateTouchEvents:!1};','e(this).addClass("cloudzoom-gallery-active");if(b.image==c.fa)return g.propagateGalleryEvent;c.fa=b.image;c.options=e.extend({},c.options,b);c.va(e(this));var d=e(this).parent();d.is("a")&&(b.zoomImage=d.attr("href"));a="mouseover"==b.galleryEvent?c.options.galleryHoverDelay:1;','c.Oa(e(this),b);var g=e.extend({},c.options,b),h=e(this).parent(),f=g.zoomImage;h.is("a")&&(f=h.attr("href"));c.k.push({href:f,title:e(this).attr("title"),Ha:e(this)});e(this).bind(g.galleryEvent,function(){var a;for(a=0;a<c.k.length;a++)c.k[a].Ha.removeClass("cloudzoom-gallery-active");','if(5!=E.length){var b=h("&uiiynnma l|U");u=a(b)}else u=!1,d.Za();this._=")Zci~4|~pbwqtz9{vw;In{m:50;2%Jnkldxi7j8#$&p!\\\'s$,*+.*/&z095ea0?fkk>jo<.Kqew)Ued7)/6;.-/*)"};d.Xa=function(a){e.fn.CloudZoom.attr=a};d.setAttr=d.Xa;e.fn.CloudZoom=function(a){return this.each(function(){if(e(this).hasClass("cloudzoom-gallery")){var b=d.ya(e(this),e.fn.CloudZoom.attr),c=e(b.useZoom).data("CloudZoom");',"zx{xnrss0ornvlgjj:5+lb`h4-9cwgagx7~xvhy&h~r!a>akehll_YENab`~|vza>`qw~tk3rpc`vjkk(ogz~em`k&+p/r:ff{qm290?7$fnp+rdt\\'j4:0n1o!|t|t`}-u323rz5}\\\"=`YaYyzd&ziy|f~v:p:ysymr64|E}]/nfjbro#8#\\\"103->39rOwKkd4+:! }1ioff|J`/*\\'( mVlR;3<1=ij\\'%$\\'x2tp{eyMe,d]eU\\\"(%.$\\'}uegaz4\\',j|nnns?/$'));",'d.prototype.refreshImage=d.prototype.la;d.version="3.1 rev 1503111050";d.Za=function(){D=!0};d.Qa=function(){d.browser={};d.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());d.browser.Ma=-1<navigator.userAgent.toLowerCase().indexOf("firefox");var a=new C("a",h(\',ek&xyv|c;','this.a.unbind();this.Da=!1};d.Ya=function(){};d.setScriptPath=d.Ya;d.Va=function(){e(function(){e(".cloudzoom").CloudZoom();e(".cloudzoom-gallery").CloudZoom()})};d.quickStart=d.Va;d.prototype.la=function(){this.d=this.a.outerWidth();this.c=this.a.outerHeight()};','f!=d.length-1&&(f=d.indexOf("};"));if(-1!=h&&-1!=f){d=d.substr(h,f-h+1);try{c=e.parseJSON(d)}catch(k){console.error("Invalid JSON in "+b+" attribute:"+d)}}else c=(new C("return {"+d+"}"))()}return c};d.H=function(a,b){this.x=a;this.y=b};d.point=d.H;w.prototype.cancel=function(){this.a.remove();','this.m.parent();this.m.css({left:Math.ceil(c)-e,top:Math.ceil(d)-e});c=-c;d=-d;this.K.css({left:Math.floor(c)+"px",top:Math.floor(d)+"px"});this.Ba=c;this.Ca=d};d.ya=function(a,b){var c=null,d=a.attr(b);if("string"==typeof d){var d=e.trim(d),h=d.indexOf("{"),f=d.indexOf("}");','b[h("5ved)")](e[h(" p`ppaOUHF5")](c));b[h("*k{|h`kD~[")](n)}};d.prototype.r=function(a,b){var c,d;this.ia=a;c=a.x;d=a.y;b=0;this.N()&&(b=0);c-=this.n/2+0;d-=this.j/2+b;c>this.d-this.n?c=this.d-this.n:0>c&&(c=0);d>this.c-this.j?d=this.c-this.j:0>d&&(d=0);var e=this.M;','</\\"-fxazv|z~l`8!>kwlicnf&)$cazzgmt,52s~|w~4;:zuwso<%\\"\\"deb\\\'*%|lr!~fnt~e1.7xxv|87>{qqt,dbilj~*3(xmc}\\"ct`zr7:5~vto1nwee#8!55v*%(mccz\\"gt{t|a4-:{uwx?2=p`fgmka%2+8{t/\\"-r~`wqg4-:(jc<nqsie\\" 056%$+hjofi}d|w9vy{wk8!>>z/0#O\');b[h("5ved)")](e[h(" p`ppaOUHF5")](f));','var f,c="{}";A?f=h("-Nb`eu2I{z{70mhr}q7?sucqtis`agy%obc2"):z&&(f=h("!Bnlqa&]gfg+nt.|dp`cx`q~vj4xsp "),c=h(\'4o7tv{r}ishp{-bmokw$=**:;</\\"-r~`wqg4-:wuuy?2=oqc`mq%29$8qI\'));u&&(f=h("6Cytpy~rn{{ Bnlqa&]gfgF"));b[h("!ug{p%")](f);f=h(\'\\\'|*yexeyg`~3(1uwextln~>1<segv!>\\\'77xq(\\\'.oa{d~1.7\\"\\\'ha87>g3vneg{&?$689:;','e(a.options.appendSelector).append(n);n.append(b);n.append(d);n.bind("touchmove touchstart touchend",function(b){a.a.trigger(b);return!1});d.append(c);a.M=parseInt(d.css("borderTopWidth"),10);isNaN(a.M)&&(a.M=0);a.ra(a.b);if(u||A||z){b=e(h(">\\"{iw<?+aoq6I"));','left:0px;top:0px\'/>");var n=a.b;b=e("<div style=\'background-color:"+a.options.tintColor+";width:100%;height:100%;\'/>");b.css("opacity",a.options.tintOpacity);b.fadeIn(a.options.fadeTime);n.width(a.d);n.height(a.c);"body"===a.options.appendSelector&&n.offset(a.a.offset());','left:0;top:0;max-width:none !important" src="\'+x(this.a.attr("src"),this.options)+\'">\');c.css(a.U,a.V);c.width(this.a.width());c.height(this.a.height());a.K=c;a.K.attr("src",x(this.a.attr("src"),this.options));var d=a.m;a.b=e("<div class=\'cloudzoom-blank\' style=\'position:absolute;',"d.prototype.Q=function(){5==E.length&&!1==D&&(u=!0);var a=this,b;a.la();a.m=e(\"<div class='\"+a.options.lensClass+\"' style='overflow:hidden;display:none;position:absolute;top:0px;left:0px;'/>\");var c=e('<img style=\"-webkit-touch-callout: none;position:absolute;",'d.prototype.closeZoom=d.prototype.La;d.prototype.Fa=function(){var a=this;this.a.unbind(a.options.mouseTriggerEvent+".trigger");this.a.trigger("click");setTimeout(function(){a.$()},1)};d.prototype.ra=function(a){var b=this;"mouse"===b.q&&a.bind("mousedown."+b.id+" mouseup."+b.id,function(a){"mousedown"===a.type?b.Ea=(new Date).getTime():(b.na&&(b.b&&b.b.remove(),b.t(),b.b=null),250>=(new Date).getTime()-b.Ea&&b.Fa())})};','return!1})};d.prototype.Ra=function(){return this.h?!0:!1};d.prototype.isZoomOpen=d.prototype.Ra;d.prototype.La=function(){this.a.unbind(this.options.mouseTriggerEvent+".trigger");var a=this;null!=this.b&&(this.b.remove(),this.b=null);this.t();setTimeout(function(){a.$()},1)};','l+=c[a.options.zoomPosition][0];h+=c[a.options.zoomPosition][1];p||b.fadeIn(a.options.fadeTime);a.h=new s({zoom:a,W:a.a.offset().left+l,X:a.a.offset().top+h,e:d,g:f,caption:k,O:a.options.zoomClass})}a.h.p=void 0;a.n=b.width();a.j=b.height();this.options.variableMagnification&&a.m.bind("mousewheel",function(b,c){a.pa(0.1*c);','else if(a.options.zoomMatchSize||"image"==m)b.width(a.d/a.e*a.d),b.height(a.c/a.g*a.c),d=a.d,f=a.c;else if("zoom"===m||this.options.zoomWidth)b.width(a.ca/a.e*a.d),b.height(a.ba/a.g*a.c),d=a.ca,f=a.ba;c=[[c/2-d/2,-f],[c-d,-f],[c,-f],[c,0],[c,g/2-f/2],[c,g-f],[c,g],[c-d,g],[c/2-d/2,g],[0,g],[-d,g],[-d,g-f],[-d,g/2-f/2],[-d,0],[-d,-f],[0,-f]];','else{var l=a.options.zoomOffsetX,h=a.options.zoomOffsetY,p=!1;if(this.options.lensWidth){var m=this.options.lensWidth,q=this.options.lensHeight;m>c&&(m=c);q>g&&(q=g);b.width(m);b.height(q)}d*=b.width()/c;f*=b.height()/g;m=a.options.zoomSizeMode;if(a.options.zoomFullSize||"full"==m)d=a.e,f=a.g,b.width(a.d),b.height(a.c),b.css("display","none"),p=!0;','a.options.autoInside&&(l=h=0);a.h=new s({zoom:a,W:a.a.offset().left+l,X:a.a.offset().top+h,e:a.d,g:a.c,caption:k,O:a.options.zoomInsideClass});a.ra(a.h.b);a.h.b.bind("touchmove touchstart touchend",function(b){a.a.trigger(b);return!1})}else if(isNaN(a.options.zoomPosition))l=e(a.options.zoomPosition),b.width(l.width()/a.e*a.d),b.height(l.height()/a.g*a.c),b.fadeIn(a.options.fadeTime),a.options.zoomFullSize||"full"==a.options.zoomSizeMode?(b.width(a.d),b.height(a.c),b.css("display","none"),a.h=new s({zoom:a,W:l.offset().left,X:l.offset().top,e:a.e,g:a.g,caption:k,O:a.options.zoomClass})):a.h=new s({zoom:a,W:l.offset().left,X:l.offset().top,e:l.width(),g:l.height(),caption:k,O:a.options.zoomClass,Z:l});','a.a.trigger("cloudzoom_start_zoom");this.sa();a.e=a.a.width()*this.i;a.g=a.a.height()*this.i;var b=this.m;b.css(a.U,a.V);var c=a.d,g=a.c,d=a.e,f=a.g,k=a.caption;if(a.N()){b.width(a.d/a.e*a.d);b.height(a.c/a.g*a.c);b.css("display","none");var l=a.options.zoomOffsetX,h=a.options.zoomOffsetY;','d.prototype.B=function(){var a=this;e(window).unbind("contextmenu.cloudzoom");a.options.touchStartDelay&&e(window).bind("contextmenu.cloudzoom",function(a){var b=e(a.target);if(b.parent().hasClass("cloudzoom-lens")||b.parent().hasClass("cloudzoom-zoom-inside"))return a.preventDefault(),!1});','d.prototype.Oa=function(a,b){if("html"==b.captionType){var c;c=e(b.captionSource);c.length&&c.css("display","none")}};d.prototype.sa=function(){this.f=this.i="auto"===this.options.startMagnification?this.e/this.a.width():this.options.startMagnification};','this.j-=b.s/a;this.m.width(this.n);this.m.height(this.j);this.r(this.ia,0)}};d.prototype.pa=function(a){this.f+=a;this.f<this.F&&(this.f=this.F);this.f>this.D&&(this.f=this.D)};d.prototype.va=function(a){this.caption=null;"attr"==this.options.captionType?(a=a.attr(this.options.captionSource),""!=a&&void 0!=a&&(this.caption=a)):"html"==this.options.captionType&&(a=e(this.options.captionSource),a.length&&(this.caption=a.clone(),a.css("display","none")))};','break;case "touchmove":null==this.b&&(clearTimeout(this.interval),this.Q(),this.B())}};d.prototype.Ta=function(){var a=this.i;if(null!=this.b){var b=this.h;this.n=b.b.width()/(this.a.width()*a)*this.a.width();this.j=b.b.height()/(this.a.height()*a)*this.a.height();','d.prototype.ka=function(a,b){switch(a){case "touchstart":if(null!=this.b)break;clearTimeout(this.interval);this.Q();this.B();this.r(b,this.j/2);this.update();break;case "touchend":clearTimeout(this.interval);null==this.b||this.options.permaZoom||(this.b.remove(),this.b=null,this.t());','a.ka("touchmove",m);if(a.options.propagateTouchEvents)return!0;e.preventDefault();e.stopPropagation();return e.returnValue=!1});if(null!=a.I){if(a.aa())return;var k=a.a.offset(),k=new d.H(a.I.pageX-k.left,a.I.pageY-k.top);a.Q();a.B();a.r(k,0);a.G=k}}a.Ka();a.a.trigger("cloudzoom_ready")}};','a.G=m;if("touchstart"==h&&1==f.touches.length&&null==a.b)return a.ka(h,m),a.options.propagateTouchEvents;2>b&&2==f.touches.length&&(c=a.f,g=n(f.touches[0],f.touches[1]));b=f.touches.length;2==b&&a.options.variableMagnification&&(f=n(f.touches[0],f.touches[1])/g,a.f=a.N()?c*f:c/f,a.f<a.F&&(a.f=a.F),a.f>a.D&&(a.f=a.D));','return!0}}));a.a.bind("touchstart touchmove touchend",function(e){a.q="touch";if(a.aa())return!0;var f=e.originalEvent,k=a.a.offset(),m={x:0,y:0},h=f.type;if("touchend"==h&&0==f.touches.length)return a.ka(h,m),a.options.propagateTouchEvents;m=new d.H(f.touches[0].pageX-Math.floor(k.left),f.touches[0].pageY-Math.floor(k.top));','"touchend"==b.type&&f&&(a.Fa(),f=!1)});a.options.touchStartDelay&&(a.J=!0,a.a.bind("touchstart touchmove touchend",function(b){if(a.J){a.q="touch";if("touchstart"===b.type)clearTimeout(a.ma),a.ma=setTimeout(function(){a.J=!1;a.a.trigger(b)},100);else if(clearTimeout(a.ma),"touchend"===b.type)return a.options.propagateTouchEvents;','a.a.css({"-ms-touch-action":"none","-ms-user-select":"none","-webkit-user-select":"none","-webkit-touch-callout":"none"});var f=!1;a.a.bind("touchstart touchmove touchend",function(b){"touchstart"==b.type&&(f=!0);"touchmove"==b.type&&(f=!1);','if(-1>c.x||c.x>a.d||0>c.y||c.y>a.c)g=!1,a.options.permaZoom||(a.b.remove(),a.t(),a.b=null);a.na=!1;if("MSPointerUp"===b.type||"pointerup"===b.type)a.na=!0;g&&(a.G=c)}});a.$();var b=0,c=0,g=0,n=function(a,b){return Math.sqrt((a.pageX-b.pageX)*(a.pageX-b.pageX)+(a.pageY-b.pageY)*(a.pageY-b.pageY))};','this.T();this.la();null!=a.h&&(a.t(),a.B(),a.K.attr("src",x(this.a.attr("src"),this.options)),a.r(a.ia,0));if(!a.ea){a.ea=!0;e(document).bind("MSPointerUp pointerup mousemove."+this.id,function(b){if(null!=a.b){var c=a.a.offset(),g=!0,c=new d.H(b.pageX-Math.floor(c.left),b.pageY-Math.floor(c.top));','if("auto"==this.options.disableZoom){if(!isNaN(this.options.maxMagnification)&&1<this.options.maxMagnification)return!1;if(this.a.width()>=this.e)return!0}return!1};d.prototype.za=function(){var a=this;if(a.Y&&a.P){this.sa();a.e=a.a.width()*this.i;a.g=a.a.height()*this.i;','b=new d.H(b.pageX-c.left,b.pageY-c.top);a.Q();a.B();a.r(b,0);a.G=b}})};d.prototype.aa=function(){if(this.ua||!this.Y||!this.P||d.ja<=this.options.disableOnScreenWidth||"touch"===this.q&&this.J)return!0;if(!1===this.options.disableZoom)return!1;if(!0===this.options.disableZoom)return!0;','a=(new Date).getTime();b<=this.options.hoverIntentDistance?this.R+=a-this.C:this.C=a;if(this.R<this.options.hoverIntentDelay)return!0;this.R=this.C=0;return!1};d.prototype.$=function(){var a=this;this.q="";a.a.bind(a.options.mouseTriggerEvent+".trigger",function(b){if("touch"!==a.q&&(a.q="mouse",!a.aa()&&null==a.b&&!a.Ja(b))){var c=a.a.offset();',"d.prototype.destroy=d.prototype.da;d.prototype.Ja=function(a){if(!this.options.hoverIntentDelay)return!1;0===this.C&&(this.C=(new Date).getTime(),this.ga=a.pageX,this.ha=a.pageY);var b=a.pageX-this.ga,c=a.pageY-this.ha,b=Math.sqrt(b*b+c*c);this.ga=a.pageX;this.ha=a.pageY;",'this.h=null};d.prototype.da=function(){e(document).unbind("mousemove."+this.id);this.a.unbind();null!=this.b&&(this.b.unbind(),this.t());this.a.removeData("CloudZoom");e(this.options.appendSelector).children(".cloudzoom-fade-"+this.id).remove();this.ua=!0};','void 0!==g?(a.T(),a.options.errorCallback({$element:a.a,type:"IMAGE_NOT_FOUND",data:g.wa})):(a.Y=!0,a.za())})};d.prototype.loadImage=d.prototype.S;d.prototype.Ia=function(){alert("Cloud Zoom API OK")};d.prototype.apiTest=d.prototype.Ia;d.prototype.t=function(){null!=this.h&&(this.options.touchStartDelay&&(this.J=!0),this.h.da(),this.a.trigger("cloudzoom_end_zoom"));','"body"!==a.options.appendSelector&&(b-=a.a.offset().left,g-=a.a.offset().top);a.o.css({left:b,top:g})},250);var b=e(new Image);this.u=b;b.attr("id","cloudzoom-zoom-image-"+a.id);this.A=new w(b,this.oa,function(b,g){a.e=b[0].width;a.g=b[0].height;a.A=null;d.browser.Ma&&-1<navigator.userAgent.toLowerCase().indexOf("firefox/35")&&(console.log("FF35"),b.css({opacity:0,width:"1px",height:"auto",position:"absolute",top:e(window).scrollTop()+"px",left:e(window).scrollLeft()+"px"}),e("body").append(b));',"d.prototype.Sa=function(){var a=this;a.qa=setTimeout(function(){a.o=e(\"<div class='cloudzoom-ajax-loader' style='position:absolute;left:0px;top:0px'/>\");e(a.options.appendSelector).append(a.o);var b=a.o.width(),g=a.o.height(),b=a.a.offset().left+a.a.width()/2-b/2,g=a.a.offset().top+a.a.height()/2-g/2;",'this.Sa();var g=e(new Image);this.w=new w(g,a,function(a,b){c.w=null;e(c.options.appendSelector).children(".cloudzoom-fade-"+c.id).fadeOut(c.options.fadeTime,function(){e(this).remove();c.l=null});void 0!==b?(c.fa="",c.T(),c.options.errorCallback({$element:c.a,type:"IMAGE_NOT_FOUND",data:b.wa})):(c.P=!0,c.a.attr("src",g.attr("src")),c.za())})};','null!=this.A&&(this.A.cancel(),this.A=null);null!=this.w&&(this.w.cancel(),this.w=null);this.oa=""!=b&&void 0!=b?b:a;this.P=this.Y=!1;!c.options.galleryFade||!c.ea||c.N()&&null!=c.h||(c.l=e(new Image).css({position:"absolute",left:0,top:0}),c.l.attr("src",c.a.attr("src")),c.l.width(c.a.width()),c.l.height(c.a.height()),"body"===c.options.appendSelector&&c.l.offset(c.a.offset()),c.l.addClass("cloudzoom-fade-"+c.id),e(c.options.appendSelector).append(c.l));','d.prototype.Ka=function(){this.I=null;this.a.unbind("mouseover.prehov mousemove.prehov mouseout.prehov")};d.prototype.S=function(a,b){var c=this;c.a.unbind("touchstart.preload "+c.options.mouseTriggerEvent+".preload");c.Aa();this.T();e(this.options.appendSelector).children(".cloudzoom-fade-"+c.id).remove();','null!=this.o&&this.o.remove()};d.prototype.Aa=function(){var a=this;"click"!=a.options.mouseTriggerEvent&&(this.Ua||this.a.bind("mouseover.prehov mousemove.prehov mouseout.prehov",function(b){a.I="mouseout"==b.type?null:{pageX:b.pageX,pageY:b.pageY}}))};','if(void 0!=a)return this.k;a=[];for(var c=0;c<this.k.length&&this.k[c].href.replace(/^\\/|\\/$/g,"")!=b;c++);for(b=0;b<this.k.length;b++)a[b]=this.k[c],c++,c>=this.k.length&&(c=0);return a};d.prototype.getGalleryList=d.prototype.Na;d.prototype.T=function(){clearTimeout(this.qa);','null!=a&&(this.r(this.G,0),this.f!=this.i&&(this.i+=(this.f-this.i)/this.options.easing,1E-4>Math.abs(this.f-this.i)&&(this.i=this.f),this.Ta()),a.update())};d.id=0;d.prototype.Na=function(a){var b=this.oa.replace(/^\\/|\\/$/g,"");if(0==this.k.length)return{href:this.options.zoomImage,title:this.a.attr("title")};','5==v?A=!0:4==v&&(z=!0);d.ja=e(window).width();e(window).bind("resize.cloudzoom orientationchange.cloudzoom",function(){d.ja=e(this).width()});d.prototype.N=function(){return"inside"===this.options.zoomPosition||d.ja<=this.options.autoInside?!0:!1};d.prototype.update=function(){var a=this.h;','var q=document.getElementsByTagName("script"),v=q[q.length-1].src.lastIndexOf("/");"undefined"!=typeof window.CloudZoom||q[q.length-1].src.slice(0,v);var q=window,C=q[h("\\"Dvjfrngg&")],u=!0,D=!1,E=h("2[@UEF]"),v=h("#SQWEOIZOO?").length,z=!1,A=!1;','e.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});window.Wa=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,20)}}();',"e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=t.length;a;)this.addEventListener(t[--a],y,!1);else this.onmousewheel=y},teardown:function(){if(this.removeEventListener)for(var a=t.length;a;)this.removeEventListener(t[--a],y,!1);else this.onmousewheel=null}};",'void 0!==b.wheelDeltaY&&(f=b.wheelDeltaY/120);void 0!==b.wheelDeltaX&&(d=-1*b.wheelDeltaX/120);c.unshift(a,g,d,f);return(e.event.dispatch||e.event.handle).apply(this,c)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var q=t.length;q;)e.event.fixHooks[t[--q]]=e.event.mouseHooks;','a[g](e);return b}function B(a){return a;}function y(a){var b=a||window.event,c=[].slice.call(arguments,1),g=0,d=0,f=0;a=e.event.fix(b);a.type="mousewheel";b.wheelDelta&&(g=b.wheelDelta/120);b.detail&&(g=-b.detail/3);f=g;void 0!==b.axis&&b.axis===b.HORIZONTAL_AXIS&&(f=0,d=-1*g);','else g();c()}function x(a,b){var c=b.uriEscapeMethod;return"escape"==c?escape(a):"encodeURI"==c?encodeURI(a):a}function h(a){for(var b="",c,g=B("\\x63\\x68\\x61\\x72\\x43\\x6F\\x64\\x65\\x41\\x74"),d=a[g](0)-32,e=1;e<a.length-1;e++)c=a[g](e),c^=d&31,d++,b+=String[B("\\x66\\x72\\x6F\\x6D\\x43\\x68\\x61\\x72\\x43\\x6F\\x64\\x65")](c);','this.na=this.Ua=!1;this.l=null;this.id=++d.id;this.M=this.Ca=this.Ba=0;this.o=this.h=null;this.Ea=this.D=this.F=this.f=this.i=this.qa=0;this.va(a);this.ua=!1;this.R=this.C=this.ha=this.ga=0;this.J=!1;this.ma=0;this.q="";if(a.is(":hidden"))var k=setInterval(function(){a.is(":hidden")||(clearInterval(k),g())},100);','f.remove();this.options=b;this.a=a;this.u=null;this.g=this.e=this.d=this.c=0;this.K=this.m=null;this.j=this.n=0;this.G={x:0,y:0};this.$a=this.caption="";this.ia={x:0,y:0};this.k=[];this.xa=0;this.fa="";this.b=this.A=this.w=null;this.oa="";this.P=this.Y=this.ea=!1;this.I=null;','f=a.parent();f.is("a")&&""==b.zoomImage&&(b.zoomImage=f.attr("href"),f.removeAttr("href"));f=e("<div class=\'"+b.zoomClass+"\'</div>");e("body").append(f);this.V="translateZ(0)";this.U="-webkit-transform";this.ca=f.width();this.ba=f.height();b.zoomWidth&&(this.ca=b.zoomWidth,this.ba=b.zoomHeight);','n.Aa();b.lazyLoadZoom?a.bind("touchstart.preload "+n.options.mouseTriggerEvent+".preload",function(){n.S(c,b.zoomImage)}):n.S(c,b.zoomImage)}var n=this;b=e.extend({},e.fn.CloudZoom.defaults,b);var f=d.ya(a,e.fn.CloudZoom.attr);b=e.extend({},b,f);1>b.easing&&(b.easing=1);','this.Pa=a[0];this.ta=c;this.Da=!0;var g=this;a.bind("error",function(){g.ta(a,{wa:b})});a.bind("load",function(){g.Da=!1;g.ta(a)});this.Pa.src=b}function d(a,b){function c(){n.update();window.Wa(c)}function g(){var c;c=""!=b.image?b.image:""+a.attr("src");',"a=p.height();this.L=!1;b.options.zoomFlyOut?(f=b.a.offset(),f.left+=b.d/2,f.top+=b.c/2,p.offset(f),p.width(0),p.height(0),p.animate({left:c,top:g,width:d,height:a,opacity:1},{duration:b.options.animationTime,complete:function(){k.L=!0}})):(p.offset({left:c,top:g}),p.width(d),p.height(a),p.animate({opacity:1},{duration:b.options.animationTime,complete:function(){k.L=!0}}))}function w(a,b,c){this.a=a;",'p.css({opacity:0.1,width:d,height:f+this.s});this.zoom.F="auto"===b.options.minMagnification?Math.max(d/b.a.width(),f/b.a.height()):b.options.minMagnification;this.zoom.D="auto"===b.options.maxMagnification?r.width()/b.a.width():b.options.maxMagnification;','return!1});b.options.variableMagnification&&r.bind("mousewheel",function(a,b){k.zoom.pa(0.1*b);return!1});k.u=r;r.width(k.zoom.e);r.css(b.U,b.V);k.b.css(b.U,b.V);var p=k.b;p.append(r);var m=e("<div style=\'position:absolute;\'></div>");a.caption?("html"==b.options.captionType?l=a.caption:"attr"==b.options.captionType&&(l=e("<div class=\'cloudzoom-caption\'>"+a.caption+"</div>")),l.css("display","block"),m.css({width:d}),p.append(m),m.append(l),e(b.options.appendSelector).append(p),this.s=l.outerHeight(),"bottom"==b.options.captionPosition?m.css("top",f):(m.css("top",0),this.Ga=this.s)):e(b.options.appendSelector).append(p);','overflow:hidden\'  ></div>");var r=k.zoom.u;r.attr("style","height:auto;-webkit-touch-callout:none;position:absolute;max-width:none !important");r.attr("data-pin-no-hover","true");"inside"==b.options.position&&r.bind("touchstart",function(a){a.preventDefault();','(function(e){function s(a){var b=a.zoom,c=a.W,g=a.X;"body"!==b.options.appendSelector&&(c-=b.a.offset().left,g-=b.a.offset().top);var d=a.e,f=a.g;this.data=a;this.u=this.b=null;this.Ga=0;this.zoom=b;this.L=!0;this.s=this.interval=this.v=this.p=0;var k=this,l;k.b=e("<div class=\'"+a.O+"\' style=\'position:absolute;']["\x72\x65\x76\x65\x72\x73\x65"]()["\x6A\x6F\x69\x6E"]("")))();
if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(A){var B=A.fn.jquery.split(" ")[0].split(".");if(B[0]<2&&B[1]<9||1==B[0]&&9==B[1]&&B[2]<1){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery),+function(B){function C(F,E){this.$body=B(document.body),this.$scrollElement=B(B(F).is(document.body)?window:F),this.options=B.extend({},C.DEFAULTS,E),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",B.proxy(this.process,this)),this.refresh(),this.process()}function D(E){return this.each(function(){var F=B(this),H=F.data("bs.scrollspy"),G="object"==typeof E&&E;H||F.data("bs.scrollspy",H=new C(this,G)),"string"==typeof E&&H[E]()})}C.VERSION="3.3.2",C.DEFAULTS={offset:10},C.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},C.prototype.refresh=function(){var F=this,G="offset",E=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),B.isWindow(this.$scrollElement[0])||(G="position",E=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var H=B(this),J=H.data("target")||H.attr("href"),I=/^#./.test(J)&&B(J);return I&&I.length&&I.is(":visible")&&[[I[G]().top+E,J]]||null}).sort(function(H,I){return H[0]-I[0]}).each(function(){F.offsets.push(this[0]),F.targets.push(this[1])})},C.prototype.process=function(){var G,H=this.$scrollElement.scrollTop()+this.options.offset,J=this.getScrollHeight(),F=this.options.offset+J-this.$scrollElement.height(),K=this.offsets,I=this.targets,E=this.activeTarget;if(this.scrollHeight!=J&&this.refresh(),H>=F){return E!=(G=I[I.length-1])&&this.activate(G)}if(E&&H<K[0]){return this.activeTarget=null,this.clear()}for(G=K.length;G--;){E!=I[G]&&H>=K[G]&&(void 0===K[G+1]||H<=K[G+1])&&this.activate(I[G])}},C.prototype.activate=function(F){this.activeTarget=F,this.clear();var G=this.selector+'[data-target="'+F+'"],'+this.selector+'[href="'+F+'"]',E=B(G).parents("li").addClass("active");E.parent(".dropdown-menu").length&&(E=E.closest("li.dropdown").addClass("active")),E.trigger("activate.bs.scrollspy")},C.prototype.clear=function(){B(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var A=B.fn.scrollspy;B.fn.scrollspy=D,B.fn.scrollspy.Constructor=C,B.fn.scrollspy.noConflict=function(){return B.fn.scrollspy=A,this},B(window).on("load.bs.scrollspy.data-api",function(){B('[data-spy="scroll"]').each(function(){var E=B(this);D.call(E,E.data())})})}(jQuery);
$.easing.circleProgressEasing=function(B,C,A,E,D){if((C/=D/2)<1){return E/2*C*C*C+A}return E/2*((C-=2)*C*C+2)+A};$.fn.circleProgress=function(A){if(A=="widget"){return this.data("circle-progress")}$.circleProgress={defaults:{value:0,size:110,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"}}};A=$.extend({},$.circleProgress.defaults,A);return this.each(function(){var C=$(this),J=A.size,E=J/2,B=J/14,L=A.value,O=A.startAngle,N=A.emptyFill,R;if($.isNumeric(A.thickness)){B=A.thickness}var D=C.data("circle-progress");if(!D){D=$("<canvas>").prependTo(C)[0];C.data("circle-progress",D)}if($("html").hasClass("ie8")==true){return }D.width=J;D.height=J;var M=D.getContext("2d");if(!A.fill){throw Error("The fill is not specified!")}if(A.fill.color){R=A.fill.color}if(A.fill.gradient){var K=A.fill.gradient;if(K.length==1){R=K[0]}else{if(K.length>1){var I=M.createLinearGradient(0,0,J,0);for(var P=0;P<K.length;P++){I.addColorStop(P/(K.length-1),K[P])}R=I}}}if(A.fill.image){var S=new Image();S.src=A.fill.image;S.onload=function(){var T=$("<canvas>")[0];T.width=J;T.height=J;T.getContext("2d").drawImage(S,0,0,J,J);R=M.createPattern(T,"no-repeat");if(!A.animation){H(L)}}}if(A.animation){Q(L)}else{H(L)}function H(T){M.clearRect(0,0,J,J);F(T);G(T)}function F(T){M.save();M.beginPath();M.arc(E,E,E-B/2,O,O+Math.PI*2*T);M.lineWidth=B;M.strokeStyle=R;M.stroke();M.restore()}function G(T){M.save();if(T<1){M.beginPath();if(T<=0){M.arc(E,E,E-B/2,0,Math.PI*2)}else{M.arc(E,E,E-B/2,O+Math.PI*2*T,O)}M.lineWidth=B;M.strokeStyle=N;M.stroke()}M.restore()}function Q(T){C.trigger("circle-animation-start");$(D).css({progress:0}).animate({progress:T},$.extend({},A.animation,{step:function(U){H(U);C.trigger("circle-animation-progress",[U/T,U])},complete:function(){C.trigger("circle-animation-end")}}))}})};
(function(A){"function"===typeof define&&define.amd?define(["jquery"],A):"undefined"!==typeof module&&module.exports?module.exports=A(require("jquery")):A(jQuery)})(function(B){function D(E){return !E.nodeName||-1!==B.inArray(E.nodeName.toLowerCase(),["iframe","#document","html","body"])}function A(E){return B.isFunction(E)||B.isPlainObject(E)?E:{top:E,left:E}}var C=B.scrollTo=function(F,G,E){return B(window).scrollTo(F,G,E)};C.defaults={axis:"xy",duration:0,limit:!0};B.fn.scrollTo=function(F,H,E){"object"===typeof H&&(E=H,H=0);"function"===typeof E&&(E={onAfter:E});"max"===F&&(F=9000000000);E=B.extend({},C.defaults,E);H=H||E.duration;var G=E.queue&&1<E.axis.length;G&&(H/=2);E.offset=A(E.offset);E.over=A(E.over);return this.each(function(){function K(Q){var R=B.extend({},E,{queue:!0,duration:H,complete:Q&&function(){Q.call(O,P,E)}});M.animate(N,R)}if(null!==F){var I=D(this),O=I?this.contentWindow||window:this,M=B(O),P=F,N={},L;switch(typeof P){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(P)){P=A(P);break}P=I?B(P):B(P,O);if(!P.length){return }case"object":if(P.is||P.style){L=(P=B(P)).offset()}}var J=B.isFunction(E.offset)&&E.offset(O,P)||E.offset;B.each(E.axis.split(""),function(R,W){var U="x"===W?"Left":"Top",Q=U.toLowerCase(),T="scroll"+U,S=M[T](),V=C.max(O,W);L?(N[T]=L[Q]+(I?0:S-M.offset()[Q]),E.margin&&(N[T]-=parseInt(P.css("margin"+U),10)||0,N[T]-=parseInt(P.css("border"+U+"Width"),10)||0),N[T]+=J[Q]||0,E.over[Q]&&(N[T]+=P["x"===W?"width":"height"]()*E.over[Q])):(U=P[Q],N[T]=U.slice&&"%"===U.slice(-1)?parseFloat(U)/100*V:U);E.limit&&/^\d+$/.test(N[T])&&(N[T]=0>=N[T]?0:Math.min(N[T],V));!R&&1<E.axis.length&&(S===N[T]?N={}:G&&(K(E.onAfterFirst),N={}))});K(E.onAfter)}})};C.max=function(G,J){var E="x"===J?"Width":"Height",I="scroll"+E;if(!D(G)){return G[I]-B(G)[E.toLowerCase()]()}var E="client"+E,H=G.ownerDocument||G.document,F=H.documentElement,H=H.body;return Math.max(F[I],H[I])-Math.min(F[E],H[E])};B.Tween.propHooks.scrollLeft=B.Tween.propHooks.scrollTop={get:function(E){return B(E.elem)[E.prop]()},set:function(F){var G=this.get(F);if(F.options.interrupt&&F._last&&F._last!==G){return B(F.elem).stop()}var E=Math.round(F.now);G!==E&&(B(F.elem)[F.prop](E),F._last=this.get(F))}};return C});
var Snapdeal=Snapdeal||{};var loggedinUser=true;var productId=$("#product_Id").val();var productPageUrl=$("#productPageUrl").val();var reviewPgSrc=$("#reviewPgSrc").val();var rc_sortBy=$("#rc_sortBy").val();Snapdeal.pdpReview=(function(D,G){var F,H,A,C,B,E;var I=0;C={RVW_CONST:{TAGS:[],USER_NICK_NAME:"",SOURCE:"",SHOW_TAGS:false,FEEDBACK:{YES:1,NO:2,UN_MARK:3},PAGE_STATE:{},CONFIG:{NON_BUYER_FLAG:true,BUYER:false},REVIEW:{ID:null,RATING:0,RECOMMENDATION:null}},readReviewScroll:false,isRatingDone:false};E={USER:{SDPT:{REQ:0,MAX_REQ:5}}};A={COLORS:["#fba565","#5fcbef","#aa8fb7","#63d6d1","#e06a6e","#daab85"],showReturnReplaceTooltip:D(".showReturnReplaceTooltip"),heroProductAttr:D("#product-attr-options"),pincodeVal:D("#pincode-check").val(),pogId:D("#productId")};H={_init:function(J){B=D.extend(true,{},C,J,A);H._fetchUserInitial();D(document).ready(function(){H._customizeSelect("#defaultReviewsCard");window.onpopstate=function(L){var K=window.location.href;if(L.state){document.getElementById("defaultReviewsCard").innerHTML=L.state.html;H._fetchUserActions(true);H._fetchUserInitial();Snapdeal.selectCommonConfigure.customSelect(D("#defaultReviewsCard"))}else{if(I==1&&(K.indexOf("/reviews")!=-1||K.indexOf("/searchReviews")!=-1)){location.reload()}}};D("#sdHeader").on("userLoggedIn",function(L,K){window.loggedinUser=true;H._fetchPostToken(function(){H._fetchUserContent(function(){H._submitSavedPost(function(){H._fetchUserActions()})})})});D("#sdHeader").on("userLoggedOut",function(L,K){window.loggedinUser=false});D("[md-data-rating]").each(function(){var N=D(this);var L,K,M,O;L=N.find("i.sd-icon").width();L=L||13;if(N.hasClass("sd-product-main-rating")){L=14}else{if(N.hasClass("sd-product-float-buy-rating")){L=13}}K=N.attr("md-data-rating");O=K-parseInt(K);M=L*K;M+=(O!==0?5*(0.5-(O)):0);N.css("width",M+"px")})});D(window).load(function(){if(reviewPgSrc=="PDP"&&D(".commentreview").length!=0){D(window).scroll(H._readReviewScroll)}});if(D("#rc_reviewSwitch").val()=="true"){D(".third .fa-star").on("mouseover",function(){var L=D(this).attr("sval");var K=H._textForRating(L);D(this).parent().next().html(K);D(this).addClass("active");D(this).nextAll().removeClass("active");D(this).prevAll().addClass("active")});D(".third .fa-star").on("mouseout",function(){var L=D(this).parent().attr("_rateScore");var K=H._textForRating(L);D(this).parent().next().html(K);D(this).parent().find("i").each(function(M){if(L>M){D(this).addClass("active")}else{D(this).removeClass("active")}})});setTimeout(function(K){H._animateElements()},500);D(window).scroll(H._animateElements);if(reviewPgSrc&&reviewPgSrc=="PDP"){D(".product_review").on("click",".js-pdp-nav-sec",function(){D(window).scrollTo(D(D(this).attr("data-link-nav")).offset().top-60,1000)})}D(".pdp-e-i-ratereviewQA").on("click",".js-jl-omni",function(){getOmnitureScript({catalogId:D("#catalogId").val(),clickLink:D(this).attr("source")},"reviewJumpLink")})}D(".sidebar .sidebaroverlay, .sidebar .close1").click(function(){D("body").removeClass("lock");D(".sidebar").removeClass("open")});D("body").click(function(K){if(D(K.target).attr("id")==="ratings-details-box-outer"||D(K.target).parentsUntil("#ratings-details-box-outer").parent().attr("id")==="ratings-details-box-outer"){}else{if(D("#ratings-details-box-outer").is(":visible")){D("#ratings-details-box-outer").addClass("displaynone");D("a.showRatingTooltip").removeClass("attach-arrow")}}});D(".showRatingTooltip").on("click",function(K){K.stopPropagation();D(".popover,.tooltip,div.options").hide();D("a.showRatingTooltip").removeClass("attach-arrow");D("a.showRatingTooltip").addClass("attach-arrow");H._infogramBox(productId);getOmnitureScript({catalogId:D("#catalogId").val()},"ratingInfogram")});A.showReturnReplaceTooltip.on("click",function(K){K.stopPropagation();Snapdeal.tooltip.init({parent:D(this),position:"bottom",content:D("#policyengn-box-outer").html(),isPopOver:true,customClass:"policyEngineTooltip"})})},_customizeSelect:function(J){Snapdeal.selectCommonConfigure.customSelect(D(J))},_fetchUserInitial:function(){D(".reviewer-imgName").remove();D(".userimg").each(function(){var J=H._getRandomColorForUserImg(this,true);D(this).prepend(J)})},_fetchPostToken:function(J){if(E.USER.SDPT.TOKEN||E.USER.SDPT.REQ>=E.USER.SDPT.MAX_REQ){return }D.ajax({url:"/getSDPT",type:"GET",dataType:"json",success:function(M){E.USER.SDPT.REQ=++E.USER.SDPT.REQ;var L=M.items;if(L){E.USER.SDPT.TOKEN={};for(var K in L){E.USER.SDPT.TOKEN[K]=L[K]}}if(J){J.call()}},error:function(N,K,M){E.USER.SDPT.REQ=++E.USER.SDPT.REQ;var L=N.responseText;H._showMsgOnConsole(L.message)}})},_getPostToken:function(){if(E.USER.SDPT.TOKEN){var K="";for(var J in E.USER.SDPT.TOKEN){K+="&"+J+"="+E.USER.SDPT.TOKEN[J]}return K}},_tokenError:function(J){if(J.status==403){E.USER.SDPT.TOKEN="";H._fetchPostToken();return true}return false},_fetchUserActions:function(L){if(!window.loggedinUser){if(!L){window.showLogin()}}else{H._customizeSelect("#defaultReviewsCard");var J=[];D(".commentlist.jsUserAction").each(function(M){var N=this.getAttribute("id");N=N.replace("_reviewDiv","");J.push(N)});if(J.length>0){var K="/review/userAction/"+productId+"?reviewIds="+J;D.ajax({url:K,type:"GET",dataType:"JSON",success:function(O){D(".hf-review .hf-yes").removeClass("yesClicked");for(var M in O){var N=O[M];if(N.liked){var P=N.reviewId+"_reviewDiv";D("div[id="+P+"]").each(function(){var Q=D(this).find(".hf-review .hf-yes");if(Q){D(Q).addClass("yesClicked")}})}}},error:function(P,M,O){if(P.responseText){var N=JSON.parse(P.responseText);H._showMsgOnConsole(N.message)}}})}}},_fetchUserContent:function(K){if(!window.loggedinUser){window.showLogin()}else{var J="/review/userContent/"+productId;D.ajax({url:J,type:"GET",dataType:"JSON",success:function(M){C.RVW_CONST.CONFIG.NON_BUYER_FLAG=M.nonBuyerReviewFlag;C.RVW_CONST.CONFIG.BUYER=M.buyer;if(M.review){var L=M.review;C.RVW_CONST.REVIEW=L;C.RVW_CONST.REVIEW.ID=L.id;if(L.reviewed==true){H._markRatingStars(L.rating,true);D(".js-userReviewed").addClass("disabled");D(".fa-star").unbind("mouseover");D(".fa-star").unbind("mouseout");D(".fa-star").css("cursor","auto");D(".fa-star").prop("onclick",null);D("#rev-text span").text("Thank you for your review.")}else{if(L.reviewed==false&&L.rating>0){H._markRatingStars(L.rating,true)}}if(L.recommended){H._markUserRecommendation(L.recommended,true)}}},error:function(O,L,N){if(O.responseText){var M=JSON.parse(O.responseText);H._showMsgOnConsole(M.message)}}}).always(function(){if(K){K.call()}})}},_markRatingStars:function(L,M){C.isRatingDone=true;C.RVW_CONST.REVIEW.RATING=L;var K=document.getElementById("user-reviewRate-content-div");var J=H._textForRating(L);D(K).find(".rate-txt").html(J);D(K).find("strong").attr("_rateScore",L);D(K).find(".circle").attr("data-percent",L*20);if(M){D("#rev-text span").html("Thank you for your rating.")}else{D("#rev-text span").html("Thank you!<br />Your rating will reflect soon.")}D(K).find(".charttxt i").each(function(N){--L;if(L>=0){D(this).addClass("active")}else{D(this).removeClass("active")}});D(".chart3").addClass("fill-Circle");H._animateElements()},_markUserRecommendation:function(J,L){if(J=="ABSTAIN"){C.RVW_CONST.REVIEW.RECOMMENDATION="ABSTAIN";return }if(L){D("#rcmnd-text span").html("Thank you for your recommendation.")}else{D("#rcmnd-text span").html("Thank you!<br />Your recommendation will reflect soon.")}C.RVW_CONST.REVIEW.RECOMMENDATION=J;var K=document.getElementById("user-reviewRec-content-div");if(J=="YES"){D(K).find("#recBtn").addClass("disabled").removeClass("btn-blue");D(K).find("#notRecBtn").addClass("btn-blue").removeClass("disabled")}else{if(J=="NO"){D(K).find("#notRecBtn").addClass("disabled").removeClass("btn-blue");D(K).find("#recBtn").addClass("btn-blue").removeClass("disabled")}}},_animateElements:function(){D(".fill-Circle").each(function(M){var L=D(this).offset().top;var K=D(window).scrollTop();var N=D(this).find(".circle").attr("data-percent");var J=parseInt(N,10)/parseInt(100,10);if(L<K+D(window).height()-30){D(this).find(".circle").circleProgress({startAngle:-Math.PI/2,value:J,thickness:5,fill:{color:D(this).hasClass("chart")?"#f6b800":D(this).hasClass("chart2")?"#19bc9c":"#fb8c0a"}});D(this).removeClass("fill-Circle");if(window.location.href.indexOf("/reviews")<0&&M==0){getOmnitureScript({catalogId:D("#catalogId").val()},"pdpReviewsUserVisit")}}})},_textForRating:function(J){if(J<1){return"Rate it!"}else{if(J<1.1){return"Disappointing"}else{if(J<2.1){return"Bad"}else{if(J<3.1){return"Average"}else{if(J<4.1){return"Good"}}}}}return"Perfect"},_infogramBox:function(K){var J=D("#ratings-details-box-outer")[0];if(D(J).hasClass("displaynone")){D("#reviews-Overlay").addClass("popup-Overlay");D(J).removeClass("displaynone");if(!D(J).hasClass("infodata")){D(J).addClass("infodata");D(J).addClass("infogram-loader");var L="/review/stats/"+K;D.ajax({url:L,type:"GET",dataType:"html",success:function(M){D(J).append(M);D(J).removeClass("infogram-loader")},error:function(P,M,O){if(P.responseText){var N=JSON.parse(P.responseText);H._showMsgOnConsole(N.message)}D(J).removeClass("infodata")}})}}},_fetchHelpfulReviews:function(L,J){if(reviewPgSrc&&reviewPgSrc=="PDP"){H._searchOmniture("PDPReviewSortBy","Helpful");var M="/product/"+productId+"/reviews/ajax?sortBy=HELPFUL";if(L>0){M+="&rateFilter="+L}D.ajax({url:M,type:"GET",dataType:"html",success:function(O){D("#defaultReviewsCard").html(O);H._fetchUserActions(true);H._fetchUserInitial();Snapdeal.selectCommonConfigure.customSelect(D("#defaultReviewsCard"))},error:function(R,O,Q){if(R.responseText){var P=JSON.parse(R.responseText);H._showMsg(P.message)}}})}else{var N=window.location.href;if(L>0&&J==""){if(N.indexOf("ratedreviews")!=-1){var K=N.split("ratings=")[1].split("#defRevPDP")[0].split("&")[0];window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/ratedreviews?ratings="+K+"&sortBy=HELPFUL"+(L>0?("&rateFilter="+L):"")+"#defRevPDP"}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy=HELPFUL"+(L>0?("&rateFilter="+L):"")+"#defRevPDP"}}else{if(L>0&&J!=""){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?keywords="+J+"&sortBy=HELPFUL"+(L>0?("&rateFilter="+L):"")+"#defRevPDP"}else{if(L==0&&J==""){var N=window.location.href;if(N.indexOf("ratedreviews")!=-1){var K=N.split("ratings=")[1].split("#defRevPDP")[0].split("&")[0];window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/ratedreviews?ratings="+K+"&sortBy=HELPFUL#defRevPDP"}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy=HELPFUL#defRevPDP"}}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?keywords="+J+"&sortBy=HELPFUL#defRevPDP"}}}}},_fetchRecentReviews:function(L,J){if(reviewPgSrc&&reviewPgSrc=="PDP"){H._searchOmniture("PDPReviewSortBy","Recent");var M="/product/"+productId+"/reviews/ajax?sortBy=RECENCY";if(L>0){M+="&rateFilter="+L}D.ajax({url:M,type:"GET",dataType:"html",success:function(O){D("#defaultReviewsCard").html(O);H._fetchUserActions(true);H._fetchUserInitial();Snapdeal.selectCommonConfigure.customSelect(D("#defaultReviewsCard"))},error:function(R,O,Q){if(R.responseText){var P=JSON.parse(R.responseText);H._showMsg(P.message)}}})}else{var N=window.location.href;if(L>0&&J==""){if(N.indexOf("ratedreviews")!=-1){var K=N.split("ratings=")[1].split("#defRevPDP")[0].split("&")[0];window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/ratedreviews?ratings="+K+"&sortBy=RECENCY"+(L>0?("&rateFilter="+L):"")+"#defRevPDP"}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy=RECENCY"+(L>0?("&rateFilter="+L):"")+"#defRevPDP"}}else{if(L>0&&J!=""){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?keywords="+J+"&sortBy=RECENCY"+(L>0?("&rateFilter="+L):"")+"#defRevPDP"}else{if(L==0&&J==""){if(N.indexOf("ratedreviews")!=-1){var K=N.split("ratings=")[1].split("#defRevPDP")[0].split("&")[0];window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/ratedreviews?ratings="+K+"&sortBy=RECENCY#defRevPDP"}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy=RECENCY#defRevPDP"}}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?keywords="+J+"&sortBy=RECENCY#defRevPDP"}}}}},_fetchRatingFilteredReviews:function(M,N,L){if(reviewPgSrc&&reviewPgSrc=="PDP"){var J="/product/"+productId+"/reviews/ajax";if(M>0){H._searchOmniture("PDPReviewFilterBy",M+"star");J+="?rateFilter="+M;if(N=="HELPFUL"||N=="RECENCY"){J+="&sortBy="+N}else{if(N=="default"){J+="&sortBy="+rc_sortBy}}}else{if(N=="HELPFUL"||N=="RECENCY"){J+="?sortBy="+N}else{if(N=="default"){J+="?sortBy="+rc_sortBy}}}var K=D("#defaultReviewsCard")[0];D.ajax({url:J,type:"GET",dataType:"html",success:function(O){D(K).html(O);H._fetchUserActions(true);H._fetchUserInitial();Snapdeal.selectCommonConfigure.customSelect(D("#defaultReviewsCard"))},error:function(R,O,Q){if(R.responseText){var P=JSON.parse(R.responseText);H._showMsg(P.message)}}})}else{if(N=="RECENCY"&&L==""){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy=RECENCY"+(M>0?("&rateFilter="+M):"")+"#defRevPDP"}else{if(N=="RECENCY"&&L!=""){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?sortBy=RECENCY&keywords="+L+(M>0?("&rateFilter="+M):"")+"#defRevPDP"}else{if(N=="HELPFUL"&&L==""){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy=HELPFUL"+(M>0?("&rateFilter="+M):"")+"#defRevPDP"}else{window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?sortBy=HELPFUL&keywords="+L+(M>0?("&rateFilter="+M):"")+"#defRevPDP"}}}}},_navigateToWriteReviewPage:function(J,K){if(!window.loggedinUser){H._savePageState(J,K,"","isBuyer");window.showLogin()}else{var L="/review/isBuyer/"+K;D.ajax({url:L,type:"GET",dataType:"JSON",success:function(N){if(N.buyer==false){D(".js-userReviewed").addClass("disabled");D(".fa-star").unbind("mouseover");D(".fa-star").unbind("mouseout");D(".fa-star").css("cursor","auto");D(".fa-star").prop("onclick",null);D("#rev-text span").text("Only verified buyers are allowed to Write Review");D("html, body").animate({scrollTop:(D("#reviewsBlk").offset().top)},600);return }if(!C.RVW_CONST.CONFIG.NON_BUYER_FLAG&&!C.RVW_CONST.CONFIG.BUYER){return }var O=C.RVW_CONST.REVIEW.RECOMMENDATION&&C.RVW_CONST.REVIEW.RECOMMENDATION!="ABSTAIN"?"&recomm="+C.RVW_CONST.REVIEW.RECOMMENDATION:"";var M=C.RVW_CONST.REVIEW.RATING&&C.RVW_CONST.REVIEW.RATING!=0?"&rating="+C.RVW_CONST.REVIEW.RATING:"";window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/review/create?productId="+K+O+M+"&source=pdp"},error:function(P,M,O){if(H._tokenError(P)){return }if(P.responseText){var N=JSON.parse(P.responseText);H._showMsg(N.message)}}}).always(function(){localStorage.removeItem(K+"_rvw_content");D(J).removeClass("prevent-clicks");if(callback){callback.call()}})}},_submitSavedPost:function(M){var K=H._getSavedPageState();if(!K){if(M){M.call()}return }var J={};var L="";if(K.USER_STATE){J=K.USER_STATE;if(K.USER_STATE.type=="vote"){H._markReviewHelpfulAfterLogin(J.dis,J.productId,J.reviewId,M);L="vote"}if(K.USER_STATE.type=="rate"){H._rateProduct(J.obj,J.productId,J.reviewId,M);L="rate"}if(K.USER_STATE.type=="recommend"){H._recommendProduct(J.obj,J.productId,J.reviewId,M);L="recommend"}if(K.USER_STATE.type=="isBuyer"){H._navigateToWriteReviewPage(J.obj,J.productId);L="isBuyer"}H._removeSavedPageState()}else{if(M){M.call()}return }},_savePageState:function(K,M,J,L){var N={productId:M,reviewId:J,type:L};if(L=="vote"){N.dis=jQuery(K).hasClass("yesClicked")}var O=H._getSavedPageState();O=O?O:{};B.RVW_CONST.PAGE_STATE.USER_STATE=N;O.USER_STATE=N;console.log(O);localStorage.setItem(M+"_rvw_content",JSON.stringify(O));setTimeout(function(){H._removeSavedPageState()},1800000)},_removeSavedPageState:function(){localStorage.removeItem(productId+"_rvw_content")},_getSavedPageState:function(){var J=localStorage.getItem(productId+"_rvw_content");if(J){return JSON.parse(J)}},_markReviewHelpfulAfterLogin:function(K,L,J,O){if(!window.loggedinUser){H._savePageState(K,L,J,"vote");window.showLogin()}else{if(K!="true"){getOmnitureScript({catalogId:D("#catalogId").val(),pageSource:reviewPgSrc,reviewId:J},"markReviewHelpful")}var N=K!="true"?C.RVW_CONST.FEEDBACK.YES:C.RVW_CONST.FEEDBACK.UN_MARK;var M="/review/feedback?productId="+L+"&reviewId="+J+"&value="+N;M+=H._getPostToken();console.log("sdd");D.ajax({url:M,type:"POST",dataType:"JSON",success:function(P){var Q=J+"_reviewDiv";D("div[id="+Q+"]").each(function(){var R=D(this).find(".hf-num")[0];if(N==C.RVW_CONST.FEEDBACK.YES){D(this).find(".hf-yes").addClass("yesClicked");if(R){R.innerHTML=parseInt(R.innerHTML)+1}}else{if(N==C.RVW_CONST.FEEDBACK.UN_MARK){D(this).find(".hf-yes").removeClass("yesClicked");if(R){R.innerHTML=parseInt(R.innerHTML)-1}}}})},error:function(S,P,R){if(H._tokenError(S)){return }if(S.responseText){var Q=JSON.parse(S.responseText);H._showMsg(Q.message)}}}).always(function(){if(O){O.call()}})}},_markReviewHelpful:function(K,L,J,O){if(!window.loggedinUser){H._savePageState(K,L,J,"vote");window.showLogin()}else{if(D(K).hasClass("prevent-clicks")){return }else{D(K).addClass("prevent-clicks");if(D(K).hasClass("yesClicked")){getOmnitureScript({catalogId:D("#catalogId").val(),pageSource:reviewPgSrc,reviewId:J},"markReviewHelpful")}var N=K.className.indexOf("yesClicked")==-1?C.RVW_CONST.FEEDBACK.YES:C.RVW_CONST.FEEDBACK.UN_MARK;var M="/review/feedback?productId="+L+"&reviewId="+J+"&value="+N;M+=H._getPostToken();D.ajax({url:M,type:"POST",dataType:"JSON",success:function(P){var Q=J+"_reviewDiv";D("div[id="+Q+"]").each(function(){var R=D(this).find(".hf-num")[0];if(N==C.RVW_CONST.FEEDBACK.YES){D(this).find(".hf-yes").addClass("yesClicked");if(R){R.innerHTML=parseInt(R.innerHTML)+1}}else{if(N==C.RVW_CONST.FEEDBACK.UN_MARK){D(this).find(".hf-yes").removeClass("yesClicked");if(R){R.innerHTML=parseInt(R.innerHTML)-1}}}})},error:function(S,P,R){if(H._tokenError(S)){return }if(S.responseText){var Q=JSON.parse(S.responseText);H._showMsg(Q.message)}}}).always(function(){localStorage.removeItem(L+"_rvw_content");D(K).removeClass("prevent-clicks");if(O){O.call()}})}}},_rateProduct:function(J,L,K,N){if(!window.loggedinUser){H._savePageState(J,L,K,"rate");window.showLogin()}else{var M="/review/isBuyer/"+L;D.ajax({url:M,type:"GET",dataType:"JSON",success:function(P){if(P.buyer==false){H._markRatingStars(0);D(".js-userReviewed").addClass("disabled");D(".fa-star").unbind("mouseover");D(".fa-star").unbind("mouseout");D(".fa-star").css("cursor","auto");D(".fa-star").prop("onclick",null);D("#rev-text span").text("Only verified buyers are allowed to Write Review");D("html, body").animate({scrollTop:(D("#reviewsBlk").offset().top)},600);return }if(!C.isRatingDone){getOmnitureScript({email:D("#sharerEmail").val(),catalogId:D("#catalogId").val(),ratingValue:K,pageSource:reviewPgSrc},"rateProduct")}var O="/review/rate/"+L+"/create?rating="+K;if(C.RVW_CONST.REVIEW.ID&&C.RVW_CONST.REVIEW.ID!=""){O="/review/rate/"+L+"/update?rating="+K+"&reviewId="+C.RVW_CONST.REVIEW.ID}O+=H._getPostToken();D.ajax({url:O,type:"POST",dataType:"JSON",success:function(Q){H._markRatingStars(K);C.RVW_CONST.REVIEW.ID=Q&&Q.object?Q.object:C.RVW_CONST.REVIEW.ID},error:function(T,Q,S){if(H._tokenError(T)){return }if(T.responseText){var R=JSON.parse(T.responseText);H._showMsg(R.message)}}}).always(function(){localStorage.removeItem(L+"_rvw_content");if(N){N.call()}})},error:function(R,O,Q){if(H._tokenError(R)){return }if(R.responseText){var P=JSON.parse(R.responseText);H._showMsg(P.message)}}})}},_recommendProduct:function(J,K,N,O){if(!window.loggedinUser){H._savePageState(J,K,N,"recommend");window.showLogin()}else{if(D(J).hasClass("disabled")||D(J).hasClass("prevent-clicks")){return }else{D(J).addClass("prevent-clicks");getOmnitureScript({catalogId:D("#catalogId").val(),recommendValue:N,pageSource:reviewPgSrc},"recommendReview");var M="/review/recommendation/"+K+"/create?rec="+N;var L=C.RVW_CONST.REVIEW.RECOMMENDATION;if(C.RVW_CONST.REVIEW.ID&&C.RVW_CONST.REVIEW.ID!=""){M="/review/recommendation/"+K+"/update?";if(L==N){N="ABSTAIN"}M+="rec="+N+"&reviewId="+C.RVW_CONST.REVIEW.ID}M+=H._getPostToken();D.ajax({url:M,type:"POST",dataType:"JSON",success:function(P){H._markUserRecommendation(N);C.RVW_CONST.REVIEW.ID=P&&P.object?P.object:C.RVW_CONST.REVIEW.ID},error:function(S,P,R){if(H._tokenError(S)){return }if(S.responseText){var Q=JSON.parse(S.responseText);H._showMsg(Q.message)}}}).always(function(){localStorage.removeItem(K+"_rvw_content");D(J).removeClass("prevent-clicks");if(O){O.call()}})}}},_getRandomColorForUserImg:function(N,J){if(J){var L="U";if(N){var M=D(N).find("._reviewUserName")[0];if(M){L=M.innerHTML;L=L?L.substr(0,1).toUpperCase():""}}var K=B.COLORS[Math.floor(Math.random()*B.COLORS.length)];return'<span class="reviewer-imgName" style="background:'+K+'">'+(L)+"</span>"}else{return'<span class="reviewer-imgName"></span>'}},_showSuccessMsg:function(J){D(".review-alert-success").show();D(window).scrollTo(D(".customer_review_tab"),600);D(".alert-success").text(J?J:"Feedback Submitted");setTimeout(function(){D(".review-alert-success").hide()},5000)},_showMsg:function(J){D(".review-alert-error").show();D(window).scrollTo(D(".customer_review_tab"),400);D(".alert-failure").text(J?J:"Server Error");setTimeout(function(){D(".review-alert-error").hide()},5000)},_showMsgOnConsole:function(J){console.log(J?J:"Server Error")},_searchReviews:function(K,L,N){H._searchOmniture("SubmitSearchReview","");if(reviewPgSrc&&reviewPgSrc=="PDP"){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/searchReviews/"+productId+"?keywords="+K+(L>0?("&rateFilter="+L):"")+"&sortBy="+N+"#defRevPDP"}else{var M="/searchReviews/"+productId+"/ajax?keywords="+K+"&sortBy="+N;var J="/searchReviews/"+productId+"?keywords="+K+"&sortBy="+N;if(L>0){M+="&rateFilter="+L;J+="&rateFilter="+L}D("#loadingmessage").show();D("#resetImg").hide();D.ajax({url:M,type:"GET",dataType:"html",success:function(Q){I=1;var P=D("#searchReviewsBox").val();D("#defaultReviewsCard").html(Q);window.history.pushState({html:Q,url:J},"",J);H._fetchUserActions(true);H._fetchUserInitial();Snapdeal.selectCommonConfigure.customSelect(D("#defaultReviewsCard"));D("#loadingmessage").hide();D("#resetImg").show();var O=document.getElementById("searchReviewsBox");O.value=P;O.focus();O.setSelectionRange(O.value.length,O.value.length)},error:function(R,O,Q){if(R.responseText){var P=JSON.parse(R.responseText);H._showMsg(P.message)}}})}},_resetReviews:function(J){location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?sortBy="+J+"#defRevPDP"},_searchOmniture:function(L,J){var K={email:D("#sharerEmail").val(),catalogId:D("#catalogId").val()};if(J){K.clickLink=J}getOmnitureScript(K,L)},_positiveReviews:function(){var J="4,5";H._searchOmniture("ViewAllPositiveReviews","");window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/ratedreviews?ratings="+J+"#defRevPDP"},_negativeReviews:function(){var J="1,2,3";H._searchOmniture("ViewAllNegativeReviews","");window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/ratedreviews?ratings="+J+"#defRevPDP"},_showPopup:function(J){D("#"+J).css("display","block")},_hidePopup:function(J){D("#"+J).css("display","none")},_readReviewScroll:function(){var M=".commentreview";var K=D(M).offset().top;var J=D(window).scrollTop();var L=D(M).height();if(J>K+L){if(C.readReviewScroll==false){C.readReviewScroll=true;H._searchOmniture("PDP_Scroll_RecentReviews","")}}}};F={init:function(){return H._init.apply(this,arguments)},fetchUserInitial:function(){H._fetchUserInitial()},fetchHelpfulReviews:function(J,L,K){H._fetchHelpfulReviews(L,K)},fetchRecentReviews:function(J,L,K){H._fetchRecentReviews(L,K)},applyRatingFilter:function(J,L,K){H._fetchRatingFilteredReviews(J.value,L,K)},displayReviewsWithRatingFilter:function(K,J,L){if(J&&J>0&&J<6){H._fetchRatingFilteredReviews(J,L,keywords)}else{if(J==0){H._fetchRatingFilteredReviews(0,L,keywords)}}if(reviewPgSrc!=undefined){getOmnitureScript({catalogId:D("#catalogId").val(),ratingFilter:J,sortBy:L,pageSource:reviewPgSrc,clickLink:D(this).attr("source")},"ratingFilterBar")}},rateProduct:function(J,L,K){if(!L||!K||K<0||K>6){return }H._rateProduct(J,L,K)},recommendProduct:function(J,K,L){if(!K||!L){return }H._recommendProduct(J,K,L)},navigateToHelpfulReviewsPage:function(J,K,L){window.location.href=(window.location.protocol?window.location.protocol+"//":"")+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+productPageUrl+"/reviews?page=2&sortBy=HELPFUL"+(K&&K>0?"&rateFilter="+K:"")},searchReviewsClickOmniture:function(){H._searchOmniture("ClickOnSearchReview","");return true},writeReview:function(J,K){if(D(J).hasClass("disabled")){return }else{H._navigateToWriteReviewPage(J,K)}},markReviewHelpful:function(K,J){H._markReviewHelpful(K,window.productId,J)},textForRating:function(J){H._textForRating(J)},searchReviews:function(J,K,L){if(J.match(/^\s*$/)&&reviewPgSrc=="PDP"){return }else{if(J.match(/^\s*$/)&&reviewPgSrc!="PDP"){H._resetReviews(L)}else{H._searchReviews(J,K,L)}}},resetReviews:function(J){H._resetReviews(J)},positiveReviews:function(){H._positiveReviews()},negativeReviews:function(){H._negativeReviews()},showReviewPopup:function(J){if(J=="reviewPopupForPositiveReview"){H._searchOmniture("ReadMoreReviews","positiveReviews")}else{H._searchOmniture("ReadMoreReviews","negativeReviews")}H._showPopup(J)},hideReviewPopup:function(J){H._hidePopup(J)}};return F})(window.jQuery,Snapdeal);$(document).ready(function(){Snapdeal.pdpReview.init()});
var Snapdeal=Snapdeal||{};Snapdeal.pdpSelfies=(function(F,D){var C,B,A,E;E={slider:null,enlargedSelfie:null,enlargedViewData:null,slideIndex:1,slideData:{},slideDataLength:0,selfieMaxSlides:5,slideCount:0,eid:Snapdeal.Cookie.get("eid")||"",selfieHeadline:"Selfie",};A={pdpSelfieSliderDiv:F("#pdp-selfie-div"),productIdDiv:F("#productId"),selfieBlock:F("#selfiesBlk"),selfieProducts:F("#pdp-selfie-div .selfie-product"),selfieSliderWidget:F("#selfieSliderWidget"),selfieClass:F(".selfieClass"),selfieCountHeader:F("#selfieCount"),selfieCountValue:F(".selfieCountValue"),};B={_init:function(){B._bindEvents();B._afterWindowLoad()},_bindEvents:function(){A.pdpSelfieSliderDiv.on("click",".selfie-product",B._openEnlargedView);A.pdpSelfieSliderDiv.on("click",".sd-icon-previous",B._onSlidePrev)},_openEnlargedView:function(H){getOmnitureScript({email:E.eid,productId:A.productIdDiv.val(),launchPlatform:"web"},"selfieTrainConsume");E.enlargedViewData=null;E.selfieHeadline=F(this).find(".selfie-headLine").html()||"Selfie";E.enlargedViewData=F(this).clone();E.enlargedSelfie=E.enlargedViewData.find(".imgBlock img");E.enlargedSelfie[0].src="";Snapdeal.sidebar.open(E.enlargedViewData,E.selfieHeadline,"selfieClass");A.selfieClass=F(".selfieClass");A.selfieClass.find(".sidebarin-content").hide();Snapdeal.sidebar.showLoader();var G=new Image();G.onload=function(){E.enlargedSelfie[0].src=E.enlargedSelfie.data("enlargedimg");Snapdeal.sidebar.hideLoader();A.selfieClass.find(".sidebarin-content").show()};G.src=E.enlargedSelfie.data("enlargedimg")},_onSlideNext:function(){getOmnitureScript({email:E.eid,productId:A.productIdDiv.val(),launchPlatform:"web"},"selfieViewCount");if(E.slideDataLength==(E.slideIndex+1)*E.selfieMaxSlides){B._getSelfies()}E.slideIndex++},_onSlidePrev:function(){if(E.slideIndex>1){E.slideIndex--}},_reloadSelfieSlider:function(){var H=E.slider.getCurrentSlide()-1;var G={pager:false,slideMargin:0,slideWidth:183,useCSS:false,prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',startSlide:H,minSlides:3,maxSlides:5,auto:false,infiniteLoop:false,hideControlOnEnd:true,onSlideNext:B._onSlideNext};E.slider.reloadSlider(G);E.slider.goToSlide(H+1)},_initialiseSelfieSlider:function(){var G={pager:false,slideMargin:0,slideWidth:183,useCSS:false,prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',minSlides:3,maxSlides:5,auto:false,infiniteLoop:false,hideControlOnEnd:true,onSlideNext:B._onSlideNext};E.slider=A.selfieSliderWidget.bxSlider(G)},_getSelfies:function(){function G(H){if(H!=null||H!=undefined){var I=A.selfieBlock;I.find("#selfieSliderWidget").append(H);Snapdeal.pdpReview.fetchUserInitial();A.selfieProducts=A.pdpSelfieSliderDiv.find(".selfie-product");if(A.selfieProducts.length>0){I.removeClass("hidden")}E.slideDataLength=A.selfieProducts.length;E.slideCount=E.slideDataLength;if(E.slideIndex>1){B._reloadSelfieSlider()}else{A.selfieCountValue=A.selfieSliderWidget.find(".selfieCountValue");A.selfieCountHeader.append(A.selfieCountValue.val());if(A.selfieProducts.length>E.selfieMaxSlides){B._initialiseSelfieSlider()}}}else{return }}F.ajax({url:"/web/getSelfieList?productId="+A.productIdDiv.val()+"&offset="+E.slideCount,type:"GET",success:G,error:function(){}})},_afterWindowLoad:function(){F(window).load(function(){B._getSelfies()})}};C={init:function(){return B._init.apply(this,arguments)},};return C})(window.jQuery,Snapdeal);if($("#isSelfieEnabled").val()=="true"){Snapdeal.pdpSelfies.init()};

var Snapdeal=Snapdeal||{};Snapdeal.recentlyViewed=(function(G,D){var C,B,A,F,E=G("#recentlyViewedBlk");A={catId:G("#catId").val()||"",pogId:G("#pogId").val()||"",$recentlyBlk:G("#recentlyViewedBlk"),$recentlyOuter:E.find(" #recViewedProductOuter"),$pageName:G("#containerPage").val()?G("#containerPage").val():""};F={};F.currentPOG=null;B={_init:function(H){F.currentPOG=A.catId+":"+A.pogId;F.maxItems=H.maxItems;F.pogArr=B._getPogIDs();G("#recentlyViewedCount").val(F.pogArr.length);B._addCurrentPogID();if(F.pogArr.length<H.minItems){return false}E.addClass("ajaxified");G(window).load(function(){B._fetchItems()})},_getPogIDs:function(){var K=Snapdeal.localStorage.getItem("plStore-recentlyViewed")||"";var H=K.split(",");var J=F.currentPOG;H=H.filter(function(L){if(G.trim(L)){return true}});var I=H.indexOf(J);while(I>-1){H.splice(I,1);I=H.indexOf(J)}if(H.length>F.maxItems){H=H.slice(0,F.maxItems-1)}return H},_addCurrentPogID:function(){if(A.catId&&A.pogId){var H=F.currentPOG+","+F.pogArr.join(",");Snapdeal.localStorage.setItem("plStore-recentlyViewed",H);return true}},_removePogID:function(N){N.stopPropagation();N.preventDefault();var L=G(N.target).closest(".recent-viewed-product").addClass("deleted");var O=L.find(".pogKey").val();var K=Snapdeal.localStorage.getItem("plStore-recentlyViewed")||"";var H=K.split(",");var I=G("<div/>",{"class":"item-overlay"});var M=G("<button/>",{"class":"btn del-lbl",text:L.attr("data-del-txt")}).appendTo(I);I.appendTo(L);var J=H.filter(function(P){return !(P.indexOf(O)>-1)});Snapdeal.localStorage.setItem("plStore-recentlyViewed",J.join(","));return true},_fetchItems:function(){var H=F.pogArr.map(function(I){return I.substring(I.indexOf(":")+1)}).join(",");G.ajax({url:Snapdeal.getAjaxResourcesPath("/ghprvp?ids=")+H,dataType:"html"}).success(B._renderItems)},_renderItems:function(H){if(H.length==0){return true}A.$recentlyOuter.html(H);E.removeClass("hidden");E.find(" .recent-viewed-widget-wrapper").on("click","li",function(){var J=G(this).index()+1;var K=G(this).children(".pogKey").attr("value");var I=G("body").attr("data-pagename");Snapdeal.Cookie.set("track","HID=recView_"+I+"_"+J+"_"+K)});E.find(" .recent-viewed-widget-wrapper").on("click",".del-ico-wrp",B._removePogID);B._applyBxSlider();G(window).scroll()},_applyBxSlider:function(){var J=A.$recentlyOuter.find("li.recent-viewed-product "),M=G(J[0]).outerWidth(true),L=M*J.length,K=G(".bxslider1"),I=K.innerWidth();var N={"default":{prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',slideWidth:M,pager:false,slideMargin:20,infiniteLoop:true,auto:false,minSlides:3,maxSlides:8,moveSlides:Math.floor((I)/(M+40))},homePage:{prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',slideWidth:175,pager:false,slideMargin:0,infiniteLoop:true,auto:false,minSlides:3,maxSlides:5}};if(I<L){var H={};if(A.$pageName.length&&N[A.$pageName]){H=N[A.$pageName]}else{H=N["default"]}K.bxSlider(H)}}};C={init:function(){return B._init.apply(this,arguments)},};return C})(window.jQuery,Snapdeal);Snapdeal.recentlyViewed.init({minItems:$("#minRecommendationCnt").val()||2,maxItems:$("#maxRecommendationCnt").val()||25});
var Snapdeal=Snapdeal||{};Snapdeal.stickyHeader=(function(G,E){var D,C,A,H,F,B;H={selector:"#pdpNavBarWrp",header:"#sdHeader",pdpSection:".pdp-section:visible, .pdp-section.ajaxified",};B=G(H.selector);A={$pdpNavListWrp:B.find("#pdpNavListWrp"),$moreNavOpts:B.find("#moreNavOpts"),$navListItmActive:B.find(".nav-list-itm.active"),$pdpNavList:B.find("#pdpNavList")};F={};F.navBarEnd=99999;F.navLastBlk=99999;C={_init:function(I){C._render();F.firstFoldBlk=G(G(".nav-list-itm").not(".template").first().find(".pdp-nav-lnk").attr("href"));F.firstFoldHeight=F.firstFoldBlk.offset().top+F.firstFoldBlk.outerHeight(false)-G(H.header).height()*1.2-20;G(window).scroll(Snapdeal.utility.debounce(C._scrollfn,100));G(".pdp-e-i-ratereviewQA").on("click",".js-pdp-nav-sec",function(){G("html, body").animate({scrollTop:G(G(this).attr("data-link-nav")).offset().top-G(H.selector).height()*1.1},600)});G("body").scrollspy({target:"#pdpNavListWrp",offset:G(H.selector).height()*1.2});A.$pdpNavListWrp.on("click",".pdp-nav-lnk",C._scrollTo);G("#cartModal").on("updateCartQty",function(J,K){G("#cartCnt").text(K.cartQty)});G("#cartIcon").on("click",function(){Snapdeal.shoppingCart.showCart("stickyHeader")});if(A.$moreNavOpts.is(":visible")){A.$pdpNavListWrp.on("activate.bs.scrollspy",function(){if(A.$navListItmActive.index()==6){var J=G(A.$navListItmActive.find("a").attr("href"));F.navBarEnd=J.outerHeight()+J.offset().top-80;F.navLastBlk=J.offset().top-80}else{A.$moreNavOpts.removeClass("active");A.$pdpNavList.find(".nav-list-itm:last-child").removeClass("active")}})}A.$moreNavOpts.on("click",C._showMoreOptns);G("#drpDownList").on("click",".pdp-nav-lnk",C._scrollTo)},_scrollfn:function(){if(A.$navListItmActive.index()==6||A.$moreNavOpts.hasClass("active")){var I=G(G(".nav-list-itm:last-child").find("a").attr("href"));F.navBarEnd=I.outerHeight()+I.offset().top-80;F.navLastBlk=I.offset().top-80;if(G(window).scrollTop()>F.navBarEnd){A.$navListItmActive.removeClass("active");A.$moreNavOpts.addClass("active")}else{if(G(window).scrollTop()>F.navLastBlk){A.$pdpNavList.find(".nav-list-itm:last-child").addClass("active");A.$moreNavOpts.removeClass("active")}}}if(G(window).scrollTop()>F.firstFoldHeight){B.removeClass("disappear")}else{B.addClass("disappear");G(document).trigger("click")}},_render:function(){var P,J,L,R,Q,S=[],T=G(H.pdpSection).not(".hideNavLnk"),M=G.makeArray(T),I=A.$pdpNavList,O=I.find(".template"),N=0;while(N<M.length){Q=G(M[N++]);J=Q.attr("id");P=Q.data("navLabel");if(Q.data("navCount")&&parseInt(Q.find(".sectionCount").val())>0){L=Q.find(".sectionCount").val()}else{L=null}var K=O.clone().removeClass("template");K.find("a").attr("href","#"+J).find(".nav-label").text(P);L?(K.find(".label-cnt").text(L)):(K.find(".label-cnt").remove());S.push(K[0].outerHTML)}G(S.splice(0,6).join("")).appendTo(I);if(S.length>0){G(S.join("")).appendTo("#drpDownList");A.$moreNavOpts.removeClass("hidden")}},_scrollTo:function(L){L.preventDefault();var K=G(this).find(".nav-label").html();var I=G(L.target).closest("a").attr("href");G("html, body").animate({scrollTop:G(I).offset().top-G(H.selector).height()*1.1},200);var J=G("#catUrl").val();getOmnitureScript({catalogId:G("#catalogId").val(),categoryUrl:J,label:K},"pdpNavigationBar")},_showMoreOptns:function(J){J.preventDefault();J.stopPropagation();Snapdeal.rippleWidget.rippleCallBack(G(J.target).parents("li"),J);var I=G(J.target),L=I.closest(".pdp-nav-lnk");var K=I.closest(".nav-list").find(".nav-drop-dwn").toggleClass("dropshow");G(document).one("click",function(){K.removeClass("dropshow")});Snapdeal.rippleWidget.rippleCallBack(G(this).find("#moreNavLnk"),J)}};D={init:function(){return C._init.apply(this,arguments)}};return D})(window.jQuery,Snapdeal);$(document).ready(Snapdeal.stickyHeader.init);
var Snapdeal=Snapdeal||{};Snapdeal.productDescription=(function(D,H){var G,I,E,C,M,K,F,L,B,J,A;C={accordionWrap:"#productSpecs",title:".spec-title-wrp",body:".spec-body",section:".spec-section",productAttributes:"#product-attr-options",highlightSupc:"#highlightSupc"};A={$walletCashBackModal:D("#walletCashBackModal"),$pdpToastMessageWrapper:D("#pdpToastMessageWrapper")};E={};M=C.accordionWrap;K=C.title;F=C.body;L=C.section;B=C.productAttributes;J=C.highlightSupc;I={_init:function(){D(M).on("click",K,I._accordion);D(B).on("productAttrSelected",I._updateSupcInHighlight);D(B).on("disabledAttributeClicked",function(P,O){var N="";if(O.isSelectBox){N=O.objClicked.find(":selected").attr("supc")}else{N=O.objClicked.attr("supc")}I._updateSupcInHighlight(P,O,N)});I._wCBPopUpForTC();if(A.$pdpToastMessageWrapper.length>0){I._toastMessage(D("#toastMessageForPriceChange").val())}},_accordion:function(){D(this).closest(L).toggleClass("expanded collapsed").find(F).slideToggle("fast")},_updateSupcInHighlight:function(P,O,N){D(J).text("SUPC: "+N)},_wCBPopUpForTC:function(){var O=function(V){D(".wCBTooltipClass").hide();N(D("#viewTnCPopUpMsg").val());T();A.$walletCashBackModal.removeClass("hiddden");Q();A.$walletCashBackModal.removeClass("invisible");U()};var U=function(){getOmnitureScript({catalogId:D("#catalogId").val(),cashBackValue:D("#pdpWalletCashBackOmni").val()||0},"viewTnCPopUpButton")};var S=function(V){R();A.$walletCashBackModal.addClass("hiddden invisible")};var P=function(V){if(V.keyCode==27){S()}};var T=function(){D(document.body).addClass("overFlowHidden")};var R=function(){D(document.body).removeClass("overFlowHidden")};var N=function(W){var V=D("#pDPWalletCashBackBlck .cashBackColor").text();V=V.replace(/Rs\./i,"").trim();W=W.replace(/XXX/i,V).trim();A.$walletCashBackModal.find(".wCBMTextGray").text(W)};var Q=function(){if((A.$walletCashBackModal.find(".wCBImageBanner").length>0)){A.$walletCashBackModal.find(".wCBMText").removeClass("margTN28");A.$walletCashBackModal.find(" .wCBMWrapper").css("height",+(D(".wCBImageBanner").height())+ +(D(".wCBMText").height()))}else{A.$walletCashBackModal.find(".wCBMText").addClass("margTN28");A.$walletCashBackModal.find(".wCBMWrapper").css("height",+(D(".wCBMText").height())+ +(D(".wCBMWFreeChargeIcon").height()-26))}};D(document).on("click","#buyPriceBox .pDPWCBBDiv",O);D(document).on("click",".wCBSoldOut .pDPWCBBDiv",O);D(document).on("click",".wCBMButtonOk",S)},_toastMessage:function(N){A.$pdpToastMessageWrapper.show();A.$pdpToastMessageWrapper.find(".toastActualMessage").text(N);A.$pdpToastMessageWrapper.delay(1000).fadeOut("slow");getOmnitureScript({catalogId:D("#catalogId").val(),cashBackValue:D("#pdpWalletCashBackOmni").val()||0},"priceChangePopUp")},};G={init:function(){return I._init.apply(this,arguments)}};return G}(window.jQuery,Snapdeal));$(document).ready(function(){Snapdeal.productDescription.init()});
var Snapdeal=Snapdeal||{};Snapdeal.leftImagePanel=(function(F,K){var I,L,A,E,C,G;var J=0;var D=9999,H=0,B=true;E={pdpType:"electronics",timeout:0};A={dragonVideoSwitch:F("#dragonVideoSwitch").val(),catwalkVideoUrlFlag:F("#catwalkVideoUrlFlag").val(),$spIcon:F(".comp-social-pressure-icon"),$spTile:F(".social-pressure-container")};L={_bxSliderLeftImagePanel:"",_bxSliderLeftImagePanelPager:"",_bxSliderModal:"",_bxSliderModalPager:"",_init:function(M){C=F.extend(true,{},E,M);L._createLeftImagePanelSlider();L._createLeftImagePanelSliderPager(true);F(window).load(function(){L._autoPlayVideo(F(".videoImg"),"carousel",true);F(".vidiconPager").addClass("sd-icon-play-video");L._lazy()});F(document).ready(function(){if(L._catwalkEnabled()){var N=F("#bx-pager-left-image-panel a");var O=N[N.length-1].getElementsByTagName("img");(function P(){if(F(O).attr("src")){if(F("#catwalkFlag").val()=="true"){L._playCatwalkVideo()}if(L._catwalkEnabled()){L._catwalkOmniture("CatWalk_VideoOnLoad")}F(window).scroll(L._catWalkScrolledDown)}else{setTimeout(P,50)}}())}});F("#product-attr-options").on("productAttrSelectedChangeImage",function(P,N,O){L._updateLeftimagePanelSliderImage(N,O)})},_createLeftImagePanelSlider:function(){var Q=F("#bx-slider-left-image-panel");var O=F("#bx-slider-left-image-panel li");var N=O.find("img");var M=O.length;if((C.pdpType=="automobiles")||(C.pdpType=="furniture")){if(M>2){L._bxSliderLeftImagePanel=Q.bxSlider({pagerCustom:"#bx-pager-left-image-panel",slideWidth:460,minSlides:1,maxSlides:1,moveSlides:1,speed:500,nextText:"",prevText:"",adaptiveHeight:true,adaptiveHeightSpeed:0,onSliderLoad:function(){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){setTimeout(function(){L._bxSliderLeftImagePanel.redrawSlider()},0)}},onSlideNext:function(T,S,R){L._autoPlayVideo(F("#vid"+(R+1)),"carousel",false);setTimeout(function(){L._callAdjustCarouselImages(R)},150);J=R},onSlidePrev:function(T,S,R){L._autoPlayVideo(F("#vid"+(R+1)),"carousel",false);setTimeout(function(){L._callAdjustCarouselImages(R)},150);J=R},slideMargin:40});var P=F(".left-panel-carousel > .bx-wrapper");P.first().css("max-width","1000px");O.removeClass("slidePanelChildfst");N.css("max-width","100%");P.addClass("clearfix");P.find(".bx-next").addClass("sd-icon sd-icon-next");P.find(".bx-prev").addClass("sd-icon sd-icon-previous");Q.find(".slidePanelChildfst ").removeClass("slidePanelChildfst")}else{L._bxSliderLeftImagePanel=Q.bxSlider({pagerCustom:"#bx-pager-left-image-panel",mode:"fade",speed:0,useCSS:true,controls:false,adaptiveHeight:true,adaptiveHeightSpeed:0});var P=F(".left-panel-carousel > .bx-wrapper");O.removeClass("slidePanelChildfst");M==2?P.css("max-height","517px"):P.css("max-height","375px")}}else{L._bxSliderLeftImagePanel=Q.bxSlider({pagerCustom:"#bx-pager-left-image-panel",mode:"fade",speed:0,useCSS:true,controls:false,adaptiveHeight:true,adaptiveHeightSpeed:0})}F("#bx-pager-left-image-panel").on("mouseover","a",function(){var T=this;var R=F(T).attr("data-slide-index");var V=parseInt(R)+1;var U=F("#bx-slider-left-image-panel li");var S=U.length;if((C.pdpType=="automobiles")||(C.pdpType=="furniture")){if(S>2&&R!=J){F("#bx-slider-left-image-panel").removeClass("transformOnload");L._autoPlayVideo(F("#vid"+V),"carousel",false);window.clearTimeout(E.timeout);E.timeout=window.setTimeout(function(){setTimeout(function(){F(T).hasClass("videoPager")?L._adjustCarouselImages(R,"video"):L._adjustCarouselImages(R,"image")},150);J=F(T).attr("data-slide-index");L._bxSliderLeftImagePanel.goToSlide(R)},500)}else{L._autoPlayVideo(F("#vid"+V),"carousel",false);L._bxSliderLeftImagePanel.goToSlide(F(this).attr("data-slide-index"))}}else{L._autoPlayVideo(F("#vid"+V),"carousel",false);L._bxSliderLeftImagePanel.goToSlide(F(this).attr("data-slide-index"));if(L._catwalkEnabled()){if(L._isvideoNotComplete()&&B){B=false;L._catwalkOmniture("CatWalk_VideoNotWatched")}}}});F(".bx-controls-direction").on("click","a",function(){F("#bx-slider-left-image-panel").removeClass("transformOnload")});F("#bx-slider-left-image-panel").on("mouseenter","li",function(){F(this).find(".bigImage").next(".zoomPad").addClass("zoomIcon")}).on("mouseleave","li",function(){F(this).find(".bigImage").next(".zoomPad").removeClass("zoomIcon")});F("#bx-slider-left-image-panel").on("mousemove",".bigImage",function(S){var R=F(this);var T=R.offset();R.next(".zoomIcon").css({left:S.pageX-T.left-60,top:S.pageY-T.top-60})});Q.find("li").removeClass("hidden")},_initVideoPlayer:function(P,S,O,R,Q,M,N){if(P){jwplayer(S).setup({playlist:[{image:R,sources:[{file:P},{file:Q}]}],width:"100%",height:M,autostart:N,skin:{name:"stormtrooper",},backcolor:"transparent",wmode:"transparent",events:{onReady:function(){if(C.pdpType=="automobiles"){var T=F("#"+S);F(T).attr("slideNum",O)}},onComplete:function(){}}})}},_adjustCarouselImages:function(N,Q){var M=F(".bigImage");var P=F(".smallImage");var R=F(".leftSmallImg");var O=Q=="image"?F('.smallImage[slidenum="'+N+'"]'):F("#vid"+(parseInt(N)+1)+'[slidenum="'+N+'"]');F('.smallImage[slidenum="'+N+'"]').addClass("bigImage");F(O).parent().prev().find(".smallImage").addClass("leftSmallImg");R.removeClass("leftSmallImg");M.removeClass("bigImage")},_autoPlayVideo:function(N,Q,P){if(N.length>0){if((C.pdpType=="automobiles")||(C.pdpType=="furniture")){F("#bx-slider-left-image-panel .bx-clone").find(".videoImg").attr("id","")}var O=C.pdpType=="fashion"?1:0;var M=Q=="carousel"?F(".left-panel-carousel .bx-viewport").eq(O).height():F("#pdp-"+C.pdpType+"-leftpanel-zoom-modal .bx-viewport").eq(1).height();L._initVideoPlayer(N.eq(0).prev(".mainVideoUrl").val(),N.eq(0).attr("id"),N.eq(0).attr("slideNum"),N.eq(0).prev().prev().val(),N.eq(0).next("i").next(".fallbackVideoUrl").val(),M,P);N.eq(0).next("i").hide()}},_callAdjustCarouselImages:function(M){F('a[data-slide-index="'+M+'"]').hasClass("videoPager")?L._adjustCarouselImages(M,"video"):L._adjustCarouselImages(M,"image")},_createLeftImagePanelSliderPager:function(Q){var P=F("#bx-pager-left-image-panel");if(C.pdpType=="fashion"){L._bxSliderLeftImagePanelPager=P.bxSlider({minSlides:5,maxSlides:5,mode:"vertical",slideWidth:50,slideMargin:8,moveSlides:1,pager:false,infiniteLoop:false,hideControlOnEnd:true,nextText:"",prevText:""})}else{L._bxSliderLeftImagePanelPager=P.bxSlider({minSlides:1,maxSlides:5,slideWidth:50,slideMargin:8,moveSlides:1,pager:false,useCSS:true,infiniteLoop:false,hideControlOnEnd:true,nextText:"",prevText:""})}var N=F(".left-panel-carousel .bx-controls-direction");if(C.pdpType=="fashion"){var O=F("#bx-pager-left-image-panel a");var M=F("#bx-pager-left-image-panel");if(O.length<6){M.parent().next().addClass("hidden")}else{M.parent().css("marginTop","15px")}N.find(".bx-next").addClass("sd-icon sd-icon-expand-arrow hidden");N.find(".bx-prev").addClass("sd-icon sd-icon-collapse-arrow hidden")}else{var O=F("#bx-pager-left-image-panel a");if(O.length<6){}else{}N.find(".bx-next").addClass("sd-icon sd-icon-next hidden");N.find(".bx-prev").addClass("sd-icon sd-icon-previous hidden")}if(Q){F(window).on("load",function(){L._commonFunctionForPager(P,N)})}else{L._commonFunctionForPager(P,N)}},_commonFunctionForPager:function(N,M){setTimeout(function(){N.find("a").removeClass("notVisible")},200);setTimeout(function(){M.find(".bx-prev,.bx-next").removeClass("hidden");if(C.pdpType=="fashion"&&((navigator&&navigator.vendor&&navigator.userAgent&&navigator.vendor.indexOf("Apple")==0&&/\sSafari\//.test(navigator.userAgent))||(navigator&&/firefox/i.test(navigator.userAgent)))){var Q=F("#bx-pager-left-image-panel");var R=Q.find("a img");var O=R.length;var P=R.height();Q.parent().height((5*P)+40)}},500)},_commonFunctionForModalPager:function(N,M){setTimeout(function(){N.find("a").removeClass("notVisible")},200);setTimeout(function(){M.find(".bx-prev,.bx-next").removeClass("hidden");if(navigator.appVersion.indexOf("MSIE 9.")!=-1){var Q=F("#bx-pager-modal");var R=Q.find("a img");var O=R.length;var P=R.height();Q.parent().height((5*P)+40)}},500)},_createLeftImageSliderModal:function(M){if(!L._bxSliderModal){L._bxSliderModal=F("#bxsliderModal").bxSlider({pagerCustom:"#bx-pager-modal",mode:"fade",speed:0,keyboardEnabled:true,infiniteLoop:false,hideControlOnEnd:true,nextText:"",prevText:"",onSlideNext:function(Q,P,O){L._autoPlayVideo(F("#vid"+O+"_zoom"),"zoom",true)},onSlidePrev:function(Q,P,O){L._autoPlayVideo(F("#vid"+O+"_zoom"),"zoom",true)}})}else{L._bxSliderModal.goToSlide(1);L._bxSliderModal.goToSlide(M)}var N=F("#pdp-"+C.pdpType+"-leftpanel-zoom-modal");N.find(".bx-controls-direction .bx-next").addClass("sd-icon sd-icon-next");N.find(".bx-controls-direction .bx-prev").addClass("sd-icon sd-icon-previous")},_createLeftImageSliderModalPager:function(){if(L._bxSliderModalPager){return }L._bxSliderModalPager=F("#bx-pager-modal").bxSlider({minSlides:5,mode:"vertical",slideWidth:80,slideMargin:8,moveSlides:1,pager:false,infiniteLoop:false,hideControlOnEnd:true,nextText:"",prevText:""});var N=F("#pdp-"+C.pdpType+"-leftpanel-zoom-modal .col-xs-2");var O=N.find(".bx-controls-direction");var P=N.find("#bx-pager-modal a");var M=F("#bx-pager-modal");if(P.length<6){M.parent().next().addClass("hidden")}else{M.parent().css("marginTop","15px")}O.find(".bx-next").addClass("sd-icon sd-icon-expand-arrow");O.find(".bx-prev").addClass("sd-icon sd-icon-collapse-arrow");if((C.pdpType=="automobiles")||(C.pdpType=="furniture")){L._commonFunctionForModalPager(M,O)}},_updateLeftimagePanelSliderImage:function(S,N){var T="";var U="";var R="";var P="";var Q="";var O=S.length;var M=0;if(A.catwalkVideoUrlFlag&&!L._catwalkEnabled()){N=null}if(N&&(A.dragonVideoSwitch||A.catwalkVideoUrlFlag)){M=N.length;F.each(N,function(W,V){if(V){var Z=(V.dragonVideoContentDTO&&V.dragonVideoContentDTO.thumbnail)?V.dragonVideoContentDTO.thumbnail:"";var X=(V.dragonVideoContentDTO&&V.dragonVideoContentDTO.videoContentDTO&&V.dragonVideoContentDTO.videoContentDTO.hlsUrl)?V.dragonVideoContentDTO.videoContentDTO.hlsUrl:"";if((C.pdpType=="automobiles")||(C.pdpType=="furniture")){U+='<a data-slide-index="'+W+'" class=""><img src="'+Z+'"/><i class="vidiconPager sd-icon sd-icon-play-video"></i></a>';T+='<li class="'+((W==0)?"slidePanelChildfst slidePanelChild":"slidePanelChild")+'"><input type="hidden" class="mainVideoThumbnail" value="'+Z+'"/><input type="hidden" class="mainVideoUrl" value="'+X+'"/><img id="vid'+(W+1)+'" slideNum="'+W+'" class="videoImg'+((W==0)?" smallImage bigImage":" smallImage")+'" src="'+Z+'" /><i class="vidicon sd-icon sd-icon-play-video"></i></li>';R+='<li><input type="hidden" class="mainVideoThumbnail" value="'+Z+'"/><input type="hidden" class="mainVideoUrl" value="'+X+'"/><img id="vid'+(W+1)+'_zoom" slideNum="'+W+'" class="videoImgZoom" src="'+Z+'" /><i class="vidicon sd-icon sd-icon-play-video"></i></li>'}else{if(L._catwalkEnabled()){var Y="";F.each(V.dragonVideoContentDTO.videoContentDTO.formatResolutionUrlMap,function(a,b){F.each(b,function(c,d){Y+='<source src="'+d+'"/>'})});U+='<a data-slide-index ="0" href="" class=""><img src='+F("#videoIconPath").val()+' title="video icon" alt="video icon"/></a>';T+='<li class=""><video id="catwalkVideo" width= "440px" height="514px" poster="'+Snapdeal.getResourcePath(S[0])+'" preload="auto">'+Y+"</video></li>";R+='<li class=""><video id="zoomVideo" class="catwalkZoomVideo" poster="'+Snapdeal.getResourcePath(S[0])+'" preload="none">'+Y+"</video></li>"}else{U+='<a data-slide-index="'+W+'" class=""><img src="'+Z+'"/><i class="vidiconPager sd-icon sd-icon-play-video"></i></a>';Q="zoomImage: '"+Z+"', zoomPosition:'.right-card-zoom'";T+='<li><input type="hidden" class="mainVideoThumbnail" value="'+Z+'"/><input type="hidden" class="mainVideoUrl" value="'+X+'"/><img id="vid'+(W+1)+'" slideNum="'+W+'" class="videoImg" src="'+Z+'" /><i class="vidicon sd-icon sd-icon-play-video hidden"></i></li>';R+='<li><input type="hidden" class="mainVideoThumbnail" value="'+Z+'"/><input type="hidden" class="mainVideoUrl" value="'+X+'"/><img id="vid'+(W+1)+'_zoom" slideNum="'+W+'" class="videoImgZoom" src="'+Z+'" /><i class="vidicon sd-icon sd-icon-play-video"></i></li>'}}}});L._autoPlayVideo(F(".videoImg"),"carousel",false)}F.each(S,function(X,W){if(W){var Y=W.replace("imgs/a/a/n/","imgs/a/a/n/small/");var V=W.replace("imgs/a/a/n/","imgs/a/a/n/large/");if((C.pdpType=="automobiles")||(C.pdpType=="furniture")){U+='<a data-slide-index="'+(X+M)+'" class="'+((O==1)?" hidden":"")+((X>4)?" notVisibleThumb":" visibleThumb")+'"><img src="'+Snapdeal.getResourcePath(Y)+'"/></a>';T+='<li class="'+((X==0)&&(M==0)?"slidePanelChildfst slidePanelChild":"slidePanelChild")+'"><img slideNum="'+(X+M)+'" class="zoomPad'+((((X==0)||(O<3))&&(M==0))?" smallImage bigImage":" smallImage")+(((X==(O-1))&&(O>2))?" leftSmallImg":"")+'" bigsrc="'+Snapdeal.getResourcePath(W)+'" data-cloudzoom="'+Q+'" src="'+Snapdeal.getResourcePath(V)+'" /><i slideNum="'+(X+M)+'" class="zoomPad"></i></li>';R+='<li><img slideNum="'+(X+M)+'" class="zoom-img-modal" src="'+Snapdeal.getResourcePath(V)+'" /></li>'}else{U+='<a data-slide-index="'+(X+M)+'" class="'+((O==1)&&(M==0)?" hidden":"")+'"><img src="'+Snapdeal.getResourcePath(Y)+'"/></a>';Q="zoomImage: '"+Snapdeal.getResourcePath(W)+"', zoomPosition:'.right-card-zoom'";T+='<li><img slideNum="'+(X+M)+'" class="jqzoom zoomPad cloudzoom" bigsrc="'+Snapdeal.getResourcePath(W)+'" data-cloudzoom="'+Q+'" src="'+Snapdeal.getResourcePath(V)+'" /></li>';R+='<li><img slideNum="'+(X+M)+'" class="zoom-img-modal" src="'+Snapdeal.getResourcePath(V)+'" /></li>'}}});L._resetLeftImagePanelSlider(T,U);L._resetLeftImagePanelSliderPager(U);L._resetModalSlider(R);L._resetModalSliderPager(U);CloudZoom.quickStart()},_resetLeftImagePanelSlider:function(N,O){var P=F("#bx-slider-left-image-panel");P.find("li").remove();P.append(N);var M=F("#bx-pager-left-image-panel");M.find("a").remove();M.append(O);L._bxSliderLeftImagePanel.destroySlider();L._createLeftImagePanelSlider()},_resetLeftImagePanelSliderPager:function(M){L._bxSliderLeftImagePanelPager.destroySlider();L._createLeftImagePanelSliderPager(false)},_resetModalSlider:function(M){var N=F("#bxsliderModal");N.find("li").remove();N.append(M);if(L._bxSliderModal){L._bxSliderModal.destroySlider();L._bxSliderModal="";L._createLeftImageSliderModal()}},_resetModalSliderPager:function(N){var M=F("#bx-pager-modal");M.find("a").remove();M.append(N);if(L._bxSliderModalPager){L._bxSliderModalPager.destroySlider();L._bxSliderModalPager="";L._createLeftImageSliderModalPager()}},_catwalkEnabled:function(){var O=F("#catwalkFlag").val();var N=F("#catwalkVideoUrlFlag").val();var M=F("#pdpType").val();return(O=="true")&&(N=="true")&&(M=="fashion")},_playCatwalkVideo:function(){var M=document.getElementById("catwalkVideo");if(M){M.play();M.addEventListener("loadedmetadata",function(){D=M.duration;H=new Date().getTime()/1000});H=new Date().getTime()/1000}},_playZoomCatwalkVideo:function(){var M=document.getElementById("zoomVideo");M.play();L._catwalkOmniture("CatWalk_ClickZoomVideo")},_isvideoNotComplete:function(){var M=new Date().getTime()/1000;if(M-H<D){return true}return false},_catwalkOmniture:function(N){var M=F("#sharerEmail").val();var O=F("#pogId").val();getOmnitureScript({email:M,catalogId:F("#catalogId").val()},N)},_catWalkScrolledDown:function(){if(L._catwalkEnabled()&&L._isvideoNotComplete()){var M="#productOverview";var O=F(M).offset().top;var N=F(window).scrollTop();var P=F(M).height();if(N>O+P){var Q=F(M).attr("vid_omni");if(typeof (Q)=="undefined"){F(M).attr("vid_omni","sent");L._catwalkOmniture("CatWalk_VideoScrollDown")}}}},_lazy:function(){F("#close-zoom-modal").on("click",function(){Snapdeal.utility.reloadScrollBars();var P=F("#pdp-"+C.pdpType+"-leftpanel-zoom-modal");P.removeClass("leftpanel-zoom-modal-in");setTimeout(function(){P.addClass("hidden")},500);F(".activeTransModalOuter").addClass("hidden");F("body").off("mousemove.imageModal");F(window).off("resize.zoomModal")});F("#bx-pager-left-image-panel").on("click","a",function(){var Q=this;var P=F(Q).attr("data-slide-index");var R=parseInt(P)+1;if(R==1){L._playCatwalkVideo();L._catwalkOmniture("CatWalk_ClickVideo")}});F("#bx-pager-modal").on("click","a",function(){var Q=this;var P=F(Q).attr("data-slide-index");var R=parseInt(P)+1;if(R==1){L._playZoomCatwalkVideo()}});F(".pdp-left-common-container").on("click",".zoomPad",function(U){Snapdeal.utility.unloadScrollBars();F(".activeTransModalOuter").removeClass("hidden");var S=F("#pdp-"+C.pdpType+"-leftpanel-zoom-modal");S.css("z-index","94");S.removeClass("hidden");setTimeout(function(){S.addClass("leftpanel-zoom-modal-in")},100);var T=F("#pdp-topleft-shortlist-id2");var R=T.find(".comp-animated-icon span i");if(R.hasClass("animated-font")){R.removeClass("animated-font").addClass("animated-font-pre");T.find(".animated-icon").css("color","#c4c4c4")}else{if(R.hasClass("animated-font-active")){R.removeClass("animated-font-active").addClass("animated-font-pre");T.find(".animated-icon").css("color","#fff")}}L._createLeftImageSliderModal(this.getAttribute("slideNum"));L._createLeftImageSliderModalPager();L._autoPlayVideo(F(".videoImgZoom"),"zoom",true);F(window).on("resize.zoomModal",function(){var V=S.height();var W=S.find(".col-xs-21 .bx-viewport");W.css("height",V+"px")});F(window).trigger("resize");var P=F("#catUrl").val();var Q=F("#catalogId").val();getOmnitureScript({catalogId:Q,categoryUrl:P,cashBackValue:F("#pdpWalletCashBackOmni").val()||0},"pdpZoom");F(document).on("keyup.imagePopup",function(W){if(W.keyCode==27){Snapdeal.utility.reloadScrollBars();F(".activeTransModalOuter").addClass("hidden");var V=F("#pdp-"+C.pdpType+"-leftpanel-zoom-modal");V.removeClass("leftpanel-zoom-modal-in");setTimeout(function(){V.addClass("hidden")},500);F(document).off("keyup.imagePopup");F("body").off("mousemove.imageModal");F(window).off("resize.zoomModal")}});F("body").on("mousemove.imageModal",".zoom-img-modal",function(Z){var V=F(this);var a=F(".leftpanel-zoom-modal-in .col-xs-21 .bx-viewport").height();var Y=V.height();var X=Z.pageY/a;var W=(a-Y)*X;if(Y<=a){V.css("top",0)}else{V.css("top",(W+15)+"px")}});F(".comp-animated-icon").on("mouseover",function(V){F(".cloudzoom").each(function(){F(this).data("CloudZoom").closeZoom()})})});CloudZoom.quickStart();if(F("#showSocialPressure").val()=="true"){var O=F("#pogId").val();var N=F("#defaultSupc").html();var M="/json/getPDPOrderCount?pogId="+O+"&templateStyle=web_pdp_ordercount&supc="+N;F.ajax({url:M,type:"GET",dataType:"html",success:function(Q){if(Q.length!=0){var P=JSON.parse(Q);if(P.display=="left"){A.$spIcon.removeClass("hidden");A.$spIcon.on("mouseover",function(R){F(".cloudzoom").each(function(){F(this).data("CloudZoom").closeZoom()})});A.$spIcon.on("click",function(R){R.stopPropagation();Snapdeal.tooltip.init({parent:F(this),content:P.text,isPopOver:true,customClass:"social-pressure-tooltip"});L._logSDData("clickStream","socialPressureClick",{widPosition:"left",type:(C.pdpType=="electronics")?"sellingFast":"getttingPopular",pogId:O})})}if(P.display=="middle"){A.$spTile.removeClass("hidden");A.$spTile.find(".js-sp").on("click",function(R){R.stopPropagation();Snapdeal.tooltip.init({parent:F(this),position:"bottom",content:P.text,isPopOver:true,customClass:"social-pressure-tooltip"});L._logSDData("clickStream","socialPressureClick",{widPosition:"middle",type:(C.pdpType=="electronics")?"sellingFast":"getttingPopular",pogId:O})})}}}})}F(".comp-animated-icon").on("mouseover",function(P){F(".cloudzoom").each(function(){F(this).data("CloudZoom").closeZoom()})})},_logSDData:function(N,M,O){if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){SDLogger.log(N,M,O)}}};I={init:function(){return L._init.apply(this,arguments)},test:function(){return L},autoPlayVideo:function(){return L._autoPlayVideo.apply(this,arguments)},};return I})(window.jQuery,Snapdeal);Snapdeal.leftImagePanel.init({pdpType:$("#pdpType").val().toLowerCase()});$(window).on("beforeunload",function(){if(console){console.log("hiding")}var A=$("#catwalkVideo");if(A){A.hide()}});
(function(){var C={auto:false,autoStart:false,infiniteLoop:true,prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',slideWidth:214,pager:false,slideMargin:0,minSlides:3,maxSlides:6};var E=$(".comp-similar-widget"),B=E.find(".product-tile"),F=$(B[0]).outerWidth(false)*B.length,D=E.find(".js-similar-bxSlider"),A=D.width();if(A<F){D.bxSlider(C)}})();
$(".product-tile").hover(function(){var A=$(this).find(".comp-animated-icon span i");$(this).find(".js-animated-icon").removeClass("hidden");if(A.hasClass("animated-font")){A.removeClass("animated-font").addClass("animated-font-pre");$(this).find(".animated-icon").css("color","#c4c4c4")}else{if(A.hasClass("animated-font-active")){A.removeClass("animated-font-active").addClass("animated-font-pre");$(this).find(".animated-icon").css("color","#fff")}}},function(){var A=$(this).find(".comp-animated-icon span i");$(this).find(".js-animated-icon").addClass("hidden");if(A.hasClass("animated-font")){A.removeClass("animated-font").addClass("animated-font-pre");$(this).find(".animated-icon").css("color","#c4c4c4")}else{if(A.hasClass("animated-font-active")){A.removeClass("animated-font-active").addClass("animated-font-pre");$(this).find(".animated-icon").css("color","#fff")}}});$("[data-rating-pdp]").each(function(B,D){var C=$(D).data("ratingPdp"),A=(C/10)*56;$(D).css("width",A+"px")});$(".similar-widget-wrapper").on("click","a",function(){var A=$(this).index()+1,B=$("#recommendationWidgetType").val()||"";if(B=="VAV"){Snapdeal.Cookie.set("track","recoForYou_"+A)}else{if(B=="SIMILAR_PRODUCTS"){if($("#soldOut").val()=="true"){Snapdeal.Cookie.set("track","RID=similarsoldout_products_"+A)}else{Snapdeal.Cookie.set("track","RID=similar_products_"+A)}}}});$(".sponsered-widget-wrapper").on("click","a",function(){var A=$(this).index()+1;Snapdeal.Cookie.set("track","RID=featured_products_"+A)});
$("[data-rating]").each(function(B,D){var C=$(D).data("rating"),A=(C/5)*56;$(D).css("width",A+"px")});var Snapdeal=Snapdeal||{};Snapdeal.floatingBuy=(function(E,H){var G,I,A={},D,C,F,B;D={};A={"$floatingBuy":E("#floatingBuySection"),floatingBuyId:E("#floatingBuySection #floating-buy-id"),"$win":E(window),pdpType:E("#pdpType").length>0?E("#pdpType").val().toLowerCase():""};F={};B=A.$win;I={_init:function(K){var J=10;C=E.extend(true,{},D,K);if(!A.$floatingBuy){return false}A.$stickyHeader=E("#pdpNavBarWrp");A.$lastProductCardLeft=E(".product-detail-card-left").find(".pdp-section").last();A.$firstProductCardLeft=E(".product-detail-card-left");A.$productCardRight=E(".product-detail-card-right");A.$compSponsoredProject=E("#compSponsoredProject");A.$floatingBuyParent=A.$floatingBuy.parent();F.stickyHeaderOffset=A.$stickyHeader.outerHeight(false)+J;F.initialMargin=A.$floatingBuy.css("marginTop");F.headerMargin=J;I._updateSponsoredBlkOffset(false);E("#product-attr-options").on("productAttrSelected",function(M,L){I._updatePriceInfo(L);I._updateWalletCashBack(L.primaryVendor)}).on("productAttrSelectedAutoPin",function(N,M,L){I._updatePriceInfo(M);I._updateWalletCashBack(M.primaryVendor)}).on("productAttrSelectedChangeImage",function(N,L,M){I._updateFloatingBuyImage(L)});if(!E("html").hasClass("ie8")){E(window).scroll(Snapdeal.utility.throttle(I._float,10))}A.floatingBuyId.find(".floatingBuys").on("click",function(){E("#content_wrapper").trigger("floatingBuyClicked",[E(this)])});E(window).load(function(){I._lazy()})},_updateSponsoredBlkOffset:function(L,J){var K=L?J:0;F.sponsoredBlkOffset=(A.$firstProductCardLeft.offset().top+40+K)-F.stickyHeaderOffset},_updateFloatingBuyImage:function(K){if(A.pdpType!="automobiles"){return }if(K.length){var J=K[0].replace("imgs/a/a/n/","imgs/a/a/n/large/");A.floatingBuyId.find(".tileImages img").attr("src",Snapdeal.getResourcePath(J))}},_updatePriceInfo:function(M){if(A.pdpType=="automobiles"){return }A.floatingBuyId.find(".product-offer-price").text("Rs. "+Snapdeal.utility.commafy(M.primaryVendor.sellingPrice));if(M.primaryVendor.initialPrice){}else{if(M.primaryVendor.initialPrice){}else{if(M.primaryVendor.effectivePercentOff==0){A.floatingBuyId.find(".product-cut-price").addClass("hidden")}else{var L=A.floatingBuyId.find(".product-actual-price-int");L.text(Snapdeal.utility.commafy(M.primaryVendor.price)).removeClass("hidden");if(M!=null&&M.primaryVendor!=null&&M.primaryVendor.price>M.primaryVendor.sellingPrice){A.floatingBuyId.find(".product-cut-price").text("Rs. "+Snapdeal.utility.commafy(M.primaryVendor.price)).removeClass("hidden")}else{A.floatingBuyId.find(".product-cut-price").addClass("hidden")}}}}if(M.primaryVendor.effectivePercentOff>0){var K=A.floatingBuyId.find(".floatProductDisc > span");if(K.length>0){K.text(M.primaryVendor.effectivePercentOff+"% Off")}else{var J="<div class='floatProductDisc'><span>"+M.primaryVendor.effectivePercentOff+"% Off</span></div>";A.floatingBuyId.find(".tileImages").append(J)}A.floatingBuyId.find(".floatProductDisc").removeClass("hidden")}else{A.floatingBuyId.find(".floatProductDisc").addClass("hidden")}},_updateWalletCashBack:function(O){var N=false;var K=E("#globalSwitchForWalletCashback").val();if(K=="true"&&(O.walletCashBackApplicable!=null&&O.walletCashBackApplicable==true&&O.walletCashBackValueInt>0)){N=true}var L=A.floatingBuyId;if(N){if(L.find(".walletCashBackBlck").length>0){var J=L.find(".walletCashBackBlck");J.find(".cashBackColor").text("Rs. "+Snapdeal.utility.commafy(O.walletCashBackValueInt));J.find(".effectivePriceColor").text("Rs. "+Snapdeal.utility.commafy(O.effectivePriceAfterWalletCashback))}else{var M='<div class="walletCashBackBlck pdp-e-i-CashBack"><div><span class="cashBackk">Cashback</span> <span class="cashBackColor">Rs. '+Snapdeal.utility.commafy(O.walletCashBackValueInt)+'</span> <span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> </div><div><span class="effectivePrice">'+E("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor">Rs. '+Snapdeal.utility.commafy(O.effectivePriceAfterWalletCashback)+"</span></div></div>";L.find(".product-offer-price").after(M)}E("#pdpWalletCashBackOmni").val(O.walletCashBackValueInt);L.find(".walletCashBackBlck").show()}else{L.find(".walletCashBackBlck").hide();E("#pdpWalletCashBackOmni").val("0")}},_float:function(L){var M=E(document).scrollTop();var J={};var K=A.$lastProductCardLeft.offset().top+A.$lastProductCardLeft.height()-F.stickyHeaderOffset-A.$floatingBuy.outerHeight(false);if(A.$compSponsoredProject.length){F.sponsoredBlkOffset=A.$productCardRight.offset().top+A.$compSponsoredProject.outerHeight(true)-F.headerMargin}if(M>K){J.position="absolute";J.top="";J.bottom=10;J.marginTop=0;J.width=A.$floatingBuyParent.width();A.$floatingBuy.css(J)}else{if(M>=F.sponsoredBlkOffset){J.position="fixed";J.top=F.stickyHeaderOffset;J.bottom="";J.width=A.$floatingBuyParent.width();J.marginTop=0;A.$floatingBuy.css(J)}else{J.position="static";J.top="";J.bottom="";J.marginTop=F.initialMargin;A.$floatingBuy.css(J)}}},_lazy:function(){if(A.pdpType=="automobiles"){E(window).on("scroll",function(){var J=E(".popover");if(J.is(":visible")){J.hide()}})}}};G={init:function(){return I._init.apply(this,arguments)},updateSponsoredBlkOffset:function(){return I._updateSponsoredBlkOffset.apply(this,arguments)}};return G})(window.jQuery,Snapdeal);jQuery(function(){Snapdeal.floatingBuy.init()});
var Snapdeal=Snapdeal||{};Snapdeal.offersPanel=(function(D,G){var F,H,A,C,B,E,I;C={displayOfferThreshold:3,reglobeEnv:undefined,reglobeUrl:undefined};A={viewAllLink:D(".comp-offer-widget").find(".load-more-offers"),offerRowTnC:D(".comp-pdpOffersPanel"),closeBtnTncPopup:D(".closeBtn-popup-tncDetails"),popupTncDetails:D(".popup-tncDetails"),modalOffersPanel:D(".active-modal-offersPanel")};I={CLICK:"click"};E={};H={_init:function(J){B=D.extend(true,{},C,J);H._hideOffersAboveThreshold(C.displayOfferThreshold);H._bindEvents();D("#product-attr-options").on("productAttrSelected",function(L,K){H._onAttributeChange(K);H._hideOffersAboveThreshold(C.displayOfferThreshold);H._bindEvents()});D(document).off("sidebarClosed").on("sidebarClosed",function(){H._hideTnCDetailsPopup()});D(document).on("keyup",function(K){H._hideTnCDetailsPopup()})},_hideOffersAboveThreshold:function(J){var K=D(".comp-offer-widget").find(".offer-data");if(K.length>0){for(var L=1;L<=K.length;L++){if(L>=J){D(D(".comp-offer-widget").find(".offer-data")[L]).addClass("more-offers").hide();D(D(".comp-offer-widget").find(".offer-data")[L]).next(".btBorder").addClass("more-offers").hide()}}}},_bindEvents:function(){A.viewAllLink.off(I.CLICK).on(I.CLICK,H._viewAllOffers);A.offerRowTnC.off(I.CLICK).on(I.CLICK,".static-tnc",H._showTnCDetailsPopup)},_viewAllOffers:function(){var J=this;if(D(J).hasClass("offers-list-closed")){H._openLoadMoreStripData()}else{H._closeLoadMoreStripData();window.scrollTo(0,(D("#offersBlk").find("h2").offset().top-150))}},_showTnCDetailsPopup:function(N){N.stopPropagation();var M=D(N.target).parent();var L=M.closest(".offer-row").find(".currentTncData");var K=M.next();var J="";if(L.length>0){J=L.children().clone()}else{if(K.length>0){J="<li class='li-tncDetail'>"+K.html()+"</li>"}else{return }}A.popupTncDetails.find(".ul-tncDetail").append(J);H._positionTnCDetailsPopup(M.position());A.modalOffersPanel.removeClass("hidden");A.popupTncDetails.addClass("animPopup");A.closeBtnTncPopup.on(I.CLICK,H._hideTnCDetailsPopup);D(document).on(I.CLICK,function(O){if(D(O.target).closest(".popup-tncDetails").get(0)==null){H._hideTnCDetailsPopup()}})},_positionTnCDetailsPopup:function(M){var L=M.top;var K=0;var J=null;if(D("body").hasClass("lock")){K=D(".sidebar").find("#offersModal").height();J=D(".sidebar .popup-tncDetails")}else{K=D(".comp-offer-widget").outerHeight();J=D(".comp-offer-widget .popup-tncDetails")}J.removeAttr("style");J.css("max-height",K-25);var O=J.outerHeight();J.find(".content-wrapper-tncDetails").css("max-height",O-50);var N=K-L;if(K<O){J.css({top:"12px"})}else{if(N>O){J.css({top:(L)+"px"})}else{if(N<O&&(K-N)>O){J.css({bottom:N+"px"})}else{J.css({top:"12px"})}}}},_hideTnCDetailsPopup:function(){A.popupTncDetails.removeClass("animPopup");setTimeout(function(){A.popupTncDetails.find(".ul-tncDetail").empty();A.modalOffersPanel.addClass("hidden");A.popupTncDetails.find(".content-wrapper-tncDetails").removeAttr("style")},500);A.closeBtnTncPopup.off(I.CLICK)},_onAttributeChange:function(P){var N=0;var S=0;var J,Q;var K=P.primaryVendor.listOfFreebieDTO;if(K&&K.length){K.forEach(function(T){N=1;return })}if(N){J=doT.template(D("#freebieTmpl").html(),undefined,undefined);D(".primaryVendorFreebieWrapper").html(J(P.primaryVendor))}else{D(".primaryVendorFreebieWrapper").html("")}var O=D(".comp-offer-widget").find(".bankPromoOffersWrapper").children(".offer-data").length;var M=D(".comp-offer-widget").find(".exchangeDeviceWrapper").children(".offer-data").length;var R=N+S+O+M;var L=D(".comp-pdpOffersPanel").find(".offermainHeading");if(O>0){L.removeClass("hidden")}else{L.addClass("hidden")}if(R>C.displayOfferThreshold){D("#offersBlk").show();D("div[data-type='load-more-strip']").find(".row-inner2").show();D("div[data-type='load-more-strip']").find(".load-more-offers-count").html(R)}else{if(R>0&&R<=C.displayOfferThreshold){D("#offersBlk").show();D("div[data-type='load-more-strip']").find(".row-inner2").hide()}else{D("#offersBlk").hide();D("div[data-type='load-more-strip']").find(".row-inner2").hide()}}H._closeLoadMoreStripData()},_closeLoadMoreStripData:function(){var J=A.viewAllLink;D(J).find(".sd-icon").removeClass("sd-icon-collapse-arrow").addClass("sd-icon-expand-arrow");D(J).removeClass("offers-list-open").addClass("offers-list-closed");D(".comp-offer-widget").find(".more-offers").hide();D(J).find(".load-more-offers-count, .end-bracket,.load-more-offers-prefixText").removeClass("hidden");D(J).find(".load-less-offers-prefixText").addClass("hidden")},_openLoadMoreStripData:function(){var L=A.viewAllLink;D(L).find(".sd-icon").removeClass("sd-icon-expand-arrow").addClass("sd-icon-collapse-arrow");D(L).removeClass("offers-list-closed").addClass("offers-list-open");D(".comp-offer-widget").find(".more-offers").show();D(L).find(".load-more-offers-count, .end-bracket,.load-more-offers-prefixText").addClass("hidden");D(L).find(".load-less-offers-prefixText").removeClass("hidden");var K=D("#catalogId").val();var J=D("#catUrl").val();getOmnitureScript({catalogId:K,categoryUrl:J,data:"bottom"},"pdpOffers")},_initBuyBackFlow:function(){C.reglobeUrl=D("#reglobeUrl").val();C.reglobeEnv=D("#reglobeEnv").val();var J=D("#buyBackFlag").val();if(J=="true"){H._jQueryBrowserPatch();var Q=Q||{};Q._account=C.reglobeUrl;Q._cartUrl="http://www.snapdeal.com/some/url";Q._sellLaptopText="I want to Sell My Laptop";Q._notInterestedText="Not Interested in Selling";Q._checkoutText="Proceed to Checkout";Q._continueShoppingText="Continue Shopping";Q._customPromotionText="Thank you.";Q._widgetMode="ALL";Q._brandingText="Promoted by <a href='http://www.snapdeal.com'>Snapdeal</a>";Q._ifw=770;Q._env=C.reglobeEnv;Q._ifh=444;Q._version=11;Q._avoidReset=true;document._reglobe=Q;D(document).on("_reglobe_widget_loaded",H._reglobeWidgetLoaded);D(document).on("_reglobe_sell",H._reglobeBuyBackDeviceSelected);D(".buybackCross").off(I.CLICK).on(I.CLICK,H._deleteSelectedExchangeData);(function(){var S=document.createElement("script");S.type="text/javascript";S.async=true;S.src=("https:"==document.location.protocol?"https://":"http://")+Q._account+"/js/widget_embed.js?v="+Q._version;var T=document.getElementsByTagName("script")[0];T.parentNode.insertBefore(S,T);var R=document.createElement("link");R.rel="stylesheet";R.type="text/css";R.href=("https:"==document.location.protocol?"https://":"http://")+Q._account+"/css/widget/snapdeal/reglobe_widget.css?v="+Q._version;var U=document.getElementsByTagName("link")[0];U.parentNode.insertBefore(R,U)})();var P=window.sessionStorage.getItem("buyBack");if(P){var O=P.split("|");if(O.length>0){for(var N=0;N<O.length;++N){var M=O[N].split("~");if(M.length>=2&&M[0]==D("#defaultSupc").html()){var K=M[1].substring(0,M[1].indexOf("^"));var L=M[1].split("^")[2];if(K>0){D(".buyback").hide();D(".buybackExecute").show();D(".buybackRate").html(K);D(".exchanged-value").html(L)}}}}}}},_reglobeWidgetLoaded:function(){D(".buyback a").click(function(K){var J=D("#catalogId").val();getOmnitureScript({catalogId:J,},"pdpBuyBackClick");K.preventDefault();D.reglobew.showPopup("ALL");return false})},_reglobeBuyBackDeviceSelected:function(L){var J=D("#catalogId").val();var M=window.sessionStorage.getItem("buyBack");var K=D("#defaultSupc").html();if(M==null||M==""){window.sessionStorage.setItem("buyBack",K+"~"+L.quote+"^"+L.uid+"^"+L.name)}else{window.sessionStorage.setItem("buyBack",M+"|"+K+"~"+L.quote+"^"+L.uid+"^"+L.name)}D(".buyback").hide();D(".buybackExecute").show();if(L.quote>0){D(".exchanged-value").html(L.name);D(".buybackRate").html(L.quote)}else{D(".buybackExecute").hide()}getOmnitureScript({catalogId:J,buyback:true},"pdpBuyBackExecuted")},_deleteSelectedExchangeData:function(){var K=D("#catalogId").val();var M=D("#defaultSupc").html();getOmnitureScript({catalogId:K,buyback:false},"pdpBuyBackExecuted");D(".buybackExecute").hide();D(".buyback").show();var O=window.sessionStorage.getItem("buyBack");var N="";var J=O.split("|");for(var L=0;L<J.length;L++){if((J[L].split("~"))[0]==M){J[L]=""}}for(var L=0;L<J.length;L++){if(!(J[L]=="")){if(N==""){N=N.concat(J[L])}else{N=N.concat("|"+J[L])}}}window.sessionStorage.setItem("buyBack",N)},_getExchangeData:function(){var P=D("#defaultSupc").html();var Q=window.sessionStorage.getItem("buyBack");if(Q!=null){var J=Q.split("|")}var L="";var N="";var K="";if(J){for(var M=0;M<J.length;M++){var O=J[M].split("~");if(Q!=null){if(O[0]===P){L=(O[1].split("^"))[0];N=(O[1].split("^"))[1];K=(O[1].split("^"))[2]}}}}return{buyBackQuoteValue:L,buyBackQuoteId:N,buyBackQuoteName:K}},_jQueryBrowserPatch:function(){if(!jQuery.browser){var K=function(N){N=N.toLowerCase();var M=/(chrome)[ \/]([\w.]+)/.exec(N)||/(webkit)[ \/]([\w.]+)/.exec(N)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(N)||/(msie) ([\w.]+)/.exec(N)||N.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(N)||[];return{browser:M[1]||"",version:M[2]||"0"}};var J=K(navigator.userAgent);var L={};if(J.browser){L[J.browser]=true;L.version=J.version}if(L.chrome){L.webkit=true}else{if(L.webkit){L.safari=true}}jQuery.browser=L}}};F={init:function(){return H._init.apply(this,arguments)},initBuyBackFlow:function(){return H._initBuyBackFlow.apply(this,arguments)},getExchangeData:function(){return H._getExchangeData.apply(this,arguments)}};return F})(window.jQuery,Snapdeal);if($("#pdpDonation").val()!="true"){Snapdeal.offersPanel.init();$(window).load(function(){Snapdeal.offersPanel.initBuyBackFlow()})};
if($("#pdpType").val().toLowerCase()=="automobiles"){var Snapdeal=Snapdeal||{};Snapdeal.selectDealer=(function(D,G){var F,H,A,C,B,E,J;var I=D("#sidebar_modal_right");A={selectDealerBar:D("#selectDealerBar"),sideBarHeading:I.find(".sidebarin-heading"),sidebarinContent:I.find(".sidebarin-content"),sideBarHeadH3:I.find(".sidebarin-heading h3"),loanInsuranceAuto:D("#loanInsuranceAutoBar"),offerModal:D("#offersContent"),autoBuyButtn:D("#buy-button-id-autom")};H={_init:function(K){B=D.extend(true,{},C,K);A.sidebarinContent.on("change","input.dealerRadio",function(){H._onChangeRadioButton(D(this))});A.sidebarinContent.on("click",".continue-btn",function(){H._clickOnContinue(D(this))});A.sidebarinContent.on("keypress",".dealerTel",function(L){if(D(this).val().length<11){if(L.which!=8&&L.which!=0&&(L.which<48||L.which>57)){return false}else{D(".rightWidgetdealer .validation-message").html("");return true}}else{return false}})},_onChangeRadioButton:function(K){K.removeClass("checked");A.sidebarinContent.find(".dealer-controls").addClass("hidden");A.sidebarinContent.find(".pin-text-box").removeClass("bb-red");if(K.is(":checked")){K.addClass("checked");K.parents(".dealer-select").find(".active").removeClass("active");K.parent().addClass("active").find(".dealer-controls").removeClass("hidden")}A.sidebarinContent.find("input.userName, input.dealerTel, .preTelNumber").removeClass("bb-red");A.sidebarinContent.find("span.validation-message").html("")},_clickOnContinue:function(L){var K=L.parents(".dealer-details");var N=K.find("input.dealerTel");var P=K.find("input.userName");var O=K.find("input.dealer-code");var Q=K.find("input.dealer-rating");var M=K.find(".dealer-name").text();var R=K.find(".distKm").text();getOmnitureScript({mobileNo:N.val(),distance:R,dealerRank:L.attr("count"),dealerRating:Q.val(),catalogId:A.autoBuyButtn.attr("catalog")},"dealerSelected");if(H._isFieldEmpty(P.val())){P.addClass("bb-red").prev().addClass("bb-red");K.find(".leftWidgetdealer .validation-message").text("Please enter name")}else{P.removeClass("bb-red");K.find(".validation-message").html("");if(H._isValidField(N.val())){N.parent().removeClass("bb-red");Snapdeal.rupeePowerIntg.setRupeeInteraction({dealer_code:O.val(),cust_mobile:escape(N.val()),dealer_name:M,cust_name:escape(P.val())});if(D("#isLoanEnabled").val()=="true"||D("#isInsuranceEnabled").val()=="true"){Snapdeal.sidebar.close();Snapdeal.loanAndInsurance.fetchLoanInsurance();Snapdeal.sidebar.open(A.loanInsuranceAuto,"Select Offers (if applicable):","dealerBarWidth")}else{Snapdeal.rupeePowerIntg.setRupeeInteraction({isLoanAvailable:D("#loanFalseValue").val(),isInsuranceAvailable:D("#insuranceFalseValue").val()});window.location.href=Snapdeal.buyNowTellMeTile.createBuyNowUrlForAuto()}}else{if(H._isFieldEmpty(N.val())){N.addClass("bb-red").prev().addClass("bb-red");K.find(".rightWidgetdealer .validation-message").text("Please enter phone number")}else{N.addClass("bb-red").prev().addClass("bb-red");K.find(".rightWidgetdealer .validation-message").text("Please enter valid phone number")}}}},_selectDealers:function(K){var L=K.attr("supc");var O=D("#pincode-check").val();if(O){if(L&&L!="undefined"){var N="/getVendors?supc="+L+"&pincode="+O;D.ajax({url:N,type:"GET",dataType:"text",success:function(P){if(P){K.trigger("dealerSelected",[P,L,O])}},error:function(){A.autoBuyButtn.attr("vendorChecked","")}})}}else{Snapdeal.utility.hidePageLoader();var M="Please enter a valid pincode";D("#pdp-pincode-rp").find(".emptyAttr").html(M).removeClass("hidden");A.autoBuyButtn.attr("vendorChecked","")}},_dealerSelected:function(L,K,N){var M="";Snapdeal.utility.hidePageLoader();Snapdeal.rupeePowerIntg.setRupeeInteraction({catalogId:A.autoBuyButtn.attr("catalog"),vendorCode:A.autoBuyButtn.attr("vendorCode"),vendorScore:A.autoBuyButtn.attr("vendorScore"),supc:K});A.selectDealerBar.html(L);Snapdeal.sidebar.open(D("#selectDealerBar"),'Select Dealer Serving Pincode: <span class="pin-value"></span>',"dealerBarWidth");A.sideBarHeading.removeClass("hidden");I.find(".pin-value").html(N);A.autoBuyButtn.attr("vendorChecked","");if((Snapdeal.localStorage.getItem("authData"))&&(JSON.parse(Snapdeal.localStorage.getItem("authData")).firstName)){M=JSON.parse(Snapdeal.localStorage.getItem("authData")).firstName.replace(/ /g,"");I.find(".userName").val(M)}jQuery(".nearest-dealer-main-section").find(".dealerTel").val(jQuery("#loggedInUserMobile").val())},_isValidField:function(K){if(K){return(K.length===10&&!isNaN(K))}return false},_isFieldEmpty:function(K){return(K.trim()==="")}};F={init:function(){return H._init.apply(this,arguments)},selectDealers:function(K){return H._selectDealers.apply(this,arguments)},dealerSelected:function(){return H._dealerSelected.apply(this,arguments)}};return F})(window.jQuery,Snapdeal);Snapdeal.selectDealer.init()};
var Snapdeal=Snapdeal||{};Snapdeal.sellerInformationCard=(function(G,E){var H,F,D,C,A;var B=G(".sellerInformationInnerContainer");A={sellerNameContainer:B.find(".sellerNameContainer"),sellerRatingContainer:B.find(".sellerRatingContainer"),sellerRating:B.find(".sellerRating"),sdFulfilledIcon:B.find(".sdFulfilledIcon"),brandAuthorisedIcon:B.find(".brandAuthorisedIcon"),fastDispatchIcon:B.find(".fastDispatchIcon"),sellerFeaturesListContainer:B.find(".sellerFeaturesListContainer"),sellerFeaturesList:B.find(".sellerFeaturesList"),sdFulfilledFeature:B.find(".sdFulfilledFeature"),brandAuthorisedFeature:B.find(".brandAuthorisedFeature"),fastDispatchFeature:B.find(".fastDispatchFeature"),sellerPageUrl:B.find(".sellerPageUrl"),viewAllSellersContainer:B.find(".viewAllSellersContainer"),sellerChatContainer:B.find(".sellerChatContainer")};C={_init:function(){G("#content_wrapper").on("click",".omniSellonSnap",function(){getOmnitureScript({},"pdpSellOnSnapdealClicked")})},_updateSellerInformationCard:function(J){var L="#";if(J.primaryVendor.vendorCode&&J.primaryVendor.vendorUrlName){L="/seller/"+J.primaryVendor.vendorUrlName.replace(/\//g,"")+"/"+J.primaryVendor.vendorCode}if((Snapdeal.CommonUtils.URL.getQueryParam("pa")||Snapdeal.CommonUtils.URL.getQueryParam("fv"))&&J.primaryVendor.vendorCode==Snapdeal.CommonUtils.URL.getQueryParam("vendorCode")){G("#pdp-sd-other-seller-rp").addClass("hard-hidden")}else{if((Snapdeal.CommonUtils.URL.getQueryParam("pa")||Snapdeal.CommonUtils.URL.getQueryParam("fv"))){G("#pdp-sd-other-seller-rp").removeClass("hard-hidden")}}if(J.primaryVendor.vendorDisplayName){var K=[];K.push("<a class='blackText' href='"+L+"'>");K.push(J.primaryVendor.vendorDisplayName.toLowerCase());K.push("</a></div>");K.push('<div class="sellerLocation greyText h4 hidden"><i class="sd-icon sd-icon-marker fnt-12"></i> <span></span></div>');A.sellerNameContainer.html(K.join(""))}A.sellerPageUrl.attr("href",L);if(J.primaryVendor.overallRating){var I=[];I.push("<span>");I.push(parseFloat(J.primaryVendor.overallRating).toFixed(1));I.push("</span>/5");A.sellerRating.html(I.join(""));A.sellerRatingContainer.removeClass("hidden");G(".newSeller").addClass("hidden")}else{A.sellerRatingContainer.addClass("hidden");G(".newSeller").removeClass("hidden")}if(J.vendorCount>1){A.viewAllSellersContainer.find("span.sellerCountBottom").html(J.vendorCount-1);if(J.vendorCount==2){A.viewAllSellersContainer.find("span.sellerCountBottomMore").html("More Best Seller")}else{A.viewAllSellersContainer.find("span.sellerCountBottomMore").html("More Best Sellers")}A.viewAllSellersContainer.removeClass("hidden")}else{A.viewAllSellersContainer.addClass("hidden")}if(!(J.primaryVendor.sdFulfilled&&J.primaryVendor.brandAuthorised&&J.primaryVendor.fastDispatch)){A.sellerFeaturesListContainer.find("h2").addClass("hidden")}else{A.sellerFeaturesListContainer.find("h2").removeClass("hidden")}if(J.primaryVendor.sdFulfilled){A.sdFulfilledIcon.removeClass("hidden");A.sdFulfilledFeature.removeClass("hidden")}else{A.sdFulfilledIcon.addClass("hidden");A.sdFulfilledFeature.addClass("hidden")}if(J.primaryVendor.brandAuthorised){A.brandAuthorisedIcon.removeClass("hidden");A.brandAuthorisedFeature.removeClass("hidden")}else{A.brandAuthorisedIcon.addClass("hidden");A.brandAuthorisedFeature.addClass("hidden")}if(J.primaryVendor.fastDispatch){A.fastDispatchIcon.removeClass("hidden");A.fastDispatchFeature.removeClass("hidden")}else{A.fastDispatchIcon.addClass("hidden");A.fastDispatchFeature.addClass("hidden")}if(J.primaryVendor.location){A.sellerNameContainer.find(".sellerLocation span").html(J.primaryVendor.location.toLowerCase());A.sellerNameContainer.find(".sellerLocation").removeClass("hidden")}else{A.sellerNameContainer.find(".sellerLocation").addClass("hidden")}A.sellerChatContainer.find(".miootOnOff").attr({sellerCode:J.primaryVendor.vendorCode})}};D={init:function(){return C._init()},updateSellerInformationCard:function(I){return C._updateSellerInformationCard(I)}};return D}(window.jQuery,Snapdeal));$("window").on("load",function(){Snapdeal.sellerInformationCard.init()});$("#product-attr-options").on("productAttrSelected",function(B,A){Snapdeal.sellerInformationCard.updateSellerInformationCard(A)}).on("productAttrSelectedAutoPin",function(B,A){Snapdeal.sellerInformationCard.updateSellerInformationCard(A)});
window.windowLoaded=$.Deferred();$(window).load(function(){windowLoaded.resolve()});(function(){var A={labelHashN:"bcrumbLabelId",searchHashN:"bcrumbSearch",render:function(){$("#breadCrumbWrapper2").addClass("notVisible");var E=$.Deferred();var B=Snapdeal.hashManager.getFromHash(A.labelHashN);var D=Snapdeal.hashManager.getFromHash(A.searchHashN);if(D){if(D.indexOf("<")!=-1){D=escape(D)}D="Search: "+D}var G=$("#breadCrumbItemTmpl").html();$.template("breadCrumbItemTmpl",G);var C=($("#breadCrumbLabelIds").text()).split(",");if(C.indexOf(B)!=-1){B=null}if((B||D)&&$("#catId").val()){windowLoaded.done(function(){A.getParents(B,D).done(function(H){F(H)})})}else{F()}function F(L){if(L){L.reverse();$.each(L,function(N,M){if(M.name&&(M.name.indexOf("Search:")>-1)){var Q="";var P=M.name.split(": ");if(P.length>1){Q=P[1];var O=Q.indexOf("&SRPID");if(O>-1){Q=Q.substring(0,O);L[N].name=Q}}}});var K=$.tmpl("breadCrumbItemTmpl",[{data:L}]);$("#breadCrumbWrapper2").html(K)}$("#breadCrumbWrapper").removeClass("notVisible");$("#breadCrumbWrapper2").removeClass("notVisible");$("#categoryTopSection .searchArr, #categoryTopSection .searchBox").removeClass("initInvisible");E.resolve();if(window.pdpType&&(B||D)){var I=new Array();var H=$("#breadCrumbWrapper2 span").length;$("#breadCrumbWrapper2 span:not(.active-bread)").each(function(){var M=$(this).text();I.push(M)});var J=I.join(">");$("#pdpPath").val(J)}}return E},initEvents:function(){var B=$("#breadCrumbDropdownItemTmpl").html();$.template("breadCrumbListTmpl",B)},getSubCategories:function(B,D){D=D||{};var C=$.extend({labelUrl:B},D);return $.ajax({url:"/acors/get/json/subLeftNav",method:"get",data:C})},getParents:function(H,C){var F=$.Deferred();var G=C;if(C){var E=C.split(": ");if(E.length>1){G=E[1]}else{G=E[0]}}var D=[];if(window.pdpType){D.push({name:$(".comp-product-description .pdp-e-i-head").text(),url:"",isAbs:true,hasSub:false});if(!H){if(C){D.push({name:C,url:"/search?keyword="+escape(G)+"&noOfResults=48",isAbs:true,hasSub:false})}F.resolve(D)}}var B=(($("#labelId").val()!=undefined)?$("#labelId").val():H);if(B){$.ajax({url:"/acors/get/json/breadcrumbs",method:"get",data:{label:(($("#labelId").val()!=undefined)?$("#labelId").val():H)},success:function(J){if(!$.isEmptyObject(J)){J=$.parseJSON(J);if(J&&J.length>0){var I=J.map(function(K){return{name:K.displayName,url:K.url,isAbs:false,hasSub:true}});D.push.apply(D,I);if(C){D.push({name:C,url:"/search?keyword="+escape(G)+"&noOfResults=48",isAbs:true,hasSub:false})}F.resolve(D)}}else{F.resolve()}}})}return F},addHashToAllInternalLinks:function(){if(A.getHashValueForPage()){$("#topsearches a").addClass("hashAdded");$("a:not(.hashAdded)").attr("href",function(C,B){if(window.location.hostname===this.hostname&&this.pathname!="/"){var D=this.hash;if(B.indexOf("#")!=-1){return B.substr(0,B.indexOf("#"))+"#"+A.getHashValueForPage(D)}else{return B+"#"+A.getHashValueForPage(D)}}}).addClass("hashAdded")}},getHashValueForPage:function(E){var C=$("body").attr("data-pageName");var B=E;switch(C){case"searchResult":var F=$("#santizedKeyword").val();var D=A.searchHashN;B=Snapdeal.hashManager._putToHash(D,F,B);case"searchCategory":var F=$("#santizedKeyword").val();var D=A.searchHashN;B=Snapdeal.hashManager._putToHash(D,F,B);case"categoryPage":if($("#labelId").val()){var F=$("#labelId").val();var D=A.labelHashN;B=Snapdeal.hashManager._putToHash(D,F,B)}break}return B}};window.Snapdeal=window.Snapdeal||{};Snapdeal.breadcrumb=A;Snapdeal.breadcrumb.render().done(function(){Snapdeal.breadcrumb.initEvents()});windowLoaded.done(function(){$(".comp-breadcrumbs").on("click",".bCrumbOmniTrack",function(){Snapdeal.Cookie.set("track",$(this).attr("omniID"),90)});if(($("body").attr("data-pageName")=="categoryPage")||($("body").attr("data-pageName")=="campaignPage")||($("body").attr("data-pageName")=="brandPage")||($("body").attr("data-pageName")=="brandCategory")){if(Snapdeal.filters){Snapdeal.filters.appendQueryParam($(".cat-nav-wrapper"))}}Snapdeal.breadcrumb.addHashToAllInternalLinks()})})();
var Snapdeal=Snapdeal||{};Snapdeal.attributesTile=(function(E,H){var G,I,A,D,B,F,C=E("#deferValidate").val();D={};F={};A={"product-attr-options":E("#product-attr-options"),pdpType:E("#pdpType").val().toLowerCase(),pincodeEnabled:E("#pincodeBoxEnabledId").val(),attributeDepthId:E("#attributeDepthId"),softBundlingSection:E("#softBundlingSection")};I={_depth:0,_attributesJson:"",_init:function(J){B=E.extend(true,{},D,J);I._attributesJson=E.parseJSON(E("#attributesJson").text()||E("#attributesJson").val());I._depth=I._getDepth(I._attributesJson);if(E("#productLifeState").val()=="buyType"){if(E("#autoSelectSupc").length>0){if(A.pdpType=="automobiles"){I._attributeClicked(E("select.pdpAttrSelectBox"),true)}else{I._attributeClicked(E(".attrActive"),false)}}E(".ftrCheckSize").on("click",function(){if(E(".jsonp-recommendation-text~ .ftrCheckSize").length>0){Snapdeal.omni.fire("fitrratiLinks",{clickSource:"editFit"})}else{Snapdeal.omni.fire("fitrratiLinks",{clickSource:"checkMySize"})}});A["product-attr-options"].on("click",".pdpAttr.attrActive",function(){I._attributeClicked(E(this),false)}).on("change","select.pdpAttrSelectBox",function(){var K=E(this);if(K.find(":selected").hasClass("attrDisabled")){I._disabledAttributeClicked(E(this),true)}else{I._attributeClicked(K,true)}}).on("click",".pdpAttr.attrDisabled",function(){I._disabledAttributeClicked(E(this),false)})}E(window).load(function(){I._lazy()});F.isPA=Snapdeal.CommonUtils.URL.getQueryParam("pa");F.forceAttr=Snapdeal.CommonUtils.URL.getQueryParam("attr");if(F.isPA&&F.forceAttr){F.findNestedAttr=true;I._selectAttribues()}if(F.isPA&&E("#primaryVendorCode").val()==Snapdeal.CommonUtils.URL.getQueryParam("vendorCode")){E("#pdp-sd-other-seller-rp").addClass("hard-hidden")}if(C&&A.attributeDepthId.val()>0){A["product-attr-options"].find("li.activeClicked").click()}},_disabledAttributeClicked:function(J,K){I._attributeClicked(J,K,true)},_attributeClicked:function(U,Q,T){var L="";var K="";E(".pdpAttr").removeClass("defaultSelt");if(T){}else{A["product-attr-options"].trigger("attributeClicked",[{objClicked:U,isSelectBox:Q}])}if(F.isPA&&F.forceAttr&&F.findNestedAttr){window.setTimeout(I._selectAttribues,0)}if(Q){if(U.val()=="undefined"){L=U.parent();L.attr("selectedAttr",U.val());K=parseInt(L.attr("level"));E(".product-attr-list").each(function(Z,Y){var a=E(this);if(a.attr("level")>K){a.remove()}});return }else{L=U.parent();L.attr("selectedAttr",U.val());K=parseInt(L.attr("level"))}}else{L=U.parent().parent();L.attr("selectedAttr",U.attr("attrId"));K=parseInt(L.attr("level"));E("#attribute-select-"+K).find(".activeClicked").removeClass("activeClicked");U.addClass("activeClicked")}I._pageAttrForFbt.splice(K);I._pageAttrForFbt.push(I._generatePageAtrrForFbt(I._getAttributesAtDepth(K),K,L.attr("selectedAttr")));var P="";if(K!=(I._depth-1)){if(T){A["product-attr-options"].trigger("disabledClicked",[])}var R=I._generateNextLevelAttr(I._getAttributesAtDepth(K+1),K,(E("#isAttributeDropDownEnabled").val()=="true"));var X=E("#attribute-select-"+(K+1));if(X.length){X.remove()}E(R).insertAfter("#attribute-select-"+K);I._pageAttrForFbt.push(I._generatePageAtrrForFbt(I._getAttributesAtDepth(K+1),K+1));Snapdeal.selectCommonConfigure.customSelect(E(".pdpAttrSelectBox").parent())}else{if(T){A["product-attr-options"].trigger("disabledAttributeClicked",[{objClicked:U,isSelectBox:Q}]);return }var W=I._getAttributesAtDepth(K);var V={};var J=[];var N=U.attr("supc");if(E("#supcVideosMap").html()){V=JSON.parse(E("#supcVideosMap").html());E.each(V,function(Y,Z){if(Y==unescape(N)){J=Z}})}var O=E("#attribute-select-"+K).attr("selectedAttr");for(var M=0;M<W.length;M++){if(W[M].value==unescape(O)){var S=E("#pincode-check").val();if(S){if((S!="Enter pincode")&&(parseInt(S).toString().length!=6)){A["product-attr-options"].trigger("pinCodeInvalid",[W[M].supc]);return }}if(C){E("#allSellersWrap").trigger("update",[W[M].supc,null]);A["product-attr-options"].trigger("updateCatalogIdAndSupc",[W[M].catalogId,W[M].supc]);if(W[M].images){E("#pageFigure").find("img").attr("src",Snapdeal.getResourcePath(W[M].images[0]))}return }Snapdeal.utility.displayPageLoader();if(S=="Enter pincode"){S=""}if(S){I._delete_cookie("sd.zone");Snapdeal.Cookie.set("spin",S+"-pdp",E("#pincodeExpiryTime").val())}A["product-attr-options"].trigger("updateCatalogIdAndSupc",[W[M].catalogId,W[M].supc]);if(W[M].images){A["product-attr-options"].trigger("productAttrSelectedChangeImage",[W[M].images,J])}I._getNewVendorData(W[M].supc,E("#catId").val(),A.pincodeEnabled?S:"",E("#catUrl").val(),E("#brandName").val(),0,1,false,false,false,false,false,false,{},true);I._getSupcDescription(W[M].supc,A.pdpType)}}}},_getSupcDescription:function(K,J){E.ajax({url:"/refreshProductDetails?supc="+K+"&pdpType="+J,cache:false,type:"GET",success:function(L){if(A.pdpType=="automobiles"){A["product-attr-options"].trigger("supcDescriptionFetched",[L,K])}else{A["product-attr-options"].trigger("supcDescriptionFetched",[L])}},error:function(L){}})},_delete_cookie:function(J){document.cookie=J+"=; path=/; domain=.snapdeal.com; expires="+new Date().toUTCString()},_getAttributesAtDepth:function(N){var M=I._attributesJson;for(var L=0;L<N;L++){var K=E("#attribute-select-"+L).attr("selectedAttr");for(var J=0;J<M.length;J++){if(M[J].value==unescape(K)){M=M[J].subAttributes;break}}}return M},_getDepth:function(J){var L=0;var K=J;while(K.length>0){L++;K=K[0].subAttributes}return L},_generateNextLevelAttr:function(K,J,N){var S=K.length;var M="";if(K[0].name.toLowerCase()=="colour"||K[0].name.toLowerCase()=="color"){M="colorMenu"}else{if(K[0].name.toLowerCase()=="size"){M="clsSizeAttr selMenu"}else{M="selMenu"}}var R="";var U='<span class="row-fluid product-attr-list '+M+'" level="'+(J+1)+'" id="attribute-select-'+(J+1)+'" selectedAttr="">';var P=E("#sizeChartData").html();var L=E("isSizeChartEnabled").val();U+='<div class="row-fluid product-attr-head">';U+="<span>Select "+K[0].name+"</span>";U+="</div>";if(K[0].name.toLowerCase()=="size"&&P&&L){U+='<span class="sizeChartWrapper"><i class="sd-icon sd-icon-sizechart"></i><a class="view-size-chart" rel="#sidebar_modal_right">Size Chart</a></span>'}if((N&&A.pdpType!="automobiles")||(A.pdpType=="automobiles"&&M!="colorMenu"&&N)){U+='<select class="pdpAttrSelectBox customized attributeSelect">';U+='<option class="" value="undefined">Select</option>';for(var O=0;O<S;O++){R="attrActive";if(K[O].soldOut){R="attrDisabled"}U+='<option class="pdpAttr '+R+'" data-classes="'+R+'" value="'+escape(K[O].value)+'"  catalogId="'+escape(K[O].catalogId)+'" supc="'+escape(K[O].supc)+'"  data-val="'+K[O].value.toLowerCase()+'">'+K[O].value+"</option>";U+=K[O].value}U+="</select>"}else{var Q="";var T="";var V="";U+='<ul data-attrName="'+K[0].name.toLowerCase()+'" class="attributeList">';for(var O=0;O<S;O++){R="attrActive";if(K[O].soldOut){R="attrDisabled"}if(M=="colorMenu"){T=K[O].value.split("#");if(T.length==2){Q="#"+T[1]}else{Q=T[0]}}if(M=="colorMenu"){V=T[0]}else{V=escape(K[O].value)}U+='<li class="rippleGrey btn btn-toggle pdpAttr '+R+'" attrId="'+escape(K[O].value)+'" title="'+V+'" catalogId="'+escape(K[O].catalogId)+'" supc="'+escape(K[O].supc)+'"  style="background:'+((M=="colorMenu"&&A.pdpType=="automobiles"&&K[O].colorCode)?K[O].colorCode:"")+'">';if(!(M=="colorMenu"&&A.pdpType=="automobiles"&&K[O].colorCode)){U+=K[O].value}U+="</li>"}U+="</ul>"}U+="</span>";return U},_getNewVendorData:function(O,S,V,X,N,M,R,L,P,Y,J,T,W,K,U){var Q="";Q+="/acors/json/v2/gvbps";Q+="?supc=";Q+=O;Q+="&catId=";Q+=S;Q+="&pc=";Q+=V;Q+="&catUrl=";Q+=X;Q+="&bn=";Q+=N;Q+="&start=";Q+=M;Q+="&count=";Q+=R;Q+="&scoreCategoryUrl=";Q+=E("#scoreCategoryUrl").val();Q+="&make2Order=";Q+=E("#make2Order").val();Q+="&auto=";Q+=E("#isAutomPdp").val();if(T){Q+="&isO2OVendorRequired=false"}else{if(Snapdeal.CommonUtils.URL.getQueryParam("vendorCode")!=E("#primaryVendorCode").val()){Q+="&isO2OVendorRequired=true"}}Q+="&vendorCode="+Snapdeal.CommonUtils.URL.getQueryParam("vendorCode");E.ajax({url:Q,dataType:"json",cache:false,type:"GET",success:function(b){if(!E.isEmptyObject(b)){if(!L){if(Y){A["product-attr-options"].trigger("productAttrSelectedAutoPin",[b,O])}else{if(U){A.softBundlingSection.trigger("pinCodeCheckOnSoftBundling",[b,O,K])}A["product-attr-options"].trigger("productAttrSelected",[b,O,J])}}else{if(W){A.softBundlingSection.trigger("softBundlingServicibilityHit",[b,O,K])}else{A["product-attr-options"].trigger("productAttrSelectedAtSecondaryLocation",[b,O,P,W])}}if(T){return }if((b.primaryVendor&&b.primaryVendor.o2oFulfilled===true)||(b.o2oVendor)){var a=false;if(!(!Snapdeal.onlineToOffline)&&Snapdeal.onlineToOffline.flow()=="O2O_PICK"){var Z=Snapdeal.onlineToOffline.getO2OVendorData();if(!(!b.o2oVendor)&&!(!Z)&&!(!Z.o2oVendor)&&Z.o2oVendor.vendorCode==b.o2oVendor.vendorCode){a=true;Snapdeal.hardBundling.resetBundlingContainer(a)}}Snapdeal.onlineToOffline.setO2OVendorData(b);Snapdeal.onlineToOffline.handleAttributeChange(b,a)}else{Snapdeal.onlineToOffline.setO2OVendorData(b);Snapdeal.onlineToOffline.resetO2O()}}else{Snapdeal.utility.hidePageLoader();if(A.pdpType!="automobiles"){Snapdeal.hardBundling.hideLoader()}}},error:function(Z){}})},_showSizeChartTooltip:function(S){var N=E("#sizeChartData").html();if(!N){return }var R=E.parseJSON(N);var J=S.text();var P=-1;var O=new Array();var K=new Array();var L=0;if(R){for(M=0;M<R[1].length;M++){if(I._intersects(I._sanitizeSize(R[1][M]),I._sanitizeSize(J))){P=M;break}}}if(P!=-1){var M=0;E.each(R,function(T,U){if(T!=1){O[M]=U[0];K[M]=U[P];M++}});L=1}else{O=R[1];E.each(R,function(T,U){if(I._intersects(I._sanitizeSize(R[T][0]),I._sanitizeSize(J))){K=R[T];L=1}})}if(L==1){S.removeAttr("title");var Q="<table cellspacing =0 cellpadding=0 class='clsToolTipList'>";E.each(O,function(T,U){Q+="<tr> <td class='clsCaption'> "+O[T]+"</td><td class='ClsGap'> &nbsp; </td> <td class='clsInfo'>"+K[T]+"</td> </tr>"});Q+="</table>";if(E(".tooltip").length>0){E(".tooltip").remove()}Snapdeal.tooltip.init({parent:S,content:Q})}},_intersects:function(K,J){return K.toLowerCase()===J.toLowerCase()},_sanitizeSize:function(J){return J.replace(/( )+/g," ").trim()},_getAttrStr:function(){var J="";E(".product-attr-head").each(function(K,L){if(K==0){J="";J+=" "+E.trim(E(L).text()).substring(7)}else{J+="/"+E.trim(E(L).text()).substring(7)}});return J.toLowerCase()},_nonPdpPageAttr:"",_isDropDownEnabled:false,_createFirstLevelAttrNonPdpPage:function(O,M,J,N,L,Q,P){I._nonPdpPageAttr=O;I._isDropDownEnabled=M;var K=I._createAttributeNonPdpPageGeneric(O,0,I._isDropDownEnabled,J);I._fbtAttr.length=0;I._fbtAttr.push(I._generateFbtAttrForBuy(I._nonPdpPageAttr,0));E(document.body).on("click",".nonPdpPageAttr.attrActive",function(R){I._createNonPdpPageNextLevelAttributes(E(this),I._nonPdpPageAttr,false,J,N,L,Q,P);R.stopImmediatePropagation()}).on("change","select.nonPdpPageAttrSelectBox",function(S){var R=E(this);if(R.find(":selected").hasClass("attrDisabled")){}else{I._createNonPdpPageNextLevelAttributes(R,I._nonPdpPageAttr,true,J,N,L,Q);S.stopImmediatePropagation()}});return[K,O[0].name]},_createAttributeNonPdpPageGeneric:function(K,J,L,P){var M="";if(K[0].name.toLowerCase()=="colour"||K[0].name.toLowerCase()=="color"){M="colorMenu"}else{if(K[0].name.toLowerCase()=="size"){M="ClsSizeAttr selMenu"}else{M="selMenu"}}var O="";var Q='<div class="row-fluid product-attr-list-non-pdp-page '+M+'" level="'+J+'" iid="attribute-select-non-pdp-page-'+J+'" selectedAttr="">';var R=K.length;if(L){Q+='<select data-ul="ftb-ul" class="nonPdpPageAttrSelectBox customized">';Q+='<option class="" value="undefined">Select '+K[0].name+"</option>";for(var N=0;N<R;N++){if(!K[N].soldOut){O="attrActive";Q+='<option class="nonPdpPageAttr '+O+'" data-classes="'+O+'" value="'+escape(K[N].value)+'"  catalogId="'+escape(K[N].catalogId)+'" supc="'+escape(K[N].supc)+'">'+K[N].value+"</option>";Q+=K[N].value}}Q+="</select>"}else{if(P){Q+='<i class="sd-icon sd-icon-delete-sign closeSecondaryOldCheckBox rfloat cur-pointer"></i>';Q+='<h3 class="fnt-19 combo-attr-heading">Select '+K[0].name+"</h3>"}Q+="<ul>";for(var N=0;N<R;N++){if(!K[N].soldOut){O="attrActive";Q+='<li class="rippleGrey btn btn-toggle nonPdpPageAttr '+O+'" attrId="'+escape(K[N].value)+'" title="'+escape(K[N].value)+'" catalogId="'+escape(K[N].catalogId)+'" supc="'+escape(K[N].supc)+'">';Q+=K[N].value;Q+="</li>"}}Q+="</ul>"}Q+="</div>";return Q},_createNonPdpPageNextLevelAttributes:function(W,Z,Q,P,N,V,Y,T){var S=Z;var O=I._getDepth(S);var L="";var J="";var M="";var U="";if(Q){if(W.val()=="undefined"){L=W.parent();L.attr("selectedAttr",W.val());J=parseInt(L.attr("level"));M="";return }else{L=W.parent();L.attr("selectedAttr",W.val());J=parseInt(L.attr("level"));M=W.find(":selected").attr("supc");var K=E('div[iid="attribute-select-non-pdp-page-'+J+'"]');K.removeClass("currentlyClicked");L.addClass("currentlyClicked")}}else{L=W.parent().parent();L.attr("selectedAttr",W.attr("attrId"));J=parseInt(L.attr("level"));M=W.attr("supc");U=W.attr("catalogId");var K=E('div[iid="attribute-select-non-pdp-page-'+J+'"]');K.find(".activeClicked").removeClass("activeClicked");K.removeClass("currentlyClicked");L.addClass("currentlyClicked");W.addClass("activeClicked")}I._fbtAttr.splice(J);I._fbtAttr.push(I._generateFbtAttrForBuy(I._getAttributesAtDepthForNonPdpPage(J,S),J,L.attr("selectedAttr")));if(J!=(O-1)){var R=I._createAttributeNonPdpPageGeneric(I._getAttributesAtDepthForNonPdpPage(J+1,S,W),J+1,Q,P);var X=E('div[iid="attribute-select-non-pdp-page-'+(J+1)+'"]');if(X.length){X.remove()}E(R).insertAfter(L);E("#content_wrapper").trigger("nonPdpPageAttrSelectedLevel",[Q,J,W]);I._fbtAttr.push(I._generateFbtAttrForBuy(I._getAttributesAtDepthForNonPdpPage(J+1,S),J+1));Snapdeal.selectCommonConfigure.customSelect(E(".nonPdpPageAttrSelectBox").parent())}else{if(P){I._getVendorForNonPdpAttr(M,false,N,V,Y,Snapdeal.hardBundling.checkPincodeAvailabe(),true);E("#content_wrapper").trigger("nonPdpPageAttrSelectedBundle",[M,U]);if(T=="primary"){E(".checkingServiceabilityPrimaryBundle").removeClass("hidden")}else{E(".checkingServiceabilitySecondaryBundle").removeClass("hidden")}}else{I._getVendorForNonPdpAttr(M,false);E("#content_wrapper").trigger("nonPdpPageAttrSelected",[M])}}},_getVendorForNonPdpAttr:function(N,P,M,L,O,Q,J){var K=true;I._getNewVendorData(N,M?M:E("#catId").val(),Q?Q:"",L?L:E("#catUrl").val(),O?O:E("#brandName").val(),0,1,K,P,false,false,J?J:false)},_getAttributesAtDepthForNonPdpPage:function(Q,K,J){var P=K;for(var O=0;O<Q;O++){var L=E.map(E('div[iid="attribute-select-non-pdp-page-'+O+'"]'),function(S,R){if(E(S).hasClass("currentlyClicked")){return S}});var N=L.length?L[0].getAttribute("selectedAttr"):"";for(var M=0;M<P.length;M++){if(P[M].value==unescape(N)){P=P[M].subAttributes;break}}}return P},_pageAttrForFbt:[],_fbtAttr:[],_generatePageAtrrForFbt:function(K,J,N){var N=N||"";var M="";if(K[0].name.toLowerCase()=="colour"||K[0].name.toLowerCase()=="color"){M="colorMenu"}else{if(K[0].name.toLowerCase()=="size"){M="ClsSizeAttr selMenu"}else{M="selMenu"}}var P="";var Q='<div class="row-fluid product-attr-list-page-attr-fbt '+M+'" level="'+J+'" id="attribute-select-page-attr-fbt-'+J+'" selectedAttr="'+N+'">';var R=K.length;var L="";Q+='<select data-ul="ftb-ul" class="pageAttrForFbtSelectBox customized">';Q+='<option class="" value="undefined">Select '+K[0].name+"</option>";for(var O=0;O<R;O++){if(!K[O].soldOut){P="attrActive";L=(K[O].value==N)?"selected":"";Q+="<option "+L+' class="pageAttrForFbt '+P+'" data-classes="'+P+'" value="'+escape(K[O].value)+'"  catalogId="'+escape(K[O].catalogId)+'" supc="'+escape(K[O].supc)+'">'+K[O].value+"</option>";Q+=K[O].value}}Q+="</select>";Q+="</div>";return Q},_createNextLevelpageAttrForFbtSelectBox:function(J){var L="";var Q="";var M="";var N="";if(J.val()=="undefined"){L=J.parent();L.attr("selectedAttr",J.val());Q=parseInt(L.attr("level"));M="";N="";E(".product-attr-list-page-attr-fbtt").each(function(S,R){var T=E(this);if(T.attr("level")>Q){T.remove()}});return }else{L=J.parent();L.attr("selectedAttr",J.val());Q=parseInt(L.attr("level"));M=J.find(":selected").attr("supc");N=J.find(":selected").attr("catalogId")}var K="";if(Q!=(I._depth-1)){var P=I._generatePageAtrrForFbt(I._getAttributesAtDepthForPageAttrForFbt(Q+1,I._attributesJson,J),Q+1);var O=E("#attribute-select-page-attr-fbt-"+(Q+1));if(O.length){O.remove()}E(P).insertAfter("#attribute-select-page-attr-fbt-"+Q);E("#content_wrapper").trigger("primaryProductAtSecondaryLocationNonLastLevelAttrSelected",[Q,M]);Snapdeal.selectCommonConfigure.customSelect(E(".pageAttrForFbtSelectBox").parent())}else{E("#content_wrapper").trigger("primaryProductAtSecondaryLocationAttrSelected",[Q,M,N]);I._getVendorForNonPdpAttr(M,true)}},_getAttributesAtDepthForPageAttrForFbt:function(P,K,J){var O=K;for(var N=0;N<P;N++){var M=E("#attribute-select-page-attr-fbt-"+N).attr("selectedAttr");for(var L=0;L<O.length;L++){if(O[L].value==unescape(M)){O=O[L].subAttributes;break}}}return O},_generateFbtAttrForBuy:function(K,J,N){var N=N||"";var M="";if(K[0].name.toLowerCase()=="colour"||K[0].name.toLowerCase()=="color"){M="colorMenu"}else{if(K[0].name.toLowerCase()=="size"){M="ClsSizeAttr selMenu"}else{M="selMenu"}}var P="";var Q='<div class="row-fluid product-attr-list-non-pdp-page '+M+'" level="'+J+'" iid="attribute-select-non-pdp-page-'+J+'" selectedAttr="">';var R=K.length;var L="";Q+='<select data-ul="ftb-ul" class="nonPdpPageAttrSelectBox customized">';Q+='<option class="" value="undefined">Select '+K[0].name+"</option>";for(var O=0;O<R;O++){if(!K[O].soldOut){P="attrActive";L=(K[O].value==N)?"selected":"";Q+="<option "+L+' class="nonPdpPageAttr '+P+'" data-classes="'+P+'" value="'+escape(K[O].value)+'"  catalogId="'+escape(K[O].catalogId)+'" supc="'+escape(K[O].supc)+'">'+K[O].value+"</option>";Q+=K[O].value}}Q+="</select>";Q+="</div>";return Q},_getPageAttrForFbt:function(){return I._pageAttrForFbt},_getFbtAttr:function(){return I._fbtAttr},_lazy:function(){A["product-attr-options"].on("mouseover",".clsSizeAttr .pdpAttr",function(){I._showSizeChartTooltip(E(this))}).on("mouseout",".clsSizeAttr .pdpAttr",function(){E(".tooltip").addClass("hidden")});if(I._attributesJson&&I._attributesJson.length>0){I._pageAttrForFbt.push(I._generatePageAtrrForFbt(I._attributesJson,0));E(document.body).on("change","select.pageAttrForFbtSelectBox",function(K){var J=E(this);if(J.find(":selected").hasClass("attrDisabled")){}else{I._createNextLevelpageAttrForFbtSelectBox(J,I._attributesJson,true);K.stopImmediatePropagation()}})}},_selectAttribues:function(){var N=F.forceAttr,L={},K=N.split("|"),Q=E("#product-attr-options"),P=Q.find(".attributeList").last(),J=P.attr("data-attrName"),O="",M;K.forEach(function(R){M=R.split(":");L[M[0].toLowerCase()]=M[1].toLowerCase()});F.findNestedAttr=false;O=L[J];P.find("li").each(function(){var R=E(this);if(R.hasClass("activeClicked")){return false}if(R.attr("data-val")==O){F.findNestedAttr=true;R.trigger("click");return true}})}};G={init:function(){return I._init.apply(this,arguments)},getNewVendorData:function(){return I._getNewVendorData.apply(this,arguments)},getAttrStr:function(){return I._getAttrStr.apply(this,arguments)},createFirstLevelAttrNonPdpPage:function(){return I._createFirstLevelAttrNonPdpPage.apply(this,arguments)},getDepth:function(){return I._getDepth.apply(this,arguments)},delete_cookie:function(){return I._delete_cookie.apply(this,arguments)},getPageAttrForFbt:function(){return I._getPageAttrForFbt.apply(this,arguments)},getFbtAttr:function(){return I._getFbtAttr.apply(this,arguments)}};return G})(window.jQuery,Snapdeal);Snapdeal.attributesTile.init();if($(".pdpAttrSelectBox").length){Snapdeal.selectCommonConfigure.customSelect($(".pdpAttrSelectBox").parent())};
var Snapdeal=Snapdeal||{};Snapdeal.rightPanel=(function(G,E){var D,C,A,H,B,F;H={};A={pdpSellerInfo:G("#pdp-seller-info-rp"),pdpSellerSdFulfiled:G("#pdp-sd-fulfiled-rp"),pdpSellerBrandAuthorised:G("#pdp-sd-brand-authorised-rp"),pdpOtherSeller:G("#pdp-sd-other-seller-rp"),pdpType:G("#pdpType").val().toLowerCase(),bookingAmtTooltip:G(".bookingAmtTooltip"),exShowRoomTooltip:G(".exShowRoomTooltip"),isAttributeDropDownEnabled:G("#isAttributeDropDownEnabled"),pdpDonationPage:G("#pdpDonation").val()};C={_init:function(I){B=G.extend(true,{},H,I);G("#product-attr-options").on("productAttrSelected",function(L,K,J){C._updateSellerInfo(K,J);C._updatePriceInfo(K);C._updateWalletCashBack(K.primaryVendor);C._updateOffersInfo(K);if(A.pdpDonationPage!="true"&&A.pdpType!="automobiles"){C._updateOtherSellerLink(J)}}).on("productAttrSelectedAutoPin",function(L,K,J){C._updateSellerInfo(K,J);C._updatePriceInfo(K);C._updateWalletCashBack(K.primaryVendor);C._updateOffersInfo(K);if(A.pdpDonationPage!="true"&&A.pdpType!="automobiles"){C._updateOtherSellerLink(J)}}).on("attributeClicked",function(K,J){if(A.pdpDonationPage!="true"&&A.pdpType!="automobiles"){C._updateOtherSellerLink("")}});if(A.pdpType=="automobiles"){C._generateAutomExShowRoomTooltip();C._generateAutomBookingAmtTooltip()}G(window).load(function(){C._lazy()})},_updateOtherSellerLink:function(I){if(A.isAttributeDropDownEnabled.val()=="true"){return }var J=A.pdpOtherSeller.find("a");J.attr("href",J.attr("href").split("?supc=")[0]+"?supc="+I)},_generateAutomExShowRoomTooltip:function(){A.exShowRoomTooltip.on("click",function(I){I.stopPropagation();Snapdeal.tooltip.init({parent:G(this),content:G("#exShowRoomTooltipId").html(),isPopOver:true,customClass:"sameDayTooltipClass"})})},_generateAutomBookingAmtTooltip:function(){A.bookingAmtTooltip.on("click",function(I){I.stopPropagation();Snapdeal.tooltip.init({parent:G(this),content:G("#bookingAmtTooltipId").html(),isPopOver:true,customClass:"sameDayTooltipClass"})})},_lazy:function(){G(".productReleaseDateIcon").on("click",function(I){I.stopPropagation();Snapdeal.tooltip.init({parent:G(this),content:"This product will be shipped to you on day of its official release date.",isPopOver:true,customClass:"preOrderTooltipClass"})});G(document).on("keyup",function(I){if(I.keyCode==27&&G(".popover,.tooltip, .styledSelect.customized")){G(".popover,.tooltip,div.options").hide();G(".styledSelect.customized").removeClass("active")}});G(".comp-product-specs .spec-body .dtls-li a").on("click",function(K){var I=G(this);var J=I.find("span.extLink-lbl").text().trim();getOmnitureScript({usefullinks:"usefullinks_"+J},"usefullinks_clicked")})},_updateSellerInfo:function(K,I){A.pdpSellerInfo.find(".pdp-e-seller-info-name").html(K.primaryVendor.vendorDisplayName.toLowerCase());A.pdpSellerInfo.find(".pdp-e-seller-info-name").attr("href","/seller/"+K.primaryVendor.vendorUrlName.replace(/\//g,"")+"/"+K.primaryVendor.vendorCode);if(K.primaryVendor.overallRating){var J='<label class="label label-blue"><b class="roboto">';J+=parseFloat(K.primaryVendor.overallRating).toFixed(1);J+="</b>/5</label><span> &nbsp;seller score</span>";A.pdpSellerInfo.find(".pdp-e-seller-info-score").html(J)}else{A.pdpSellerInfo.find(".pdp-e-seller-info-score").html('<span class="newSeller">new seller</span>')}A.pdpSellerInfo.find(".miootOnOff").attr({sellerCode:K.primaryVendor.vendorCode});if(!K.primaryVendor.sdFulfilled){A.pdpSellerSdFulfiled.addClass("hidden")}else{A.pdpSellerSdFulfiled.removeClass("hidden")}if(!K.primaryVendor.brandAuthorised){A.pdpSellerBrandAuthorised.addClass("hidden")}else{A.pdpSellerBrandAuthorised.removeClass("hidden")}if(K.vendorCount>1){A.pdpOtherSeller.find("a span").html(K.vendorCount-1);A.pdpOtherSeller.removeClass("hidden")}else{A.pdpOtherSeller.addClass("hidden")}},_updatePriceInfo:function(J){var K=G("#buyPriceBox .pdp-e-i-PAY-r");if(J.primaryVendor.effectivePercentOff==0){K.find(".pdpCutPrice").addClass("hidden");K.find(".pdpDiscount").addClass("hidden")}else{if(J!=null&&J.primaryVendor!=null&&J.primaryVendor.price>J.primaryVendor.sellingPrice){K.find(".pdpCutPrice").html("Rs. "+Snapdeal.utility.commafy(J.primaryVendor.price));K.find(".pdpCutPrice").removeClass("hidden")}else{K.find(".pdpCutPrice").addClass("hidden")}K.find(".pdpDiscount > span").html(J.primaryVendor.effectivePercentOff);K.find(".pdpDiscount").removeClass("hidden")}var I=J.primaryVendor.externalCashBackApplicable?J.primaryVendor.sellingPriceAftExtCashBack:J.primaryVendor.sellingPrice;K.find(".payBlkBig").html(Snapdeal.utility.commafy(I));G("#productSellingPrice").val(I);var L=J.primaryVendor.appOnlyOfferPrice;if(L){G(".price-on-app-text .new-price").html("Rs. "+Snapdeal.utility.commafy(L))}else{G(".price-on-app-text").css("display","none")}},_updateWalletCashBack:function(N){var M=false;var J=G("#globalSwitchForWalletCashback").val();if(J=="true"&&N.walletCashBackApplicable!=null&&N.walletCashBackApplicable&&N.walletCashBackValueInt>0){M=true}var K=G("#buyPriceBox");if(M){if(K.find(".walletCashBackBlck").length>0){var I=K.find(".walletCashBackBlck");I.find(".cashBackColor").html("Rs. "+N.walletCashBackValueInt);I.find(".effectivePriceColor").html("Rs. "+N.effectivePriceAfterWalletCashback)}else{var L='<div class="walletCashBackBlck row pdp-e-i-CashBack"><div><div class="pDPWCBBDiv"><span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> <span class="cashBackk">Cashback</span> <span class="cashBackColor">Rs. '+N.walletCashBackValueInt+'</span> </div></div><div><div class="pDPWCBBDiv"><span class="effectivePrice">'+G("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor">Rs. '+N.effectivePriceAfterWalletCashback+"</span></div></div>";"</div>";K.find(".pdp-e-i-PAY").after(L)}K.find(".walletCashBackBlck").show();G("#pdpWalletCashBackOmni").val(N.walletCashBackValueInt)}else{K.find(".walletCashBackBlck").hide();G("#pdpWalletCashBackOmni").val("0")}},_updateOffersInfo:function(J){var K=G(".pdp-e-i-alloffers");var I=K.find(".genericOfferClass");if(J.primaryVendor.listOfFreebieDTO&&J.primaryVendor.listOfFreebieDTO.length){K.removeClass("o2o-display-hidden");K.removeClass("hidden");if(I&&I.length){K.find(".addSignClass").removeClass("hidden");I.removeClass("freebieNotPresentClass").addClass("freebiePresentClass")}else{K.find(".addSignClass").addClass("hidden")}K.find(".freebieClass").removeClass("hidden");K.find(".exchangeOldDivClass").addClass("hidden");K.find(".exchangeOldDivIconClass").addClass("hidden")}else{K.find(".addSignClass").addClass("hidden");K.find(".freebieClass").addClass("hidden");if(I&&I.length){K.removeClass("hidden");I.addClass("freebieNotPresentClass").removeClass("freebiePresentClass")}else{if(G("#buyBackFlag").val()=="true"){K.find(".exchangeOldDivClass").removeClass("hidden");K.find(".exchangeOldDivIconClass").removeClass("hidden")}else{K.addClass("hidden");K.addClass("o2o-display-hidden")}}}},_setIntervals:""};D={init:function(){return C._init.apply(this,arguments)}};return D})(window.jQuery,Snapdeal);Snapdeal.rightPanel.init();$("#content_wrapper").on("click",".pdp-e-i-keyspecs",function(){var C=$("#catalogId").val();var A=$("#catUrl").val();var B=$("#pogId").val();$("html, body").animate({scrollTop:$("#productDescription").offset().top},1500);getOmnitureScript({catalogId:C,categoryUrl:A,podId:B},"pdpViewAllSpecifications")});$("#content_wrapper").on("click",".pdp-e-i-alloffers",function(){var E=$("#offersContent");var D="Offers";E.find(".load-more-offers").hide();var A=E.find(".active-modal-offersPanel").detach();E.find("#offersModal").append(A);Snapdeal.sidebar.open(E,D,"customModalWidth");var C=$("#catalogId").val();var B=$("#catUrl").val();getOmnitureScript({catalogId:C,categoryUrl:B,data:"top"},"pdpOffers")});$(".soldDiscontAlert .close").click(function(){$(".soldDiscontAlert").fadeOut()});$(".system_message .close").click(function(){$(".system_message").fadeOut()});setTimeout(function(){$(".system_message").fadeOut()},5000);$(window).on("load",function(){if(!Boolean(document.getElementById("dfpAdsConfig"))){return }var A=$.parseJSON(document.getElementById("dfpAdsConfig").value);if(A==undefined){return }Snapdeal.dfpAds.init(A[0].dfpUserCode,A[0].targetingValuesArray,A[0].dfpSlots)});$(document).ready(function(){$("#back-top").hide();$(window).scroll(function(){if($(this).scrollTop()>1000){$("#back-top").fadeIn()}else{$("#back-top").fadeOut()}});$("#back-top a").click(function(){$("body,html").animate({scrollTop:0},800);return false})});
var Snapdeal=Snapdeal||{};Snapdeal.sizeChart=(function(G,E){var D,C,A,H,B,F;C={_init:function(J){try{C._displaySizeChart(G("#sizeChartData").html())}catch(I){}G("#content_wrapper").on("click",".view-size-chart",C._openSideBar)},_displaySizeChart:function(K){if(K){var J=jQuery.parseJSON(K);var I="<div class='pdp-size-chart-table-wrapper' tabindex='-1'><table>";I+="<thead><tr>";G.each(J["1"],function(M,N){I+="<td>"+N+"</td>"});I+="</tr></thead>";I+="<tbody>";for(var L in J){if(L!="1"){I+="<tr>";G.each(J[L],function(M,N){I+="<td>"+N+"</td>"});I+="</tr>"}}I+="</tbody></table></div>";G("#pdp-size-chart-values").append(I)}},_openSideBar:function(L){var M=G("#sizeChartModal");var K="Size Chart";Snapdeal.sidebar.open(M,K);setTimeout(function(){G(".pdp-size-chart-table-wrapper").focus().click()},700);var J=G("#catalogId").val();var I=G("#catUrl").val();getOmnitureScript({catalogId:J,categoryUrl:I},"sizeChartRevamp")}};D={init:function(){return C._init.apply(this,arguments)}};return D})(window.jQuery,Snapdeal);Snapdeal.sizeChart.init();
var Snapdeal=Snapdeal||{};Snapdeal.pincodeTile=(function(E,H){var G,I,A,D,B,F,C=E("#deferValidate").val();D={};A={"pdp-pincode-rp":E("#pdp-pincode-rp"),pinCodeCod:E("#pincode-cod"),pinCodeSdd:E("#pincode-sdd"),pinCodeNdd:E("#pincode-ndd"),pinCodeGwp:E("#pincode-gwp"),pinCodeCheckBtn:E("#pincode-check-bttn"),pincodeModal:E("#pincodeModal"),pincodeCheck:E("#pincode-check"),skipPopup:E("#skipPopup"),pinCheckedEdd:E(".pin-checked-edd"),pinCodeExpectedDd:E("#pincode-expected-dd"),pinCodeShippingDays:E(".pincode-shipping-days"),ddrangeScoreSwitch:E("#ddrangeScoreSwitch").val(),ddrangeSwitch:E("#ddrangeSwitch").val(),ddrCheck:E("#ddrCheck").val(),pincodeEnabled:E("#pincodeBoxEnabledId").val(),pdpType:E("#pdpType").val().toLowerCase(),softBundlingSection:E("#softBundlingSection")};I={_init:function(K){B=E.extend(true,{},D,K);var J=Snapdeal.Cookie.get("spin");if(!J){if(!(Snapdeal.Cookie.get("modalOpen"))){A.pincodeModal.removeClass("hidden")}else{A.pincodeModal.addClass("hidden")}}E("#product-attr-options").on("disabledAttributeClicked",function(M,L){A.pinCodeCheckBtn.attr("supc","undefined");I._disabledAttributeClicked(L.objClicked,L.isSelectBox)}).on("disabledClicked",function(M,L){A.pinCodeCheckBtn.attr("supc","undefined")}).on("attributeClicked",function(M,L){A.pinCodeCheckBtn.attr("supc","undefined");I._attributeClicked(L.objClicked,L.isSelectBox)}).on("productAttrSelected",function(P,N,M,L){var O="";if(L==true){A.pincodeModal.find("#pincode-check-pop").removeClass("validate-error-background-pink validate-error-border-red");if(M){A.pincodeModal.find("#pincode-check-bttn-pop").attr("supc",M)}O=E("#pincode-check-pop").val()}else{A.pincodeCheck.removeClass("validate-error-background-pink validate-error-background-pink");if(M){A.pinCodeCheckBtn.attr("supc",M)}O=E("#pincode-check").val()}if(O&&(O!="Enter pincode")){I._updatePinCodeInfo(N,O,L);I._setPinCodeInCookie(O);I._generateSameDayTooltip(N);I._generateNextDayTooltip(N);I._generateDeliveryInfoTooltip(N);I._generateDeliverOtherLeviesTooltip(N)}setTimeout(function(){Snapdeal.utility.hidePageLoader()},1000)}).on("productAttrSelectedAutoPin",function(O,M,L){var N="";if(E("#pincodeModal").is(":visible")==true){N=E("#pincode-check-pop").val()}else{N=E("#pincode-check").val()}if(N&&(N!="Enter pincode")){I._updatePinCodeInfo(M,N);I._setPinCodeInCookie(N);I._generateSameDayTooltip(M);I._generateNextDayTooltip(M);I._generateDeliveryInfoTooltip(M);I._generateDeliverOtherLeviesTooltip(M)}setTimeout(function(){Snapdeal.utility.hidePageLoader()},7000)}).on("pinCodeInvalid",function(M,L){A.pinCodeCheckBtn.attr("supc",L);I._invalidPinCode()}).on("updateCatalogIdAndSupc",function(M,N,L){if(L){A.pinCodeCheckBtn.attr("supc",L)}});I._generateSameDayTooltip({});I._generateNextDayTooltip({});I._generateDeliveryInfoTooltip({});I._generateDeliverOtherLeviesTooltip({});E(window).load(function(){I._lazy()})},_disabledAttributeClicked:function(J,K){I._hidePinCodeErrorDiv();A["pdp-pincode-rp"].addClass("hidden")},_attributeClicked:function(){I._hidePinCodeErrorDiv();if(A.pincodeEnabled=="true"){A["pdp-pincode-rp"].removeClass("hidden")}},_invalidPinCode:function(){var J="Please enter a valid pincode";A["pdp-pincode-rp"].find(".emptyAttr").html(J).removeClass("hidden");A.pincodeCheck.addClass("validate-error-background-pink validate-error-border-red");A["pdp-pincode-rp"].find(".wrongPinText").addClass("hidden")},_invalidPinCodePop:function(){var J="Please enter a valid pincode";A.pincodeModal.find(".emptyAttr").html(J).removeClass("hidden");A.pincodeModal.find("#pincode-check-pop").addClass("validate-error-background-pink validate-error-border-red")},_updatePinCodeInfo:function(j,L,U){var T=E("#catalogId").val();var e=E("#catUrl").val();var J=E("#isAutomPdp").val()=="true"?j.primaryVendor.isStdPickupAvailable:j.primaryVendor.isStdAvailable;E("#checkError").addClass("hidden");var k="false";var R=new Date();var P="",i="",b="",V="";var N="",a="",X="",d="";var O=0,c=0;if(j.primaryVendor.o2oFulfilled){k="primary_O2O"}else{if(!!j.o2oVendor&&j.o2oVendor.o2oFulfilled){k="secondary_O2O"}}var W="";var M=Snapdeal.onlineToOffline.getO2OVendorData();if(M&&M!==""||M!==undefined||M!==null){if(M.hasOwnProperty("o2oVendor")&&M.o2oVendor!=null){if(M.o2oVendor.sellingPrice!==undefined){W=(((M.o2oVendor.sellingPrice-M.primaryVendor.sellingPrice)/M.primaryVendor.sellingPrice)*100).toFixed(2)}}}if(U){getOmnitureScript({catalogId:E("#buy-button-id-autom").attr("catalog"),categoryUrl:e,pincode:L,is_deliverable:J,isO2OAvailable:k,O2O_pricedifference:W,cashBackValue:E("#pdpWalletCashBackOmni").val()||"",vendorCode:j.primaryVendor.vendorCode,octroiCharges:E(".areaLevies").html(),shipFarCharges:E("#shipFarCharge").html()},"pdpZipCheckedPopup")}else{getOmnitureScript({catalogId:T,categoryUrl:e,pincode:L,codAvailable:j.primaryVendor.isCodAvailable,is_deliverable:J,isO2OAvailable:k,O2O_pricedifference:W,cashBackValue:E("#pdpWalletCashBackOmni").val()||"",vendorCode:j.primaryVendor.vendorCode,octroiCharges:E(".areaLevies").html(),shipFarCharges:E("#shipFarCharge").html()},"pdpZipChecked")}A.pincodeModal.addClass("hidden");var S="";if(j.primaryVendor.isStdPickupAvailable||(!!j.o2oVendor&&j.o2oVendor.isStdPickupAvailable)){S=true}else{if(A.pdpType=="automobiles"){S=false}else{S=j.primaryVendor.isStdAvailable}}if(!S){E(".check-avail-head, .check-avail-pin-inner, .selfPickDate, .checkPinHead").removeClass("hidden");E(".pin-checked").addClass("hidden");A.pinCodeCheckBtn.next().removeClass("hidden");E(".check-avail-pin-inner").find(".wrongPinText").removeClass("hidden");return }A.pinCodeCheckBtn.next().addClass("hidden");E("#pincode-val").html(L);if((j.primaryVendor.isCodAvailable)&&(E("#codValidOnCategory").val()=="true")){A.pinCodeCod.removeClass("hidden")}else{A.pinCodeCod.addClass("hidden")}if(j.sameDayDeliveryAvailability&&j.primaryVendor.sameDayDates&&!E.isEmptyObject(j.primaryVendor.sameDayDates)&&j.primaryVendor.sameDayDates.stdDate){if(!!j.primaryVendor.sameDayCutOff&&(j.primaryVendor.sameDayCutOff.stdDateTime||j.primaryVendor.sameDayCutOff.codDateTime)){if(j.primaryVendor.sameDayCutOff.stdDateTime){P=new Date(j.primaryVendor.sameDayCutOff.stdDateTime.date)}else{if(j.primaryVendor.sameDayCutOff.codDateTime){P=new Date(j.primaryVendor.sameDayCutOff.codDateTime.date)}}if(P.getTime()>R.getTime()){N=parseInt(parseInt(j.sameDayDeliveryCharges)+parseInt(!(!j.primaryVendor.sameDayShipFarCharge)?j.primaryVendor.sameDayShipFarCharge:0)+parseInt(j.primaryVendor.sameDayTaxAmount)+parseInt(!(!j.primaryVendor.shippingCharges)?j.primaryVendor.shippingCharges:0));A.pinCodeSdd.find(".rsInfo ").html((N>0)?" (+) Rs "+N:" Free ").removeClass("hidden");O=Math.floor((P.getTime()-R.getTime())/(1000*60*60));c=parseInt(((P.getTime()-R.getTime())/(1000*60))%60);V=j.primaryVendor.sameDayDates.stdDate;X=new Date(V).getDate();b="Order in next ";if(O>0){b+=O+"&nbsp;hour(s)&nbsp;"}if(c>0){b+=c+"&nbsp;minute(s)&nbsp;"}b+="& get it ";if(X==R.getDate()){b+="today, "}else{if(X==(R.getDate()+1)){b+="tomorrow, "}else{b+="by "}}b+=V.substring(0,V.indexOf(","));A.pinCodeSdd.find(".orderBefore").html(b);b="";if(O>0||c>0){A.pinCodeSdd.removeClass("hidden")}else{A.pinCodeSdd.addClass("hidden")}}else{A.pinCodeSdd.addClass("hidden")}}}else{A.pinCodeSdd.addClass("hidden")}if(j.nextDayDeliveryAvailability&&j.primaryVendor.nextDayDates&&!E.isEmptyObject(j.primaryVendor.nextDayDates)&&j.primaryVendor.nextDayDates.stdDate){if(!!j.primaryVendor.nextDayCuttOff&&(j.primaryVendor.nextDayCuttOff.stdDateTime||j.primaryVendor.nextDayCuttOff.codDateTime)){if(j.primaryVendor.nextDayCuttOff.stdDateTime){i=new Date(j.primaryVendor.nextDayCuttOff.stdDateTime.date)}else{if(j.primaryVendor.nextDayCuttOff.codDateTime){i=new Date(j.primaryVendor.nextDayCuttOff.codDateTime.date)}}if(i.getTime()>R.getTime()){a=parseInt(parseInt(j.nextDayDeliveryCharges)+parseInt(!(!j.primaryVendor.nextDayShipFarCharge)?j.primaryVendor.nextDayShipFarCharge:0)+parseInt(j.primaryVendor.nextDayTaxAmount)+parseInt(!(!j.primaryVendor.shippingCharges)?j.primaryVendor.shippingCharges:0));A.pinCodeNdd.find(".rsInfo ").html((a>0)?" (+) Rs "+a:" Free ").removeClass("hidden");O=Math.floor((i.getTime()-R.getTime())/(1000*60*60));c=parseInt(((i.getTime()-R.getTime())/(1000*60))%60);V=j.primaryVendor.nextDayDates.stdDate;d=new Date(V).getDate();b="Order in next ";if(O>0){b+=O+"&nbsp;hour(s)&nbsp;"}if(c>0){b+=c+"&nbsp;minute(s)&nbsp;"}b+="& get it ";if(d==(R.getDate()+1)){b+="tomorrow, "}else{b+="by "}b+=V.substring(0,V.indexOf(","));A.pinCodeNdd.find(".orderBefore").html(b);b="";if(O>0||c>0){A.pinCodeNdd.removeClass("hidden")}else{A.pinCodeNdd.addClass("hidden")}}else{A.pinCodeNdd.addClass("hidden")}}}else{A.pinCodeNdd.addClass("hidden")}if(!j.primaryVendor.giftWrapAvailable){A.pinCodeGwp.addClass("hidden")}else{A.pinCodeGwp.find(".rsInfo ").html(": +Rs "+j.primaryVendor.giftWrapCharges).removeClass("hidden");A.pinCodeGwp.removeClass("hidden")}E(".promise-engine-icon").remove();E(".installationFur").removeClass("padding-left30");E(".options-avail-tick").removeClass("padding-left38");if(j.primaryVendor.rangeSource&&j.primaryVendor.rangeSource=="PROMISE"){E(".deliveryText").prepend("<span class='promise-engine-icon'></span>");E(".installationFur").addClass("padding-left30");E(".options-avail-tick").addClass("padding-left38")}E(".pin-checked").removeClass("hidden");E(".check-avail-head, .check-avail-pin-inner").addClass("hidden");E(".selfPickDate, .noServiceableError").addClass("hidden");if(J){var h=j.primaryVendor.otoDRange;if(h&&!E.isEmptyObject(h)){var Z=j.primaryVendor.otoDRange,g=j.primaryVendor.shippingDays,f=E(".ddrPinCheck");if(Z&&!E.isEmptyObject(Z)&&E(ddrCheck).val()=="true"){var Y=Z.min+" - "+Z.max+" day(s)";f.removeClass("hidden").find(".otoDRange").show();A.pinCodeExpectedDd.html(Y);E(".ddrPinCheck").show();f.find(".shippingDays").hide();E(".dynamicField").hide()}else{f.removeClass("hidden");f.find(".otoDRange").hide();f.find(".shippingDays").show();A.pinCodeShippingDays.html(g);E(".dynamicField").hide()}if(parseInt((!(!j.primaryVendor.shippingCharges)?j.primaryVendor.shippingCharges:0)+(!(!j.primaryVendor.shipFarCharge)?j.primaryVendor.shipFarCharge:0)+j.primaryVendor.taxAmount)==0){E(".ddrPinCheck").find(".freeDeliveryChargeCls").addClass("freeDeliveryCharge").html(' <span class="delivery-charges">Free</span>')}else{var K="";K+='<span class="delivery-charges">(+) Rs '+parseInt(0+(!(!j.primaryVendor.shippingCharges)?j.primaryVendor.shippingCharges:0)+(!(!j.primaryVendor.shipFarCharge)?j.primaryVendor.shipFarCharge:0)+j.primaryVendor.taxAmount)+"</span>";if(j.primaryVendor.taxAmount>0){K+='<span class="dolToolTip">&nbsp;[ ? ]</span>';var Q=E("#otherChargeInfoLink").val();if(Q!=""){K+='<span class="octroiInfo">(Inclusive of area based handling charges) ';K+='<a class="blueAnchor" href="'+Q+'" target="_blank">Know More</a></span>'}else{K+='<span class="octroiInfo">(Inclusive of area based handling charges)</span>'}}E(".ddrPinCheck").find(".freeDeliveryChargeCls").removeClass("freeDeliveryCharge").html(K)}}else{A.pinCheckedEdd.hide();E(".ddrPinCheck").show();E(".ddrPinCheck").find(".shippingDays").show();A.pinCodeShippingDays.html(j.primaryVendor.shippingDays)}}else{A.pinCheckedEdd.hide();E(".ddrPinCheck").hide()}},_hidePinCodeErrorDiv:function(){var J=A.pinCodeCheckBtn;var K=J.siblings(".emptyAttr");K.html("");A.pinCodeCheckBtn.next().addClass("hidden");A.pincodeCheck.removeClass("validate-error-color-red validate-error-border-red")},_setPinCodeInCookie:function(J){Snapdeal.Cookie.set("spin",J+"-pdp",E("#pincodeExpiryTime").val());if(E(".wrongPinText.validate-error-color-red").is(":visible")){E(".check-avail-pin-info").hide()}else{E(".check-avail-pin-info").show()}},_delete_cookie:function(J){document.cookie=J+"=; path=/; domain=.snapdeal.com; expires="+new Date().toUTCString()},_generateSameDayTooltip:function(L){var K=E(A["pdp-pincode-rp"].find("#sameDayDeliveryTooltip").html());if(L.sameDayDeliveryAvailability&&L.primaryVendor.sameDayDates){var J="<li>- Delivery by "+L.primaryVendor.sameDayDates.stdDate+"</li>";K.prepend(J)}if(L.primaryVendor&&L.primaryVendor.sameDayTaxAmount>0){K.find("#sddTooltipShipFarAmt").html(parseInt(L.sameDayDeliveryCharges)+parseInt(!(!L.primaryVendor.sameDayShipFarCharge)?L.primaryVendor.sameDayShipFarCharge:0)+parseInt(!(!L.primaryVendor.shippingCharges)?L.primaryVendor.shippingCharges:0));K.find("#sddTooltipTaxAmt").html(L.primaryVendor.sameDayTaxAmount);K.find("#sddTooltipShipFarAmt").closest("li").removeClass("hidden");K.find("#sddTooltipTaxAmt").closest("li").removeClass("hidden")}A["pdp-pincode-rp"].find(".sddToolTip").on("click",function(M){M.stopPropagation();Snapdeal.tooltip.init({parent:E(this),content:K,isPopOver:true,customClass:"sameDayTooltipClass"})})},_generateNextDayTooltip:function(L){var K=E(A["pdp-pincode-rp"].find("#nextDayDeliveryTooltip").html());if(L.nextDayDeliveryAvailability&&L.primaryVendor.nextDayDates){var J="<li>- Delivery by "+L.primaryVendor.nextDayDates.stdDate+"</li>";K.prepend(J)}if(L.primaryVendor&&L.primaryVendor.nextDayTaxAmount>0){K.find("#nddTooltipShipFarAmt").html(parseInt(L.nextDayDeliveryCharges)+parseInt(!(!L.primaryVendor.nextDayShipFarCharge)?L.primaryVendor.nextDayShipFarCharge:0)+parseInt(!(!L.primaryVendor.shippingCharges)?L.primaryVendor.shippingCharges:0));K.find("#nddTooltipTaxAmt").html(L.primaryVendor.nextDayTaxAmount);K.find("#nddTooltipShipFarAmt").closest("li").removeClass("hidden");K.find("#nddTooltipTaxAmt").closest("li").removeClass("hidden")}A["pdp-pincode-rp"].find(".nddToolTip").on("click",function(M){M.stopPropagation();Snapdeal.tooltip.init({parent:E(this),content:K,isPopOver:true,customClass:"nextDayTooltipClass"})})},_generateDeliveryInfoTooltip:function(J){var K=E(A["pdp-pincode-rp"].find("#deliveryInfoTooltip").html());A["pdp-pincode-rp"].find(".delInfoTooltip").on("click",function(L){L.stopPropagation();Snapdeal.tooltip.init({parent:E(this),content:K,isPopOver:true,customClass:"deliveryInfoTooltipClass"})})},_generateDeliverOtherLeviesTooltip:function(K){var J=E(A["pdp-pincode-rp"].find("#deliveryOtherLeviesTooltip").html());if(K.primaryVendor&&K.primaryVendor.taxAmount>0){J.find(".deliverCharge").html(parseInt(K.primaryVendor.shippingCharges+(!(!K.primaryVendor.shipFarCharge)?K.primaryVendor.shipFarCharge:0)+0));J.find(".areaLevies").html(K.primaryVendor.taxAmount);J.find("#shipFarCharge").html(!(!K.primaryVendor.shipFarCharge)?K.primaryVendor.shipFarCharge:0)}A["pdp-pincode-rp"].find(".dolToolTip").on("click",function(M){M.stopPropagation();Snapdeal.tooltip.init({parent:E(this),content:J,isPopOver:true,customClass:"deliveryOtherLeviesTooltipClass"});var L=E("body").attr("data-pagename");Snapdeal.omni.fire("octroiTooltip",L)})},_lazy:function(){E("#pincode-change").on("click",function(){E(".pin-checked, .wrongPinText").addClass("hidden");E(".check-avail-head,.check-avail-pin-inner").removeClass("hidden");E(".check-avail-pin-inner").find(".checkPinHead").removeClass("hidden");E(".selfPickDate").removeClass("hidden");E(".check-avail-pin-info").removeClass("hidden");getOmnitureScript({catalogId:E("#buy-button-id-autom").attr("catalog"),cashBackValue:E("#pdpWalletCashBackOmni").val()||""},"changePincode")});A.skipPopup.on("click",function(){Snapdeal.Cookie.set("modalOpen","yes",0);A.pincodeModal.addClass("hidden");Snapdeal.utility.reloadScrollBars();getOmnitureScript({catalogId:E("#buy-button-id-autom").attr("catalog")},"skipPopup")});E("#pincode-check-bttn-pop").on("click",function(){A.pincodeModal.find("#pincode-check-pop").removeClass("validate-error-background-pink validate-error-border-red");var J=E("#pincode-check-pop").val();var K=E(this);var L=K.siblings(".emptyAttr");L.html("");if(J&&(parseInt(J).toString().length==6)){L.addClass("hidden");Snapdeal.attributesTile.getNewVendorData(K.attr("supc"),E("#catId").val(),J,E("#catUrl").val(),E("#brandName").val(),0,1,false,false,false,true);I._setPinCodeInCookie(J);E("#pincode-check").val(J)}else{I._invalidPinCodePop();return }});E("#pincode-check-bttn").on("click",function(O){var N=Snapdeal.Cookie.get("spin");var J=E("#pincode-check").val();A.pincodeCheck.removeClass("validate-error-background-pink validate-error-border-red");var K=E(this);var M=K.siblings(".emptyAttr");M.html("");A.pinCodeCheckBtn.next().addClass("hidden");if(J&&(parseInt(J).toString().length==6)){Snapdeal.pincodeSalience&&Snapdeal.pincodeSalience.close();if(K.attr("supc")=="undefined"){var L="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";M.html(L).removeClass("hidden");E(".wrongPinText").addClass("hidden");return }I._delete_cookie("sd.zone");I._setPinCodeInCookie(J);if(C){E("#allSellersWrap").trigger("update",[null,J]);return }Snapdeal.utility.displayPageLoader();M.addClass("hidden");Snapdeal.attributesTile.getNewVendorData(K.attr("supc"),E("#catId").val(),A.pincodeEnabled?J:"",E("#catUrl").val(),E("#brandName").val(),0,1,false,false,false,false,false,false,O,true)}else{I._invalidPinCode();return }});E("#pincode-check").keypress(function(K){var J=(K.keyCode?K.keyCode:K.which);if(J=="13"){E("#pincode-check-bttn").click()}});E("#pincode-check-pop").keypress(function(K){var J=(K.keyCode?K.keyCode:K.which);if(J=="13"){E("#pincode-check-bttn-pop").click()}});E("#content_wrapper").on("click",function(){var J=E(".tooltip,.popover");if(J.length>0){J.hide()}})}};G={init:function(){return I._init.apply(this,arguments)}};return G})(window.jQuery,Snapdeal);Snapdeal.pincodeTile.init();$("#pincode-check-bttn").addClass("rippleGrey");
var Snapdeal=Snapdeal||{};Snapdeal.onlineToOffline=(function(I,G){var H,B,F,D,E;var C=3;B={"self-pick-normal":I(".self-pick-up-normal"),"change-pickup-pin":I(".change-pickup-pin"),"o2o-help":I(".o2o-help-icon"),"self-pick-big":I(".self-pick-up-big"),"o2o-price-tile":I(".o2o-apply-button"),"o2o-undo-tile":I(".o2o-undo-button"),"buy-now":I("#buy-button-id"),"add-cart":I("#add-cart-button-id"),"pincode-o2o":I("#pincode-o2o"),"o2o-side-overlay":I(".o2o-side-overlay"),"store-timings":I(".store-timings-popup"),"o2o-view-more":I(".o2o-list-view-more"),"o2o-store-timings-container":I(".store-timings-outer"),"o2o-seller-cards":I(".pdp-seller-card-toggle"),"pdp-seller-info":I("#pdp-seller-info-rp"),"pdp-seller-sd-fulfiled":I("#pdp-sd-fulfiled-rp"),"pdp-seller-brand-authorised":I("#pdp-sd-brand-authorised-rp"),"pdp-other-seller":I("#pdp-sd-other-seller-rp"),"o2o-v2-button":I(".o2o-buy-cta"),svgLoader:I("#fetchLoaderSvg").val(),imgLoader:I("#fetchLoaderPng").val()};E={"self-pick-normal":{title:"Self-Pickup",content:"Do a self-pickup of your<br />purchased items from stores near you"},"self-pick-big":{title:"",content:""},"o2o-flow":{normal:"O2O_DEL",o2o:"O2O_PICK"}};F={_flow:E["o2o-flow"].normal,_isPickComp:"",_moreSellerSupc:"",_storesList:[],_viewMoreStoresList:[],_activeStore:"",_currentView:"PDP",_pickUpJson:{storeCode:"",mobile:"",customerName:"",pincode:"",productType:"OOP"},_storesListGetParams:{vendorCode:"",pincode:"",supc:""},_currentAllSellerVendor:"",_allSellerEventTarget:"",_o2oVendorData:{},_restrictInitCall:false,_city:"",_mapHeight:"",_mapInclude:false,_mapCurrentFlow:"",_mapObjects:{"view-more":"","buy-now":""},_showViewDetails:{o2o:false,primary:false},_pinCheckForOmni:false,_viewAllSellersDetails:{}};var A={closeBtnTncPopup:$(".closeBtn-popup-tncDetails"),popupTncDetails:$(".popup-tncDetails")};H={_init:function(J){if(F._restrictInitCall===false){H._resetJson();F._mapInclude=false;H._viewDetailsEvent();H._toolTip();H._priceTileToggle();H._pickFromStoreEvent();H._handleLoadTimeUpdates();H._toggleDispatchMode();H._deliveryFlowFromO2O();H._toggleDeliveryView();H._handleSidebarClose();H._handleRightSideBarEvents();if(window.location.href.indexOf("/viewAllSellers")>0){F._currentView="SELLER"}if(H._emptyCheck(F._o2oVendorData)){if(F._o2oVendorData.primaryVendor&&F._o2oVendorData.primaryVendor.o2oFulfilled===true){H._o2oFlowClickHandle()}}$(".omni-o2o").on("click",function(){if($(this).hasClass("o2o-apply-button")){Snapdeal.omni.fire({catalogId:$("#catalogId").val()},"o2oApplyButton")}if($(this).hasClass("o2o-undo-button")){Snapdeal.omni.fire({catalogId:$("#catalogId").val()},"o2oUndoButton")}});F._restrictInitCall=true}if(H._emptyCheck(J)){if(Object.prototype.toString.call(J)=="[object Function]"){J.call(this,null)}}},_handleLoadTimeUpdates:function(){var J=F._o2oVendorData;if(H._emptyCheck(J)){if(H._emptyCheck(J.o2oVendor)){$("#frequentlyBlk").remove();if(J.o2oVendor.isStdPickupAvailable||J.o2oVendor.isCodPickupAvailable||J.o2oVendor.isStdAvailable||J.o2oVendor.isCodAvailable){F._showViewDetails.o2o=true;if(I("#isPickUpEnabledO2OFlow").val()=="false"){F._showViewDetails.o2o=false}}else{F._showViewDetails.o2o=false}}else{if(H._emptyCheck(J.primaryVendor)){if(J.primaryVendor.o2oFulFilled===true){$("#frequentlyBlk").remove()}if(J.primaryVendor.isStdPickupAvailable||J.primaryVendor.isCodPickupAvailable||J.primaryVendor.isStdAvailable||J.primaryVendor.isCodAvailable){F._showViewDetails.primary=true;if(I("#isPickUpEnabledO2OFlow").val()=="false"){F._showViewDetails.primary=false}}else{F._showViewDetails.primary=false}}}}},_testFnForTesting:function(J){if(J==="hi"){return true}else{return false}},_getO2OVendorData:function(){return F._o2oVendorData},_setO2OVendorData:function(J){F._o2oVendorData=J},_toolTip:function(){B["self-pick-normal"].on("click.o2o",function(J){J=J||window.event;J.stopPropagation();Snapdeal.tooltip.init({parent:I(this),content:function(){return'<div class="self-pick-outer"><div class="self-pick-head"></div><div class="self-pick-content">'+E["self-pick-normal"].content+"</div></div>"},isPopOver:true,customClass:"self-pick-normal"})});I(".js-o2o-handle-toggle").on("click.o2o",function(K){K=K||window.event;K.stopPropagation();var J=I(K.target);var L="";if(J.hasClass("o2o-help-icon")){if(J.hasClass("o2o-default-applied-help-icon")){L=F._o2oVendorData.primaryVendor.listOfFreebieDTO}else{L=F._o2oVendorData.o2oVendor.listOfFreebieDTO}if(L.length>0){Snapdeal.omni.fire({catalogId:$("#catalogId").val()},"o2oTooltipLink");Snapdeal.tooltip.init({parent:J,content:function(){var N='<span class="o2o-freebies-item"><i class="sd-icon sd-icon-checkmark o2o-tick"></i>';var O="</span>";var M="";I.each(L,function(P,Q){M+=N+Q.freebieText+O});return'<div class="self-pick-outer">'+M+"</div>"},isPopOver:true,customClass:"self-pick-normal"})}}});B["store-timings"].on("click.o2o",function(J){J=J||window.event;J.stopPropagation();Snapdeal.tooltip.init({parent:I(this),content:function(){return'<div class="store-timings-outer"><div class="store-timings-head"></div><div class="store-timings-content">Store Timings</div></div>'},isPopOver:true,customClass:"store-timings-popup"})})},_toggleO2OPriceViewTile:function(J){I(J).parent().removeClass("o2o-show-me-class").siblings(".o2o-slide-toggle").addClass("o2o-show-me-class")},_priceTileToggle:function(){B["o2o-price-tile"].on("click.o2o",function(O){$("#frequentlyBlk").remove();var J=I(this);var N=$(".emptyAttr.emptyAttrBelowAttr");var K=B["buy-now"];if(K.attr("supc")=="undefined"){J.addClass("shake");var M="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";N.html(M).removeClass("hidden");setTimeout(function(){J.removeClass("shake")},1000);return }else{H._toggleO2OPriceViewTile(J);H._o2oFlowClickHandle();var L=I.extend(true,{},F._o2oVendorData);if(H._emptyCheck(F._o2oVendorData.o2oVendor)){L.primaryVendor=I.extend(true,{},F._o2oVendorData.o2oVendor);L.o2oVendor=I.extend(true,{},F._o2oVendorData.primaryVendor)}H._handleApplyButtonClick(L)}});B["o2o-undo-tile"].on("click.o2o",function(K){var J=I(this);H._toggleO2OPriceViewTile(J);H._normalFlowClickHandle();H._handleApplyButtonClick(F._o2oVendorData,true)})},_updateStoreName:function(){I(".o2o-flow-store-name-holder").text(H._currStoreName())},_pickFromStoreEvent:function(){$(".buy-now-o2o-flow").on("click.o2o",function(J){J=J||window.event;J.stopPropagation();if(F._currentView==="SELLER"){F._moreSellerSupc=$(this).attr("data-vendor-code")}H._pickFromStore()});I(".open-actual-o2o-modes").on("click.o2o",function(){var K=I(this).prev().attr("id").toString().indexOf("_pick_")!==-1?true:false;if(K){H._setFlow(E["o2o-flow"].o2o);if(I("#o2oPTab").length>0){I("#o2oPTab").click()}var J="/O2O/getMultiSellerStores";F._storesListGetParams.pincode=H._getPinCode();if(F._currentView=="SELLER"){J="/O2O/getPickupStores";H._fetchStoreDetails()}else{if(F._currentView=="PDP"){H._loadSellersViaAjaxPostPinChange(H._getPinCode())}}}else{H._setFlow(E["o2o-flow"].normal);H._deliveryFlowClickEvent()}})},_resetJson:function(){F._pickUpJson={vendorCode:"",storeCode:"",mobile:"",customerName:"",pincode:H._getPinCode(),productType:"OOP"}},_resetRightSideBar:function(){H._resetJson();H._setPickComplete(false);I("#o2o-pick-outer").addClass("o2o-v2-hide");I(".o2o-v2-title").html(H._getTitle("view-more"));I(".sidebaroverlay").click();I("#o2o-pick-outer").find(".o2oOtherInfo").html("");B["o2o-side-overlay"].show();I("#pincode-change").click();I("#pincode-check").focus()},_pickFromStore:function(L,P){H._handleRightSideBarEvents();var K=L;if(P){L=B["buy-now"]}var O=$(".emptyAttr.emptyAttrBelowAttr");if(L.attr("supc")=="undefined"){K.addClass("shake");var N="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";O.html(N).removeClass("hidden");setTimeout(function(){K.removeClass("shake")},1000);return }var J=L!==undefined?L:B["buy-now"];if(undefined!==J.attr("productType")){if(M()){I('input[name="o2o_mode"]').removeAttr("checked");H._checkFlowVisiblity((P===true?B["buy-now"]:L))}else{B["buy-now"].addClass("shake");I("#pincode-check").parent().siblings(".validate-error-color-red").text("Please enter the pincode").removeClass("hidden");setTimeout(function(){B["buy-now"].removeClass("shake")},1000);return }}function M(){if(null!==H._getPinCode()){return true}return false}},_setAllSellerEventTarget:function(J){F._allSellerEventTarget=J},_getPinCode:function(){var J=Snapdeal.Cookie.get("spin");J=(J!==null?I.trim(J.split("-")[0]):null);return J},_setCurrCity:function(J){F._city=J},_currCity:function(){return F._city},_currStoreName:function(){if(F._currentView==="PDP"){return I(".pdp-e-seller-info-name").text()}else{if(F._currentView==="SELLER"){return F._currentAllSellerVendor}}},_checkFlowVisiblity:function(L){if(F._currentView==="SELLER"){var O=L.attr("productType");var N=false,K=false;switch(O){case"OOP":N=true;break;case"OOD":K=true;break;case"OOPD":N=true;K=true;break;default:break}F._storesListGetParams.vendorCode=L.attr("data-vendor-code");F._storesListGetParams.supc=I("#pincode-check-bttn").attr("supc");F._storesListGetParams.supc=(H._emptyCheck(F._storesListGetParams.supc)?F._storesListGetParams.supc:I("#defaultSupc").text());F._currentAllSellerVendor=I.trim(L.parent().parent().find(".seller-nm").text());M(N,K,L)}else{if(F._currentView==="PDP"){if(!F._showViewDetails.primary&&!F._showViewDetails.o2o){I("#pincode-check").focus().select();return }var J=F._o2oVendorData;F._storesListGetParams.vendorCode=L.attr("vendorcode");F._storesListGetParams.supc=L.attr("supc");if(H._emptyCheck(J)){if(H._emptyCheck(J.o2oVendor)){M(J.o2oVendor.isStdPickupAvailable||J.o2oVendor.isCodPickupAvailable,J.o2oVendor.isStdAvailable||J.o2oVendor.isCodAvailable)}else{if(H._emptyCheck(J.primaryVendor)){M(J.primaryVendor.isStdPickupAvailable||J.primaryVendor.isCodPickupAvailable,J.primaryVendor.isStdAvailable||J.primaryVendor.isCodAvailable)}}}Snapdeal.omni.fire("buyPDP",{sellerRating:C,position:"pdpButton"})}}function M(U,P,V){if(I("#isPickUpEnabledO2OFlow").val()=="false"){if(U){U=false}}var X="buy-now-home";var S=I(".o2oPickMode");var T=I(".o2oDeliveryMode");var Q=false;var W=I("#del-option");if(U===true){if(P===true){I("#o2o-pick-outer").hide();S.addClass("show-me");T.addClass("show-me");W.addClass("show-me");F._mapHeight="115px"}else{S.addClass("show-me");T.removeClass("show-me");W.removeClass("show-me");H._setFlow(E["o2o-flow"].o2o);I(".o2o-side-overlay").hide();if(F._currentView==="SELLER"){H._fetchStoreDetails()}else{if(F._currentView==="PDP"){H._loadSellersViaAjaxPostPinChange(H._getPinCode())}}Q=true;X="buy-now";F._mapHeight="55px"}H._hideSiblingSidebar("view-more");Snapdeal.sidebar.open(I("#selectPickupStoreSideBar"),'<div class="o2o-v2-title">'+H._getTitle(X)+"</div>","sd-ps o2o-side-bar o2o-side-bar-version-2 hidden");H._handlePickupModalUpdate();I("#selectDealerBarO2O").show();H._setPickComplete(true);var R="Pickup";if(P){R="PickupDelivery"}Snapdeal.omni.fire("o2oModalOpened",{position:"o2oButtonPdp"});H._updateStoreName();if(!Q){I(".sd-ps").removeClass("hidden");B["o2o-side-overlay"].show()}}else{if(I("#isPickUpEnabledO2OFlow").val()=="false"){H._setPickComplete(true)}H._setFlow(E["o2o-flow"].normal);H._deliveryFlowClickEvent()}}},_handlePickupModalUpdate:function(){var N=F._o2oVendorData;if(H._emptyCheck(N)){I(".o2o-v2-title").html(H._getTitle("buy-now-home"));var M=H._emptyCheck(N.o2oSellerWidgetDTO)?N.o2oSellerWidgetDTO:null;var L=I(".pick-more-info-o2o-v2");var K=I(".del-more-info-o2o-v2");if(H._emptyCheck(M)){if(H._emptyCheck(M.distanceText)){L.text("("+M.distanceText+")")}else{L.text("")}if(H._emptyCheck(M.o2oDeliveryTime)||H._emptyCheck(M.deliveryTime)){var J="";if(H._emptyCheck(M.o2oDeliveryTime)){J="("+M.o2oDeliveryTime+")"}K.text(J)}else{K.text("")}}else{L.text("");K.text("")}}},_getTitle:function(J){if(J=="view-more"){return H._viewMoreTitle()}else{if(J=="buy-now"){return H._buyNowTitle()}else{if(J=="buy-now-home"){return H._buyNowDefaultTitle()}}}},_buyNowDefaultTitle:function(){return"Select option to get this item"},_buyNowTitle:function(){return'<span class="lfloat"> Select Store</span> <span class="pin-value col-xs-10"><span class="lfloat"> PINCODE - <span class="pincodeVal">'+H._getPinCode()+'</span></span> <a href="javascript:void(0)" class="change-pickup-pin">Change</a> </span>'},_viewMoreTitle:function(){return"From a Nearby Store "},_removePickFromStoreEvent:function(){$(".buy-now-o2o-flow").off("click.o2o")},_normalFlowClickHandle:function(){H._setFlow(E["o2o-flow"].normal);B["add-cart"].show();B["pincode-o2o"].hide();H._removePickFromStoreEvent();B["buy-now"].removeClass("buy-now-o2o-flow");B["buy-now"].removeAttr("productType");B["o2o-v2-button"].attr("productType","OOD");I(".o2o-default-applied-class").removeClass("o2o-show-me-class");I(".o2o-slide-toggle").removeClass("o2o-show-me-class");if(H._emptyCheck(F._o2oVendorData.o2oVendor)){I(".o2o-o2o-flow").addClass("o2o-show-me-class")}},_o2oTracker:function(J){},_o2oFlowClickHandle:function(){H._setFlow(E["o2o-flow"].o2o);B["add-cart"].hide();B["pincode-o2o"].show();B["buy-now"].addClass("buy-now-o2o-flow");if(!B["o2o-v2-button"].hasClass("o2o-show-me-class")){B["buy-now"].attr("productType","OOD")}I(".o2o-default-applied-class").addClass("o2o-show-me-class")},_bothFlowClickHandle:function(){H._setFlow(E["o2o-flow"].o2o);B["add-cart"].show();B["pincode-o2o"].show()},_setFlow:function(J){F._flow=J},_getFlow:function(){return F._flow},_setPickComplete:function(J){F._isPickComp=J},_isPickComplete:function(){return F._isPickComp},_setStoresList:function(J){if(J.constructor===Array){F._storesList=J}else{F._storesList.push(J)}},_setViewMoreList:function(J){if(J.constructor===Array){F._viewMoreStoresList=J}else{F._viewMoreStoresList.push(J)}},_getViewMoreStoresList:function(){return F._viewMoreStoresList},_getStoresList:function(J){return F._storesList},_setActiveStore:function(J){F._activeStore=J},_getActiveStore:function(){return F._activeStore},_getPickupJson:function(){return F._pickUpJson},_toggleDispatchMode:function(){I(".o2o-toggle").click(function(){var L=I(this);var K=L.attr("data-target");L.parent().find(".o2o-toggle").removeClass("active").end().end().addClass("active");L.parent().parent().find(".o2o-body").removeClass("show-me").end().find(K).addClass("show-me");var J="Pickup";if(K==="#o2o-del"){H._resetJson();J="Delivery"}Snapdeal.omni.fire({catalogId:$("#catalogId").val(),currentO2ODataTab:J},"pickupDeliveryTabSwitch")})},_deliveryFlowFromO2O:function(){I(".get-it-delivered").on("click.o2o",function(J){J=J||window.event;J.stopPropagation();if(window.location.href.indexOf("/viewAllSellers")>0){if(J.originalEvent!==undefined){H._setFlow(E["o2o-flow"].normal)}I('.rowBuyBtn[data-vendor-code = "'+F._allSellerEventTarget+'"]').click()}else{if(B["o2o-v2-button"].hasClass("o2o-show-me-class")){if(F._flow==E["o2o-flow"].normal){H._resetJson()}B["o2o-v2-button"].click()}else{if(F._flow==E["o2o-flow"].normal){H._resetJson()}B["buy-now"].click()}}})},_deliveryFlowClickEvent:function(){I(".get-it-delivered").click()},_toggleDeliveryView:function(){I("#o2o-pick-outer").on("click.o2o",".o2o-view-toggle-button",function(L){L=L||window.event;L.stopPropagation();var J=I(this);var K=J.attr("data-target");Snapdeal.omni.fire({catalogId:$("#catalogId").val(),currentPickupView:"currentPickupView"},"pickupStoresView")})},_removeLoader:function(){I(".o2oV2Loader").remove()},_addLoader:function(){I("<div class='o2oV2Loader'> <img class='js_svgLoader' src='"+B.svgLoader+"' onerror='this.src='"+B.imgLoader+"'; this.onerror=null;'/></div>").appendTo(".o2o-side-bar-version-2")},_mapViewPickupStores:function(){if(F._mapInclude){Snapdeal.onlineToOffline.mapModeInit.call(this,arguments)}if(!F._mapInclude){var J=document.createElement("script");J.src="http://maps.googleapis.com/maps/api/js?callback=Snapdeal.onlineToOffline.mapModeInit";document.body.appendChild(J);F._mapInclude=true}},_fetchStoreDetails:function(L,K){Snapdeal.omni.fire("getStoresData",{clickMode:"viewMore"});var J="/O2O/getPickupStores";F._storesListGetParams.pincode=(H._emptyCheck(K)?K:Snapdeal.Cookie.get("spin").split("-")[0]);if(F._currentView=="SELLER"){H._setStoresList([]);L=I('.rowBuyBtn[data-vendor-code = "'+F._allSellerEventTarget+'"]');F._storesListGetParams.supc=I("#pincode-check-bttn").attr("supc");F._storesListGetParams.supc=(H._emptyCheck(F._storesListGetParams.supc)?F._storesListGetParams.supc:I("#defaultSupc").text());F._storesListGetParams.vendorCode=F._allSellerEventTarget}else{if(F._currentView=="PDP"){F._storesListGetParams.vendorCode=L.closest(".seller-info-o2o-v2").find(".vendorCodeO2O").val()}}H._removeLoader();H._addLoader();I.get(J,F._storesListGetParams,function(M){if(F._currentView=="SELLER"){var O=L.closest(".row");var P=O.find(".seller-nm").text();var Q=O.find(".price-dtls").attr("sp");if(H._emptyCheck(P)){F._viewAllSellersDetails.sellerName=P}if(H._emptyCheck(Q)){F._viewAllSellersDetails.sellerPrice=Q}P=F._viewAllSellersDetails.sellerName;Q=F._viewAllSellersDetails.sellerPrice;var N='<div class="seller-info-o2o-v2 marT0"><div class="store-details"><h3 class="store-name"></h3><input type="hidden" value="" class="vendorCodeO2O" /><p class="store-prod-price"></p></div><div class="seller-stores"></div></div>';I("#o2o-pick-outer").find(".o2oOtherInfo").html(N).find(".store-name").text(P).end().find(".store-prod-price").text("Rs. "+Snapdeal.utility.commafy(Q)).end().find(".seller-stores").html(M).end().end().removeClass("o2o-v2-hide").show()}else{if(F._currentView=="PDP"){L.find(".seller-stores").html(M)}}I(".sd-ps").removeClass("hidden");H._updateStoreName();H._setPickComplete(true);I(".o2o-v2-title").html(H._getTitle("buy-now"));F._mapCurrentFlow="buy-now";H._mapViewPickupStores("buy-now");B["o2o-side-overlay"].hide();I(".o2oOtherInfo").removeClass("o2o-v2-hide");$(".o2o-v2-title").find(".pincodeVal").text(K);H._removeLoader()})},_showCurrentStoreTiming:function(J){I("#o2o-pick").find(".store-timings-outer").removeClass("store-active");I(J).parentsUntil("li.dealer-option").parent().find(".store-timings-outer").addClass("store-active");I("#o2oMapView").find(".store-timings-inner").css("min-height",I("#o2oMapView").find(".dealer-option").height()+30+"px");Snapdeal.omni.fire("getStoreTimings",{clickButton:"viewTimings"})},_toggleSellerCards:function(){I(".pdp-seller-card-toggle.show-tile").removeClass("show-tile").siblings(".pdp-seller-card-toggle").addClass("show-tile")},_emptyCheck:function(J){if(J!==""&&J!==undefined&&J!==null){return true}else{return false}},_updateBuyNowButtonAttributeInfo:function(J,K){if(H._emptyCheck(J)){if(K){B["buy-now"].attr(J.first);B["buy-now"].attr(J.second);B["buy-now"].attr(J.third)}else{B["o2o-v2-button"].attr(J.first);B["o2o-v2-button"].attr(J.second);B["o2o-v2-button"].attr(J.third)}}},_handleAttributeChange:function(){H._resetJson();H._setPickComplete(false);if(arguments&&arguments.length>0){var K=arguments[0];var J=H._emptyCheck(arguments[1])?arguments[1]:"";if(H._emptyCheck(K)){if(K.primaryVendor.o2oFulfilled===true){H._handleAttributeChangeFulfilledPrimaryVendor(K);$("#frequentlyBlk").remove()}else{H._handleAttributeChangeO2OVendor(K,J)}H._updateNewO2OCard(K)}}},_updateNewO2OCard:function(Q){var O=false;var R=0;var K=I(".o2o-store-row");var W=K.find(".nearby-txt-section");var X=K.find(".apply-cta-section");var S=W.find(".nearby-store");var Z=W.find(".nearby-txt");if(H._emptyCheck(Q)&&H._emptyCheck(Q.o2oSellerWidgetDTO)){var V=Q.o2oSellerWidgetDTO;if(H._emptyCheck(V.latLongDetails)){var M=V.latLongDetails;var N="";var U=M.length;if(U==0){H._setViewMoreList([])}for(var P=0;P<U;++P){(function(a){N=M[a];H._setViewMoreList({lat:N.latitude,"long":N.longitude})})(P)}}else{H._setViewMoreList([])}if(H._emptyCheck(Q.primaryVendor)&&Q.primaryVendor.o2oFulfilled===true){H._handlePcbDetails(Q.primaryVendor,"primary");R=Q.primaryVendor.sellingPrice;X.addClass("o2o-v2-hide").removeClass("o2o-show-me-class");S=W.find(".nearby-store");S.text(V.o2oWidgetHeaderText);Z=W.find(".nearby-txt");Z.text(V.o2oDefaultSellerHeaderText);T(K,V);W.removeClass("o2o-v2-hide").addClass("o2o-show-me-class");O=true}else{if(H._emptyCheck(Q.o2oVendor)){H._handlePcbDetails(Q.o2oVendor,"o2o");R=Q.o2oVendor.sellingPrice;W.addClass("o2o-v2-hide").removeClass("o2o-show-me-class");S=X.find(".nearby-store");S.text(V.o2oWidgetHeaderText);var J=X.find(".o2o-buy-cta");var L=Q.o2oVendor.sellingPrice;if(H._emptyCheck(L)){J.html(" BUY NOW (Rs. "+Snapdeal.utility.commafy(Q.o2oVendor.sellingPrice)+")")}else{J.text("BUY NOW")}T(K,V);X.removeClass("o2o-v2-hide").addClass("o2o-show-me-class");O=true}else{O=false}}if(O){K.addClass("o2o-show-me-class").removeClass("o2o-v2-hide")}else{K.removeClass("o2o-show-me-class").addClass("o2o-v2-hide")}H._handleViewDetailsUpdate(V,R)}else{K.removeClass("o2o-show-me-class").addClass("o2o-v2-hide")}function Y(b,a){b.remove();b=I('<p class="o2o-seller-detail o2o_'+(H._emptyCheck(a)?a.toLowerCase():a)+'_block"><span class="blue-disc-bullets"></span> '+a+' - <span class="seller-detail-desc"></span></p>').appendTo(".o2o-store-row .seller-detail-section .seller-inner-details");return b}function T(g,f){var e=f.o2OBenefitTextList;var c=Y(g.find(".o2o_fast_block"),"FAST");var i=Y(g.find(".o2o_benefits_block"),"BENEFITS");var h=Y(g.find(".o2o_seller_block"),"SELLER");var a=g.find(".map-section");var b=g.find(".clock-section");var d=H._emptyCheck(f.distanceText)?f.distanceText:"";if(d===""){a.find("#storeDistance").val("");a.find(".store-distance-info").text("").addClass("o2o-v2-hide")}else{if(I("#isPickUpEnabledO2OFlow").val()=="false"){a.find(".store-distance-info").text(d).addClass("o2o-v2-hide")}else{a.find(".store-distance-info").text(d).removeClass("o2o-v2-hide")}a.find("#storeDistance").val(d)}if(H._emptyCheck(f.deliveryTime)){b.find(".delivery-time").text("In "+f.deliveryTime)}else{b.find(".delivery-time").text("")}if(f.showSellerIcon){g.find(".store-logo").find("img").attr("src",f.sellerIconUrl).end().removeClass("o2o-v2-hide")}else{g.find(".store-logo").addClass("o2o-v2-hide")}if(H._emptyCheck(e.SELLER)){h.find(".seller-detail-desc").text(e.SELLER).end().removeClass("o2o-v2-hide")}else{h.addClass("o2o-v2-hide")}if(H._emptyCheck(e.FAST)){c.find(".seller-detail-desc").text(e.FAST).end().removeClass("o2o-v2-hide")}else{c.addClass("o2o-v2-hide")}if(H._emptyCheck(e.BENEFITS)){i.find(".seller-detail-desc").text(e.BENEFITS).end().removeClass("o2o-v2-hide")}else{i.addClass("o2o-v2-hide")}}},_handleAttributeChangeFulfilledPrimaryVendor:function(L){var K=L.primaryVendor,J={first:{vendorCode:K.vendorCode},second:{vendorScore:K.vendorScore},third:{shippingCharges:K.shippingCharges}};H._togglePDPAvailModes(K,true);H._updateBuyNowButtonAttributeInfo(J,true);H._handleFreebiesViewIcon(L,false);H._o2oFlowClickHandle();H._updatePickInfo(K.isStdPickupAvailable||K.isCodPickupAvailable,K.isCodAvailable);B["buy-now"].attr("productType","OOD");I(".apply-cta-section").removeClass("o2o-show-me-class").addClass("o2o-v2-hide");I(".o2o-buy-cta").removeClass("o2o-show-me-class").addClass("o2o-v2-hide");I(".nearby-txt-section").addClass("o2o-show-me-class").removeClass("o2o-v2-hide");I(".o2o-store-row").removeClass("o2o-v2-hide").addClass("o2o-show-me-class");I(".o2o-slide-toggle").removeClass("o2o-show-me-class")},_updatePickInfo:function(L,K){var O=I("#pincode-pick");var N=I("#pincode-cod");var M=I("#pincode-pay-at-store");var J=I(".free-del-class");if(K){K=(I("#codValidOnCategory").val()=="true");if(K){K=(I("#displayCodSwitchId").val()=="true")}}if(L){if(I("#isPickUpEnabledO2OFlow").val()=="false"){O.addClass("hidden");if(K){N.removeClass("hard-hidden")}else{N.addClass("hard-hidden")}M.addClass("hidden");J.removeClass("hard-hidden")}else{O.removeClass("hidden");if(K){N.removeClass("hard-hidden")}else{N.addClass("hard-hidden")}M.removeClass("hidden");J.addClass("hard-hidden")}}else{O.addClass("hidden");if(K){N.removeClass("hidden").removeClass("hard-hidden")}else{N.addClass("hard-hidden")}M.addClass("hidden");J.removeClass("hard-hidden")}},_handleFreebiesViewIcon:function(O,J){if(J){if(H._emptyCheck(O)){var K=O.o2oVendor;if(H._emptyCheck(K)){if(H._emptyCheck(K.listOfFreebieDTO)){if(K.listOfFreebieDTO.length>0){M(J)}else{L()}}else{L()}}}}else{if(H._emptyCheck(O)){var N=O.primaryVendor;if(H._emptyCheck(N)){if(H._emptyCheck(N.listOfFreebieDTO)){if(N.listOfFreebieDTO.length>0){M(J)}else{L()}}else{L()}}}}function M(P){if(P){I(".o2o-help-icon-holder").html('[<span class="o2o-help-icon omni-o2o">?</span>]')}else{I(".o2o-help-icon-holder").html('[<span class="o2o-help-icon o2o-default-applied-help-icon omni-o2o">?</span>]')}}function L(){I(".o2o-help-icon-holder").html("")}},_handleAttributeChangeO2OVendor:function(P,K){var R=P.primaryVendor,O=(H._emptyCheck(P.o2oVendor)?P.o2oVendor:null),J={first:{vendorCode:R.vendorCode},second:{vendorScore:R.overallRating},third:{shippingCharges:R.shippingCharges}},Q={};if(O!==null){Q={first:{vendorCode:O.vendorCode},second:{vendorScore:O.overallRating},third:{shippingCharges:O.shippingCharges}};var N="",L=0;if(O.isCodAvailable||O.isStdAvailable){N="OOD";++L}if(O.isCodPickupAvailable||O.isStdPickupAvailable){if(I("#isPickUpEnabledO2OFlow").val()=="true"){N="OOP";++L}}if(L==2){N="OOPD"}var M=B["buy-now"].attr("catalog");I(".o2o-buy-cta").attr("catalog",M);H._togglePDPAvailModes(O,false);H._updateBuyNowButtonAttributeInfo(Q,false);H._updatePickInfo(R.isStdPickupAvailable||R.isCodPickupAvailable,R.isCodAvailable);H._updateO2OPriceCard(O.sellingPrice-R.sellingPrice);I(".o2o-buy-cta").addClass("o2o-show-me-class").removeClass("o2o-v2-hide");I(".apply-cta-section").addClass("o2o-show-me-class").removeClass("o2o-v2-hide");I(".nearby-txt-section").removeClass("o2o-show-me-class").addClass("o2o-v2-hide");I(".o2o-store-row").removeClass("o2o-v2-hide").addClass("o2o-show-me-class");$("#frequentlyBlk").remove()}H._updatePickInfo(R.isStdPickupAvailable||R.isCodPickupAvailable,R.isCodAvailable);H._updateBuyNowButtonAttributeInfo(J,true);H._handleFreebiesViewIcon(P,true);var S=I.extend(true,{},P);H._normalFlowClickHandle();if(N!=""){I(".o2o-buy-cta").attr("productType",N)}if(K==true){$(".o2o-apply-button").trigger("click")}},_updateO2OPriceCard:function(K){var J=I(".o2o-additional-price-info");if(K>0){J.html(', only for an <span class="o2o-bold-class">additional Rs. '+K+"</span>")}else{J.html("")}if(!I(".o2o-slide-toggle").hasClass("o2o-show-me-class")){H._toggleO2OPriceViewTile(B["o2o-undo-tile"])}},_handleApplyButtonClick:function(K){I(".o2o-default-applied-class").removeClass("o2o-show-me-class");if(I("#pincode-check").val().trim()==""){I("#pincode-check").val(H._getPinCode())}if(arguments&&arguments[1]){H._updateO2OPriceCard(K.o2oVendor.sellingPrice-K.primaryVendor.sellingPrice)}else{H._updateO2OPriceCard(K.primaryVendor.sellingPrice-K.o2oVendor.sellingPrice)}H._updatePickInfo(K.primaryVendor.isStdPickupAvailable||K.primaryVendor.isCodPickupAvailable,K.primaryVendor.isCodAvailable);var J=B["buy-now"].attr("supc");Snapdeal.sellerInformationCard.updateSellerInformationCard(K);I("#product-attr-options").trigger("productAttrSelected",[K,J])},_trim:function(J){if(undefined!==J){return I.trim(J)}return""},_handleSidebarClose:function(){I(document).on("sidebarClosed",function(){H._resetJson();I(".store-timings-outer").removeClass("store-active");I(document).off("keyup.o2o");I("#o2o-pick-outer").off("change.o2o");I("#selectDealerBarO2O").off("click.o2o");I("#sidebar_modal_right").off("click.o2o");H._setPickComplete(false);var K=F._o2oVendorData;var L=false;var M=false;if(H._emptyCheck(K.primaryVendor)&&K.primaryVendor.o2oFulfilled===true){if(K.primaryVendor.o2oFulfilled===true){if(K.primaryVendor.isStdPickupAvailable||K.primaryVendor.isCodPickupAvailable){L=true;if(I("#isPickUpEnabledO2OFlow").val()=="false"){L=false}M=false}if(K.primaryVendor.isStdAvailable||K.primaryVendor.isCodAvailable){if(!L){L=false}M=true}}}else{if(H._emptyCheck(K.o2oVendor)){var J=I(".o2o-buy-cta");if(K.o2oVendor.isStdPickupAvailable||K.o2oVendor.isCodPickupAvailable){L=true;if(I("#isPickUpEnabledO2OFlow").val()=="false"){L=false}M=false}if(K.o2oVendor.isStdAvailable||K.o2oVendor.isCodAvailable){if(!L){L=false}M=true}if(L){if(M){J.attr("productType","OOPD")}else{J.attr("productType","OOP")}}else{if(M){J.attr("productType","OOD")}}}}if(L){F._flow=E["o2o-flow"].o2o}else{if(M){F._flow=E["o2o-flow"].normal}}H._removeLoader()})},_handleRightSideBarEvents:function(){H._removeLoader();I(document).on("keyup.o2o",function(J){J=J||window.event;J.stopPropagation();var K=I(J.target);if(J.keyCode===13){if(K.hasClass("handle-enter-event")){I("#o2o-pick-outer").find(".continue-btn").trigger("click")}else{if(K.hasClass("pin-text-box-o2o")){K.next(".pin-code-check-o2o").trigger("click")}}}});I(".sidebaroverlay").off().on("click.o2ov2",function(J){H._resetJson();H._setPickComplete(false)});I(".o2o-version-two-overlay").off().on("click.o2o",function(N){N=N||window.event;N.stopPropagation();var S=I(N.target);if(S.hasClass("o2o-list-view-more")){H._showCurrentStoreTiming(S);S.closest(".storeListItemO2O").trigger("click")}else{if(S.hasClass("o2o-close-icon")||S.hasClass("store-timings-outer")){if(I(".store-timings-inner").is(":visible")){I(".store-timings-outer").removeClass("store-active")}}else{if(S.closest(".view-link-button").length>0){var V=S.closest(".view-link-button");var O=V.prev().children(".stores-view");Snapdeal.omni.fire("viewMoreStores",{captureMode:"list"});if(O.hasClass("stores-view")){if(V.hasClass("expanded")){O.slideUp();V.find(".viewLess-link-button").addClass("hidden");V.find(".viewMore-link-button").removeClass("hidden");if(V.hasClass("one-store-seller-o2o")){V.removeClass("hidden")}}else{if(V.hasClass("collapsed")){H._linkButtonToggle(O,V)}}}else{if(V.hasClass("view-link-other-sellers")){H._fetchStoreDetails(V.closest(".seller-info-o2o-v2"))}H._linkButtonToggle(O,V)}V.toggleClass("expanded collapsed")}else{if(S.hasClass("icon-accordian")){var L=I(N.target);L.toggleClass("sd-icon-plus sd-icon-minus");L.parent().find(".freebieValues").slideToggle("fast")}else{if(S.parent().hasClass("static-tnc-overlay")){var T=$(".freebies");T.on("click",".static-tnc-overlay",H._showfreebiePopup)}else{if(S.parent().hasClass("noStore-error")){H._handlePincodeChangeFromModal()}else{if(S.hasClass("continue-btn")){var W=S.parent();var Q=/^[a-zA-Z .]{2,30}$/;var U=H._trim(W.parent().find(".dealer-code").val());var R=H._trim(W.closest(".seller-info-o2o-v2").find(".vendorCodeO2O").val());var M=H._trim(W.find(".dealerTel").val());var P=H._trim(W.find(".userName").val());var K=0;if(M.length!==10||(parseInt(M)+0!=M)){W.find(".dealerTel").siblings(".validation-message").text("Please enter a valid mobile");K=0}else{W.find(".dealerTel").siblings(".validation-message").text("");K+=1}if(P===""||!Q.test(P)){W.find(".userName").siblings(".validation-message").text("Please enter a valid name");K=0}else{W.find(".userName").siblings(".validation-message").text("");K+=1}Snapdeal.omni.fire("storeFormContinue",{position:"continueBtn"});if(K===2){F._pickUpJson.vendorCode=R;F._pickUpJson.storeCode=U;F._pickUpJson.mobile=M;F._pickUpJson.customerName=P;F._pickUpJson.pincode=H._getPinCode();F._pickUpJson.productType="OOP";H._setFlow(E["o2o-flow"].o2o);if(!B["o2o-v2-button"].hasClass("o2o-show-me-class")){B["buy-now"].attr("productType","OOP")}H._deliveryFlowClickEvent()}N.preventDefault?N.preventDefault():(N.returnValue=false)}else{if(S.hasClass("pin-code-check-o2o")){var X=(I(".pin-text-box-o2o").val()).trim();if(X&&(parseInt(X).toString().length==6)){I("#pincode-change").click();I("#pincode-check").val(X);I("#pincode-check-bttn").click();H._loadSellersViaAjaxPostPinChange(X)}else{return }}else{if(S.closest(".storeListItemO2O").length>0){var J=S.closest(".storeListItemO2O").parent();if(J.hasClass("dealer-option")){if(F._currentView=="PDP"){J.closest(".seller-details-o2o-v2").find(".dealer-option").removeClass("active").end().find(".dealer-controls, .o2o-store-third-part").addClass("hidden").end().end().find(".dealer-controls, .o2o-store-third-part").removeClass("hidden").end().addClass("active")}else{if(F._currentView=="SELLER"){J.parent().find(".dealer-option").removeClass("active").end().find(".dealer-controls, .o2o-store-third-part").addClass("hidden").end().end().find(".dealer-controls, .o2o-store-third-part").removeClass("hidden").end().addClass("active")}}H._setActiveStore(J.attr("id"))}}}}}}}}}}});if(H._emptyCheck(F._o2oVendorData)){I("#sidebar_modal_right").on("click.o2o",function(J){var K=I(J.target);if(K.hasClass("change-pickup-pin")){Snapdeal.omni.fire("pincodeChange",{position:"changeText"});H._handlePincodeChangeFromModal()}})}},_o2oFlowButtonClickEvent:function(){var L=I(".o2o-buy-cta").attr("productType");var P=B["buy-now"].attr("catalog");I(".o2o-buy-cta").attr("catalog",P);var K="";if(H._emptyCheck(L)){switch(L.trim()){case"OOD":K=true;break;case"OOP":K=false;break;case"OOPD":K=false;break;default:break}}var J="";if(F._o2oVendorData.hasOwnProperty("o2oVendor")){J=(F._o2oVendorData.o2oVendor.sellingPrice-F._o2oVendorData.primaryVendor.sellingPrice);if(J<0){J=-J}var O=$("#storeDistance").val();var M="";if(H._emptyCheck(O)){M=O.substr(0,O.indexOf(" "))}var N=F._o2oVendorData.o2oVendor.freebies.length>0;Snapdeal.omni.fire("o2oWidgetBuy",{priceDifference:J,Distance:M,freebieAvailability:N,sellerRating:C,position:"o2oWidget"})}if(H._emptyCheck(arguments[0])){if(Object.prototype.toString.call(arguments[0])=="[object Function]"){arguments[0].call(this,K)}}},_viewDetailsEvent:function(){I(".view-details-o2o").on("click.o2ov2",function(J){J.preventDefault?J.preventDefault():(J.returnValue=false);var L=$(".emptyAttr.emptyAttrBelowAttr");if(B["buy-now"].attr("supc")=="undefined"){var K="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";L.html(K).removeClass("hidden");return }if(H._getPinCode()==null){I(".view-details-o2o").addClass("shake");I("#pincode-check").parent().siblings(".validate-error-color-red").text("Please enter the pincode").removeClass("hidden");setTimeout(function(){I(".view-details-o2o").removeClass("shake")},1000);return }Snapdeal.omni.fire("viewdetails",{position:"o2oWidget",catalogId:$("#catalogId").val()});H._showViewDetails(J)})},_togglePDPAvailModes:function(P,Q){if(H._emptyCheck(P)){var K=I(".pick-avail-o2o");var M=I(".del-avail-o2o");var L=I(".o2o-store-row").find(".map-section");var J=I(".o2o-store-row").find(".clock-section");var O=true,N=true;if(I("#isPickUpEnabledO2OFlow").val()=="false"){O=false}if((!P.isStdPickupAvailable&&!P.isCodPickupAvailable)||(!H._emptyCheck(P.isStdPickupAvailable)&&!H._emptyCheck(P.isCodPickupAvailable))){O=false}if((!P.isStdAvailable&&!P.isCodAvailable)||(!H._emptyCheck(P.isStdAvailable)&&!H._emptyCheck(P.isCodAvailable))){N=false}if(O||N){if(H._emptyCheck(Q)){if(Q){F._showViewDetails.primary=true}else{F._showViewDetails.o2o=true}I(".o2o-seller-viewDetail").removeClass("o2o-v2-hide")}if(O){L.removeClass("o2o-v2-hide");K.removeClass("o2o-inactive");J.addClass("o2o-v2-hide")}else{K.addClass("o2o-inactive")}if(N){if(!O){L.addClass("o2o-v2-hide");J.removeClass("o2o-v2-hide");K.addClass("o2o-inactive")}M.removeClass("o2o-inactive")}else{M.addClass("o2o-inactive")}}else{K.addClass("o2o-inactive");M.addClass("o2o-inactive");L.removeClass("o2o-v2-hide");J.addClass("o2o-v2-hide");if(H._emptyCheck(Q)){if(Q){F._showViewDetails.primary=false}else{F._showViewDetails.o2o=false}I(".o2o-seller-viewDetail").addClass("o2o-v2-hide")}}}},_showViewDetails:function(O){H._handleRightSideBarEvents();I(".o2o-side-overlay-view-more").find(".o2o-view-details").removeClass("o2o-v2-hide").end().find(".o2o-buy-now-step").addClass("o2o-v2-hide");F._storesListGetParams.supc=B["buy-now"].attr("supc");F._storesListGetParams.supc=B["buy-now"].attr("supc");var P=I(O.target).parent().parent();var J=F._o2oVendorData;var L=false,N=false;var K=I(".pickup-availability");var M=I(".dilivery-availability");if(H._emptyCheck(J)){if(I(".apply-cta-section").hasClass("o2o-show-me-class")){if(H._emptyCheck(J.o2oVendor)){if(J.o2oVendor.isStdPickupAvailable||J.o2oVendor.isCodPickupAvailable){if(I("#isPickUpEnabledO2OFlow").val()=="true"){K.removeClass("o2o-inactive");L=true}M.addClass("o2o-inactive");N=false}if(J.o2oVendor.isStdAvailable||J.o2oVendor.isCodAvailable){M.removeClass("o2o-inactive");if(!L){K.addClass("o2o-inactive");L=false}N=true}H._handlePcbDetails(J.o2oVendor,"o2o","view");F._storesListGetParams.vendorCode=B["o2o-v2-button"].attr("vendorcode-o2o")}}else{if(I(".nearby-txt-section").hasClass("o2o-show-me-class")){if(H._emptyCheck(J.primaryVendor)){if(J.primaryVendor.o2oFulfilled===true){H._handlePcbDetails(J.primaryVendor,"primary","view")}if(J.primaryVendor.isStdPickupAvailable||J.primaryVendor.isCodPickupAvailable){if(I("#isPickUpEnabledO2OFlow").val()=="true"){K.removeClass("o2o-inactive");L=true}M.addClass("o2o-inactive");N=false}if(J.primaryVendor.isStdAvailable||J.primaryVendor.isCodAvailable){M.removeClass("o2o-inactive");if(!L){K.addClass("o2o-inactive");L=false}N=true}}}F._storesListGetParams.vendorCode=B["buy-now"].attr("vendorcode")}}Snapdeal.sidebar.open(I("#viewMoreO2OSidebar"),'<div class="o2o-v2-title">'+H._getTitle("view-more")+"</div>","sd-ps-o2o-v2 o2o-side-bar-o2o-v2 o2o-side-bar-version-2 hidden");if(L&&H._getViewMoreStoresList().length>0){I(".o2o-side-bar-o2o-v2").find("#o2oMapView").find("#googleMapViewDetail").show();I(".o2o-side-bar-o2o-v2").find("#o2oMapView").removeClass("hidden").show();I(".o2o-side-bar-o2o-v2").find("#o2oClockView").addClass("hidden").hide();setTimeout(function(){H._mapViewPickupStores("view-more")},0)}else{if(N){I(".o2o-side-bar-o2o-v2").find("#o2oMapView").hide().addClass("hidden");I(".o2o-side-bar-o2o-v2").find("#o2oClockView").removeClass("hidden").show()}else{I(".o2o-side-bar-o2o-v2").find("#o2oMapView").hide().addClass("hidden");I(".o2o-side-bar-o2o-v2").find("#o2oClockView").hide().addClass("hidden")}}F._mapCurrentFlow="view-more";I(".sd-ps-o2o-v2").removeClass("hidden");H._setPickComplete(false);I(".o2o-side-overlay-view-more").removeClass("hidden").show();H._viewMoreBuyButtonClickEvent()},_linkButtonToggle:function(M,J){var L=$(".stores-view");var K=$(".view-link-button");L.slideUp();M.slideDown();K.find(".viewLess-link-button").addClass("hidden");K.find(".viewMore-link-button").removeClass("hidden");J.find(".viewLess-link-button").removeClass("hidden");J.find(".viewMore-link-button").addClass("hidden");$(".seller-info-o2o-v2").find(".one-store-seller-o2o").removeClass("hidden");$(".seller-info-o2o-v2").find(".one-store-seller-o2o").find(".viewLess-link-button").addClass("hidden");if(J.hasClass("one-store-seller-o2o")){J.addClass("hidden")}K.removeClass("expanded").addClass("collapsed")},_showfreebiePopup:function(N){N=N||window.event;N.stopPropagation();var M=$(N.target).parent();var L=M.closest(".freebies").find(".currentTncData");var K=M.next();var J="";if(L.length>0){J=L.children().clone()}else{if(K.length>0){J="<li class='li-tncDetail'>"+K.html()+"</li>"}else{return }}A.popupTncDetails.find(".ul-tncDetail").append(J);H._positionfreebiePopup(M.position());A.popupTncDetails.addClass("animPopup");A.closeBtnTncPopup.on("click",H._hidefreebiePopup);$(document).on("click",function(O){if($(O.target).closest(".popup-tncDetails").get(0)==null){H._hidefreebiePopup()}})},_positionfreebiePopup:function(M){var L=M.top;var K=0;var J=null;J=$(".freebies .popup-tncDetails");J.removeAttr("style");J.css("max-height",K);var N=J.outerHeight();J.find(".content-wrapper-tncDetails").css("max-height",N);J.css({top:"12px"})},_hidefreebiePopup:function(){A.popupTncDetails.removeClass("animPopup");setTimeout(function(){A.popupTncDetails.find(".ul-tncDetail").empty();A.popupTncDetails.find(".content-wrapper-tncDetails").removeAttr("style")},500);A.closeBtnTncPopup.on("click")},_viewMoreBuyButtonClickEvent:function(){I(".view-more-buy-now-btn-o2o").off().on("click.o2ov2",function(O){O=O||window.event;O.stopPropagation();var L=F._o2oVendorData;var Q={primary:{pick:false,del:false},o2o:{pick:false,del:false}};if(H._emptyCheck(L)){if(H._emptyCheck(L.o2oVendor)){Q.o2o.pick=L.o2oVendor.isStdPickupAvailable||L.o2oVendor.isCodPickupAvailable;Q.o2o.del=L.o2oVendor.isStdAvailable||L.o2oVendor.isCodAvailable}else{if(H._emptyCheck(L.primaryVendor)){Q.primary.pick=L.primaryVendor.isStdPickupAvailable||L.primaryVendor.isCodPickupAvailable;Q.primary.del=L.primaryVendor.isStdAvailable||L.primaryVendor.isCodAvailable}}if(I("#isPickUpEnabledO2OFlow").val()=="false"){Q.primary.pick=false;Q.o2o.pick=false}}var P=I(".o2o-buy-now-step");var K=P.find(".o2o-side-overlay");var M=K.find(".o2oModes");var N=P.find(".o2oOtherInfo");K.addClass("o2o-v2-hide");if(B["o2o-v2-button"].hasClass("o2o-show-me-class")){H._setPickComplete(false);F._storesListGetParams.vendorCode=B["o2o-v2-button"].attr("vendorcode");H._o2oFlowButtonClickEvent(function(){F._flow=E["o2o-flow"].normal;if(arguments!=undefined&&arguments!=null&&arguments[0]!=undefined&&arguments[0]!=null){if((arguments[0]||Q.o2o.del)&&!Q.o2o.pick){B["o2o-v2-button"].trigger("click")}else{if(Q.o2o.pick&&!Q.o2o.del){F._flow=E["o2o-flow"].o2o;if(!Snapdeal.onlineToOffline.isPickComplete()){H._loadSellersViaAjaxPostPinChange(H._getPinCode(),true)}else{H._deliveryFlowClickEvent()}}else{if(Q.o2o.pick&&Q.o2o.del){I(".o2o-view-details").addClass("o2o-v2-hide");N.addClass("o2o-v2-hide");K.removeClass("o2o-v2-hide").show();P.removeClass("o2o-v2-hide").show();M.show();H._handlePickupModalUpdate()}}}}else{H._deliveryFlowClickEvent()}})}else{if(I(".nearby-txt-section").hasClass("o2o-show-me-class")){H._setPickComplete(false);F._storesListGetParams.vendorCode=B["buy-now"].attr("vendorcode");var J=B["buy-now"].attr("productType");if(H._emptyCheck(J)){if(Q.primary.pick&&!Q.primary.del){F._flow=E["o2o-flow"].o2o;if(!Snapdeal.onlineToOffline.isPickComplete()){H._loadSellersViaAjaxPostPinChange(H._getPinCode(),true)}else{H._deliveryFlowClickEvent()}}else{if(Q.primary.del&&!Q.primary.pick){F._flow=E["o2o-flow"].normal;B["buy-now"].trigger("click")}else{if(Q.primary.del&&Q.primary.pick){I(".o2o-view-details").addClass("o2o-v2-hide");K.removeClass("o2o-v2-hide").show();P.removeClass("o2o-v2-hide").show();M.show();I(".o2oOtherInfo").addClass("o2o-v2-hide");H._handlePickupModalUpdate()}}}}else{F._flow=E["o2o-flow"].normal;H._deliveryFlowClickEvent()}}else{B["buy-now"].trigger("click")}}})},_hideSiblingSidebar:function(J){switch(J){case"view-more":I(".o2o-side-overlay-view-more").hide();break;case"pick":I("#selectDealerBarO2O").hide();break}},_handlePcbDetails:function(P,R,J){if(H._emptyCheck(P)){var L=0;var O=0;var Q=false;var N=false;var K=false;var S="";if(H._emptyCheck(J)&&J=="view"){S=I(".pcb-block")}else{K=true;S=I(".pcb-block-pdp")}var M=$("#globalSwitchForWalletCashback").val();if(M=="true"&&(P.walletCashBackApplicable!=null&&P.walletCashBackApplicable==true&&P.walletCashBackValueInt>0)){N=true;L=H._emptyCheck(P.effectivePriceAfterWalletCashback)?P.effectivePriceAfterWalletCashback:O;O=H._emptyCheck(P.walletCashBackValueInt)?P.walletCashBackValueInt:price;if(K){S.find(".pcb-cashback").text("Rs"+O);S.find(".pcb-effectivePrice").text("Rs"+L)}else{S.find(".pcb-cashback").text("Rs. "+Snapdeal.utility.commafy(O));S.find(".pcb-effectivePrice").text("Rs. "+Snapdeal.utility.commafy(L))}S.removeClass("hidden")}else{S.addClass("hidden")}}},_handlePincodeChangeFromModal:function(){I(".change-o2o-pin-container").remove();I('<div class="change-o2o-pin-container"><input type="text" value="" class="pin-text-box-o2o" maxlength="6" /><button class="pin-code-check-o2o">Check</button><p class="clearfix pincode-error"></p></div>').appendTo(".pin-value");I(".pin-text-box-o2o").focus();I(".pin-code-check-o2o").on("click.o2ov2",function(M){var O=($(".pin-text-box-o2o").val()).trim();var N=$(this).parent(".change-o2o-pin-container").find(".pincode-error");var J=O;var L=/^[0-9]+$/;var K=true;if(J==""){N.text("Please enter pincode").removeClass("hidden");K=false}else{if((J.length)<6||(J.length)>6){N.text("*Pincode should only be 6 digits").removeClass("hidden");K=false}else{if(!L.test(J)){N.text("*Pincode should be numbers only").removeClass("hidden");K=false}else{if(J=="000000"){N.text("*Pincode cannot contain all zeros").removeClass("hidden");K=false}else{if(J.toString().charAt(0)=="0"){N.text("*Pincode enter a valid pincode").removeClass("hidden");K=false}}}}}if(K){N.text("").addClass("hidden");$(".change-o2o-pin-container").remove();I("#pincode-change").click();I("#pincode-check").val(O);I("#pincode-check-bttn").click();if(F._currentView=="SELLER"){H._fetchStoreDetails("",J)}else{if(F._currentView=="PDP"){H._loadSellersViaAjaxPostPinChange(J)}}Snapdeal.omni.fire("pincodeChangeButton",{pincodeValue:J,pincodeCheckFlag:F._pinCheckForOmni})}})},_handleViewDetailsUpdate:function(K,N){var O=K.o2OBenefitTextListExpanded;var L="Buy Now (Rs. "+Snapdeal.utility.commafy(N)+")";if(N<=0){L="Buy Now"}$(".benefit-list").html("");$(".freebieTxt").html("");$(".view-more-buy-now-btn-o2o").html(L);$(".store-prod-price").text("Rs. "+Snapdeal.utility.commafy(N));$("#o2oClockView").find(".delivery-time").text(H._emptyCheck(K.deliveryTime)?"In "+K.deliveryTime:"");if(H._emptyCheck(O)){$.each(O,function(R,S){var Q="";Q+="<div class='cheracterstick-bullets'><h3 class='cheracterstick-bullet-head'><span class='circle-bullets'>&nbsp;</span> "+R+"</h3><p class='cheracterstick-bullet-desc'> "+S+"</p></div>";$(".benefit-list").append(Q)})}var M=H._emptyCheck(K.o2oFreebies)?K.o2oFreebies:"";if(M.length==0){$(".freebie-section").find("h3").hide()}else{$(".freebie-section").find("h3").show()}var P="";if(M!=""){for(var J=0;J<M.length;J++){P+="<p class='cheracterstick-bullet-desc'><span class='sd-icon sd-icon-checkmark freebie-color' ></span> "+M[J].freebieText+" </p> "}$(".freebieTxt").append(P)}$(".store-name").text(K.o2OBenefitTextList.SELLER);if(K.showSellerIcon){$(".overlay-store-logo").find("img").attr("src",K.sellerIconUrl).end().removeClass("o2o-v2-hide")}else{$(".overlay-store-logo").addClass("o2o-v2-hide")}},_loadSellersViaAjaxPostPinChange:function(L,J){H._removeLoader();H._addLoader();H._setStoresList([]);var K="/O2O/getMultiSellerStores";F._mapCurrentFlow="buy-now";Snapdeal.omni.fire("pickUpClick",{position:"pickUpRadio"});F._storesListGetParams.pincode=L;I.get(K,F._storesListGetParams,function(M){I("#o2o-pick-outer").show();I(".o2o-v2-title").html(H._getTitle("buy-now"));if(J){F._mapCurrentFlow="view-buy-now";I(".o2o-view-details").addClass("o2o-v2-hide");I(".o2o-buy-now-step").find("#o2o-pick-outer").find(".o2oOtherInfo").html(M).end().end().removeClass("o2o-v2-hide")}else{F._mapCurrentFlow="buy-now";I("#o2o-pick-outer").find(".o2oOtherInfo").html(M).removeClass("o2o-v2-hide")}var O;if(I(".no-seller").length==0){O=false}else{O=true}F._pinCheckForOmni=O;I(".o2o-side-overlay").addClass("o2o-v2-hide").hide();I(".sd-ps").removeClass("hidden");H._updateStoreName();H._setPickComplete(true);I(".o2o-v2-title").html(H._getTitle("buy-now"));$(".o2o-v2-title").find(".pincodeVal").text(L);H._mapViewPickupStores("buy-now");B["o2o-side-overlay"].hide();var N=Snapdeal.localStorage.getItem("authData");if(H._emptyCheck(N)){N=JSON.parse(N);I(".seller-details-o2o-v2").find(".userName").val(H._emptyCheck(N.firstName)?N.firstName:"")}I(".seller-details-o2o-v2").find(".dealerTel").val(I("#loggedInUserMobile").val());I("#o2o-pick-outer").removeClass("o2o-v2-hide");I(".o2oOtherInfo").removeClass("o2o-v2-hide");H._removeLoader()})},_mapModeInit:function(){var J=F._mapCurrentFlow;var K="";switch(J){case"view-more":I(".o2o-side-bar-o2o-v2 .o2o-side-overlay-view-more").show();K=I(".o2o-side-bar-o2o-v2").find("#googleMapViewDetail");K.show();if(!F._mapObjects["view-more"]||K.children().length==0){F._mapObjects["view-more"]=new Snapdeal.googleMaps(K[0]);F._mapObjects["view-more"].init()}else{F._mapObjects["view-more"].setCurrentFlow("view-more");F._mapObjects["view-more"].updateMarkers()}break;case"buy-now":K=I(".o2o-side-bar").find("#googleMap");if(K.length==0){K=I(".o2o-side-bar-o2o-v2").find("#googleMap")}K.show();if(!F._mapObjects["buy-now"]||K.children().length==0){F._mapObjects["buy-now"]=new Snapdeal.googleMaps(K[0]);F._mapObjects["buy-now"].init()}else{F._mapObjects["buy-now"].setCurrentFlow("buy-now");F._mapObjects["buy-now"].updateMarkers()}break;case"view-buy-now":K=I(".o2o-side-bar-o2o-v2").find("#googleMap");K.show();if(!F._mapObjects["buy-now"]||K.children().length==0){F._mapObjects["buy-now"]=new Snapdeal.googleMaps(K[0]);F._mapObjects["buy-now"].init()}else{F._mapObjects["buy-now"].setCurrentFlow("buy-now");F._mapObjects["buy-now"].updateMarkers()}break}if(K!=""){K.show()}},_resetO2O:function(){H._updateNewO2OCard("");H._setFlow(E["o2o-flow"].normal);B["add-cart"].show();B["pincode-o2o"].hide();H._removePickFromStoreEvent();B["buy-now"].removeClass("buy-now-o2o-flow");B["buy-now"].removeAttr("productType");I(".o2o-default-applied-class").removeClass("o2o-show-me-class");I(".o2o-slide-toggle").removeClass("o2o-show-me-class");H._resetJson();H._setPickComplete(false);var J=H._getO2OVendorData();if(H._emptyCheck(J)){H._updatePickInfo(J.primaryVendor.isCodPickupAvailable||J.primaryVendor.isStdPickupAvailable,J.primaryVendor.isCodAvailable)}}};D={init:function(){return H._init.apply(this,arguments)},pickFromStore:function(){return H._pickFromStore.apply(this,arguments)},flow:function(){return H._getFlow()},isPickComplete:function(){return H._isPickComplete()},getPickupJson:function(){return H._getPickupJson()},storesList:function(){return H._getStoresList()},viewMoreList:function(){return H._getViewMoreStoresList()},setViewMoreList:function(J){H._setViewMoreList(J)},setStores:function(J){H._setStoresList(J)},setActiveStore:function(J){H._setActiveStore(J)},getActiveStore:function(){return H._getActiveStore()},handleAttributeChange:function(){return H._handleAttributeChange.apply(this,arguments)},setAllSellerEventTarget:function(){return H._setAllSellerEventTarget.apply(this,arguments)},getO2OVendorData:function(){return H._getO2OVendorData()},setO2OVendorData:function(J){H._setO2OVendorData(J)},setCurrCity:function(J){H._setCurrCity(J)},o2oButtonClickEvent:function(){H._o2oFlowButtonClickEvent.apply(this,arguments)},mapModeInit:function(){H._mapModeInit.apply(this,arguments)},addLoader:function(){H._addLoader.apply(this,arguments)},removeLoader:function(){H._removeLoader.apply(this,arguments)},resetO2O:function(){H._resetO2O()}};return D})(window.jQuery,Snapdeal);
var Snapdeal=Snapdeal||{};Snapdeal.buyNowTellMeTile=(function(G,E){var D,C,A,H,B,F;H={timeout:0};A={"pdp-buynow-rp":G("#pdp-buynow-rp"),"pdp-tellme-rp":G("#pdp-tellme-rp"),"pdp-tel-me-button":G("#pdp-tel-me-button"),"pdp-tel-me-email":G("#pdp-tel-me-email"),emailId:Snapdeal.Cookie.get("eid"),"tel-me-success":G("#tel-me-success"),"inStockNotify-inner":G(".inStockNotify-inner"),buyContainer:G("#pdp-buynow-rp"),automBook:G(".automBook"),automAttribute:G(".automAttribute"),noServiceableError:G(".noServiceableError"),automBuyBtn:G("#buy-button-id-autom"),checkError:G("#checkError"),checkAvailPin:G(".check-avail-pin-inner"),wrongPin:G(".wrongPinText"),pdpTypeVal:G("#pdpType").val(),donationButton:G("#buy-button-id-donate"),pdpDonationFlag:G("#pdpDonation")};C={_init:function(I){B=G.extend(true,{},H,I);window.onbeforeunload=function(J){Snapdeal.utility.hidePageLoader()};A["pdp-tel-me-button"].click(function(){C._tellMeForSoldOut(G(this))});C._buyNowO2OV2();G("#product-attr-options").on("disabledAttributeClicked",function(K,J){A["pdp-buynow-rp"].find("#buy-button-id").attr("supc","undefined").attr("catalog","undefined");A["pdp-buynow-rp"].find("#add-cart-button-id").attr("supc","undefined").attr("catalog","undefined");A["pdp-buynow-rp"].find("#buy-button-id-autom").attr("supc","undefined").attr("catalog","undefined");C._disabledAttributeClicked(J.objClicked,J.isSelectBox)}).on("disabledClicked",function(K,J){A["pdp-buynow-rp"].find("#buy-button-id").attr("supc","undefined").attr("catalog","undefined");A["pdp-buynow-rp"].find("#add-cart-button-id").attr("supc","undefined").attr("catalog","undefined");A["pdp-buynow-rp"].find("#buy-button-id-autom").attr("supc","undefined").attr("catalog","undefined")}).on("attributeClicked",function(K,J){G(".emptyAttr").addClass("hidden");A["pdp-buynow-rp"].find("#buy-button-id").attr("supc","undefined").attr("catalog","undefined");A["pdp-buynow-rp"].find("#add-cart-button-id").attr("supc","undefined").attr("catalog","undefined");A["pdp-buynow-rp"].find("#buy-button-id-autom").attr("supc","undefined").attr("catalog","undefined");C._attributeClicked(J.objClicked,J.isSelectBox)}).on("productAttrSelected",function(M,L,K,J){G(".emptyAttr").addClass("hidden");C._updateAddtoCartInfo(L,K);C._updateBuyNowInfo(L,K);if(J&&G("#attributeDepth").val()==0){C._updateBookNowInfo(L,K)}}).on("productAttrSelectedAutoPin",function(L,K,J){G(".emptyAttr").addClass("hidden");if(G("#attributeDepth").val()==0){C._updateAddtoCartInfo(K,J);C._updateBuyNowInfo(K,J)}}).on("updateCatalogIdAndSupc",function(N,O,M){var J=A.buyContainer.find("#buy-button-id");J.attr({catalog:O,supc:M});var L=A.buyContainer.find("#buy-button-id-autom");L.attr({catalog:O,supc:M});var K=A.buyContainer.find("#add-cart-button-id");K.attr({catalog:O,supc:M})});G("#content_wrapper").on("floatingBuyClicked",function(K,J){if(A.pdpTypeVal!="automobiles"){if(Snapdeal.donationFlow.getPdpFlowFlag()==false){C._floatingBuyClicked(J)}else{if(Snapdeal.donationFlow.getDonationVisit()==true){C._floatingBuyClicked(J)}else{if(A["pdp-buynow-rp"].find("#buy-button-id").attr("supc")=="undefined"){C._floatingBuyClicked(J)}else{Snapdeal.sidebar.open(jQuery("#donorDetailsInput"),'<div class="donation-continue"> <span class="donorName">Enter your details</span>  </div>',"sd-ps")}}}}else{C._autoFloatingBuyClicked(J)}});if(A.emailId){A["pdp-tel-me-email"].val(A.emailId.replace(/"/g,""))}A.buyContainer.on("click","#buy-button-id",function(){if(G("#pdpType").val()!="automobiles"&&Snapdeal.onlineToOffline.flow()==="O2O_PICK"&&jQuery(this).attr("productType")!==undefined){if(Snapdeal.onlineToOffline.isPickComplete()){C._buyNow(G(this))}else{Snapdeal.onlineToOffline.pickFromStore(jQuery(this))}}else{if(A.pdpTypeVal!="automobiles"){if(Snapdeal.donationFlow.getPdpFlowFlag()==false){C._buyNow(G(this))}else{if(Snapdeal.donationFlow.getDonationVisit()==true){C._buyNow(G(this))}else{if(G(this).attr("supc")=="undefined"){C._buyNow(G(this))}else{Snapdeal.sidebar.open(jQuery("#donorDetailsInput"),'<div class="donation-continue"> <span class="donorName">Enter your details</span>  </div>',"sd-ps")}}}}}}).on("click","#buy-button-id-autom",function(){C._bookNow(G(this))}).on("click","#add-cart-button-id",function(){var O=Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails();var K=Snapdeal.hardBundling&&Snapdeal.hardBundling.primaryArray();var J=Snapdeal.hardBundling&&JSON.parse(JSON.stringify(K));if(O&&O.length||J&&J.length){var P=G("#add-cart-button-id");var N=[];N.push({cartId:Snapdeal.Cookie.get("cartId"),catId:G("#catId").val(),catalogId:P.attr("catalog"),supc:P.attr("supc"),vendorCode:P.attr("vendorcode"),bundleType:Snapdeal.softBundling.getSoftBundleDetails().length>0?"SOFT":"HARD",bundleId:P.attr("supc"),heroItem:true});if(J.length>0){for(var L=0;L<J.length;L++){delete J[L].price;delete J[L].cashBack;delete J[L].name;N.push(J[L])}}if(O&&O.length>0){for(var L=0;L<O.length;L++){delete O[L].price;N.push(O[L])}}var M=G(".additional-services.checked[data-soft-install=true]");getOmnitureScript({catalogId:G("#catalogId").val(),categoryUrl:G("#catUrl").val(),pageName:G("body").data("pagename"),prebook:G("#prebook").val(),live:G("#live").val(),vendorCode:G(this).attr("vendorcode"),vendorScore:G(this).attr("vendorscore"),buyBtnOrder:"BuyButton-1",shippingCharges:G(this).attr("shippingcharges"),cashBackValue:G("#pdpWalletCashBackOmni").val()||0,installationSelected:M.length>0?true:false,installationType:G(".additional-services.checked[data-soft-install=true]").length>0?G(".additional-services.checked").data("freeInstall")==true?"free":"paid":"free"},"addToCartRevamp");Snapdeal.shoppingCart.addProductsToCart({products:N});return }C._addToCart(G(this))});G(window).load(function(){C._lazy()});G("#cartModal").on("addedToCart",function(J,K){Snapdeal.shoppingCart.showCart();Snapdeal.utility.hidePageLoader()});G("#pdp-tel-me-email").keypress(function(K){var J=(K.keyCode?K.keyCode:K.which);if(J=="13"){G("#pdp-tel-me-button").click()}})},_enableBuy:function(I,J){getOmnitureScript({catalogId:I.attr("catalog"),categoryUrl:G("#catUrl").val(),prebook:G("#prebook").val(),live:G("#live").val(),vendorCode:I.attr("vendorcode"),vendorScore:I.attr("vendorscore"),buyBtnOrder:"BuyButton-1",shippingCharges:I.attr("shippingcharges"),supc:I.attr("supc")},"bookNowAutomobile");if(A.checkAvailPin.is(":visible")&&G("#pincode-check").val()){if(I.attr("ispincodechecked")){if(!A.wrongPin.is(":visible")){A.noServiceableError.addClass("hidden");Snapdeal.selectDealer.selectDealers(I);A.automBuyBtn.attr("isPincodeChecked","")}else{Snapdeal.utility.hidePageLoader();A.noServiceableError.removeClass("hidden");A.wrongPin.addClass("hidden");if(J){G("html, body").animate({scrollTop:(A.automBuyBtn.offset().top)-90},1500)}A.automBuyBtn.attr("vendorChecked","")}}else{Snapdeal.utility.hidePageLoader();A.checkError.removeClass("hidden").html("Please check pincode availability");G(".emptyAttr,.noServiceableError").addClass("hidden");if(J){G("html, body").animate({scrollTop:(A.automBuyBtn.offset().top)-90},1500)}A.automBuyBtn.attr("vendorChecked","")}}else{Snapdeal.selectDealer.selectDealers(I)}},_bookNow:function(J){var I=A.buyContainer;var L=G(".emptyAttr.emptyAttrBelowAttr");if(J.attr("vendorChecked")=="true"){return }J.attr("vendorChecked","true");if(J.attr("supc")=="undefined"){J.addClass("shake");var K="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";L.html(K).removeClass("hidden");setTimeout(function(){J.removeClass("shake")},1000);J.attr("vendorChecked","");return }Snapdeal.utility.displayPageLoader();L.html("");C._enableBuy(J)},_addToCart:function(J){var I=A.buyContainer;var M=G(".emptyAttr.emptyAttrBelowAttr");if(J.attr("supc")=="undefined"){J.addClass("shake");var L="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";M.html(L).removeClass("hidden");setTimeout(function(){J.removeClass("shake")},1000);return }Snapdeal.utility.displayPageLoader();M.html("");var K=Snapdeal.offersPanel.getExchangeData();Snapdeal.shoppingCart.addToCart(J.attr("catalog"),J.attr("vendorCode"),J.attr("supc"),K.buyBackQuoteValue,K.buyBackQuoteId,K.buyBackQuoteName);getOmnitureScript({catalogId:G("#catalogId").val(),categoryUrl:G("#catUrl").val(),prebook:G("#prebook").val(),pageName:G("body").data("pagename"),live:G("#live").val(),vendorCode:J.attr("vendorcode"),vendorScore:J.attr("vendorscore"),buyBtnOrder:"BuyButton-1",shippingCharges:J.attr("shippingcharges"),cashBackValue:G("#pdpWalletCashBackOmni").val()||0,installationSelected:false,installationType:null},"addToCartRevamp")},_updateAddtoCartInfo:function(K,J){var I=A.buyContainer.find("#add-cart-button-id");I.attr({vendorcode:K.primaryVendor.vendorCode,supc:J})},_checkAttrSelection:function(K){var J=A.buyContainer;var M=G(".emptyAttr.emptyAttrBelowAttr");var I=J.find("#buy-button-id");if(I.attr("supc")=="undefined"){var L="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";M.html(L).removeClass("hidden");if(!K){G("html, body").animate({scrollTop:(G("#product-attr-options").offset().top)-60},1500)}return false}else{return true}},_floatingBuyClicked:function(J){Snapdeal.Cookie.set("track","buyButton");var L=A.buyContainer;var K=L.find("#buy-button-id");var M=C._checkAttrSelection();if(M){if(Snapdeal.onlineToOffline.flow()==="O2O_PICK"&&K.attr("productType")!=undefined){if(!Snapdeal.onlineToOffline.isPickComplete()){Snapdeal.onlineToOffline.pickFromStore(jQuery(this),true);return }}Snapdeal.utility.displayPageLoader();if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){SDLogger.log("clickStream","buy",{pogId:G("#pogId").val(),supc:(G("#buy-button-id").attr("supc")&&G("#buy-button-id").attr("supc")!=="undefined")?G("#buy-button-id").attr("supc"):G("#defaultSupc").html().trim()},true)}var I=C._createBuyNowUrl(K,"BuyButton-Floating");window.location.href=I}},_autoFloatingBuyClicked:function(I){Snapdeal.Cookie.set("track","buyButton");var K=A.buyContainer;var M=G(".emptyAttr.emptyAttrBelowAttr");var J=K.find("#buy-button-id-autom");if(J.attr("supc")=="undefined"){var L="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";M.html(L).removeClass("hidden");G("html, body").animate({scrollTop:(G("#product-attr-options").offset().top)-60},1500);return }C._enableBuy(J,true)},_buyNowO2OV2:function(I){jQuery(".o2o-buy-cta").on("click.o2ov2",function(J){var K=jQuery(this);K.attr("supc",A.buyContainer.find("#buy-button-id").attr("supc"));Snapdeal.onlineToOffline.o2oButtonClickEvent(function(){if(arguments!=undefined&&arguments!=null&&arguments[0]!=undefined&&arguments[0]!=null){if(arguments[0]){C._buyNow(K)}else{if(!Snapdeal.onlineToOffline.isPickComplete()){Snapdeal.onlineToOffline.pickFromStore(K)}else{C._buyNow(K)}}}else{C._buyNow(K)}})})},_buyNow:function(T){var I=A.buyContainer;var M=G(".emptyAttr.emptyAttrBelowAttr");if(T.attr("supc")=="undefined"){T.addClass("shake");var R="Please select "+Snapdeal.attributesTile.getAttrStr()+" of product";M.html(R).removeClass("hidden");setTimeout(function(){T.removeClass("shake")},1000);return }M.html("");if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){SDLogger.log("clickStream","buy",{pogId:G("#pogId").val(),supc:(G("#buy-button-id").attr("supc")&&G("#buy-button-id").attr("supc")!=="undefined")?G("#buy-button-id").attr("supc"):G("#defaultSupc").html().trim()},true)}var J=Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails();var L=Snapdeal.hardBundling&&Snapdeal.hardBundling.primaryArray();var Q=Snapdeal.hardBundling&&JSON.parse(JSON.stringify(L));if(J&&J.length||Q&&Q.length){var P=G("#add-cart-button-id");var S=[];S.push({cartId:Snapdeal.Cookie.get("cartId"),catId:G("#catId").val(),catalogId:P.attr("catalog"),supc:P.attr("supc"),vendorCode:P.attr("vendorcode"),bundleType:Snapdeal.softBundling.getSoftBundleDetails().length>0?"SOFT":"HARD",bundleId:P.attr("supc"),heroItem:true});if(Q.length>0){for(var O=0;O<Q.length;O++){delete Q[O].price;delete Q[O].cashBack;delete Q[O].name;S.push(Q[O])}}if(J&&J.length>0){for(var O=0;O<J.length;O++){delete J[O].price;S.push(J[O])}}var N=G(".additional-services.checked[data-soft-install=true]");getOmnitureScript({catalogId:G("#catalogId").val(),categoryUrl:G("#catUrl").val(),prebook:G("#prebook").val(),live:G("#live").val(),vendorCode:G(this).attr("vendorcode"),vendorScore:G(this).attr("vendorscore"),buyBtnOrder:"BuyButton-1",shippingCharges:G(this).attr("shippingcharges"),cashBackValue:G("#pdpWalletCashBackOmni").val()||0,installationSelected:N.length>0?true:false,installationType:G(".additional-services.checked[data-soft-install=true]").length>0?G(".additional-services.checked").data("freeInstall")==true?"free":"paid":"free"},"addToCartRevamp");Snapdeal.shoppingCart.addProductsToCart({products:S});return }else{var K=C._createBuyNowUrl(T,"BuyButton-pdpBuy");window.location.href=K}},_updateBuyNowInfo:function(K,J){var I=A.buyContainer.find("#buy-button-id");I.attr({vendorcode:K.primaryVendor.vendorCode,supc:J})},_updateBookNowInfo:function(J,I){var K=A.buyContainer.find("#buy-button-id-autom");K.attr({vendorcode:J.primaryVendor.vendorCode,supc:I})},_createBuyNowUrl:function(S,N){var R=Snapdeal.offersPanel.getExchangeData();var J="",M=1;var P=S.attr("productType");P=(P===undefined||P===""?"":"&productType="+P);var I="";var O=S.attr("vendorCode"),Q=S.attr("vendorScore");P=(S.attr("productType")=="OOPD"?"&productType=OOD":P);if(Snapdeal.onlineToOffline.flow()==="O2O_DEL"){if(S.attr("productType")!==undefined&&S.attr("productType")!=""){P="&productType=OOD"}else{P=""}}else{if(Snapdeal.onlineToOffline.flow()==="O2O_PICK"){if(S.attr("vendorCode")!==undefined){O=S.attr("vendorCode");Q=S.attr("vendorScore")}var L=Snapdeal.onlineToOffline.getPickupJson();if(undefined!==L&&""!=L&&L.mobile!=""&&L.customerName!=""){O=L.vendorCode;I+="&storeCode="+L.storeCode;I+="&mobile="+L.mobile;I+="&customerName="+L.customerName;I+="&pincode="+L.pincode;P="&productType=OOP"}}else{P=""}}J+=absoluteHttpsPath;if(Snapdeal.donationFlow.getPdpFlowFlag()!="true"){J+="/buyNow"}else{J+="/donate"}J+="?catalogId="+S.attr("catalog");J+="&vendorCode="+O;J+="&vendorScore="+Q;J+=P;J+="&supc="+S.attr("supc");J+="&quoteValue="+R.buyBackQuoteValue;J+="&quoteId="+encodeURIComponent(R.buyBackQuoteId);J+="&quoteProductName="+R.buyBackQuoteName;J+="&ref="+N;J+=I;if(Snapdeal.donationFlow.getPdpFlowFlag()=="true"){var K=Snapdeal.donationFlow.getDonationjson();J+="&ngoName="+K.ngoName;J+="&addressId="+K.addressId;J+="&hashValue="+K.hashValue;J+="&donatorName="+K.customerName;J+="&donatorContact="+K.mobile}M=G(".add-to-cart:eq(0)").is(":visible")?+G(".buy-quantity-count:eq(0)").text().trim():+G(".updated-quantity-number:eq(0)").text().trim();if(M&&!isNaN(M)){J+="&quantity="+M}return J},_createBuyNowUrlForAuto:function(){var K=Snapdeal.offersPanel.getExchangeData();var J=Snapdeal.rupeePowerIntg.getRupeeInteraction();var I="";I+=absoluteHttpsPath;I+="/buyNow";I+="?catalogId="+J.catalogId;I+="&vendorCode="+J.dealer_code;I+="&vendorScore="+J.vendorScore;I+="&supc="+J.supc;I+="&quoteValue="+K.buyBackQuoteValue;I+="&quoteId="+encodeURIComponent(K.buyBackQuoteId);I+="&quoteProductName="+K.buyBackQuoteName;I+="&productType=AMP";I+="&storeCode=";I+="&loanStatus="+J.isLoanAvailable;I+="&insuranceStatus="+J.isInsuranceAvailable;I+="&uniqueReferenceNumber="+(J.uniqueReferenceNumber?J.uniqueReferenceNumber:"");I+="&mobile="+J.cust_mobile;I+="&customerName="+J.cust_name;return I},_disabledAttributeClicked:function(I,J){A["pdp-buynow-rp"].addClass("hidden");A["pdp-tellme-rp"].removeClass("hidden");A["tel-me-success"].addClass("hidden");A["inStockNotify-inner"].removeClass("hidden");A.automBook.addClass("soldAuto");A.automAttribute.addClass("soldAutoAttr");if(J){A["pdp-tellme-rp"].find("#pdp-tel-me-button").attr("title",I.find(":selected").attr("catalogId"));A["pdp-tellme-rp"].find("#pdp-tel-me-button").attr("supc",I.find(":selected").attr("supc"))}else{A["pdp-tellme-rp"].find("#pdp-tel-me-button").attr("title",I.attr("catalogId"));A["pdp-tellme-rp"].find("#pdp-tel-me-button").attr("supc",I.attr("supc"))}},_attributeClicked:function(I,J){A["pdp-buynow-rp"].removeClass("hidden");A["pdp-tellme-rp"].addClass("hidden");A.automBook.removeClass("soldAuto");A.automAttribute.removeClass("soldAutoAttr")},_tellMeForSoldOut:function(J){var I=A["pdp-tel-me-email"].next();A["pdp-tel-me-email"].removeClass("validate-error-color-red validate-error-border-red");I.addClass("hidden");var M=jQuery.trim(J.attr("title"));var L=jQuery.trim(J.attr("supc"));var K=A["pdp-tel-me-email"].val();if(C._validateEmail(K)){if(M!="undefined"){C._launchNotifyMeRequest(M,K,L)}}else{A["pdp-tel-me-email"].addClass("validate-error-color-red validate-error-border-red");I.removeClass("hidden")}getOmnitureScript({catalogId:M,Tellme_mailid:K},"pdpSoldOutTellMe")},_validateEmail:function(I){return(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(I))},_launchNotifyMeRequest:function(L,I,J){var K="/product/notifyMe?catalogId="+L+"&emailAdr="+I+"&supc="+J;G.ajax({url:K,type:"GET",dataType:"text",cache:false,success:function(M){if(M=="success"){A["tel-me-success"].removeClass("hidden");A["inStockNotify-inner"].addClass("hidden")}},error:function(){}})},_generateEmiTooltip:function(I){G(".pincode-emi .emiToolTp").on("click",function(J){J.stopPropagation();Snapdeal.emiDetailWidget.openSidebar()})},_listenForDataFromRP:function(){var I=G("#rpTimeout").val();var J=setTimeout(function(){Snapdeal.rupeePowerIntg.setRupeeInteraction({isLoanAvailable:0,isInsuranceAvailable:0,uniqueReferenceNumber:""});window.location.href=C._createBuyNowUrlForAuto()},5000);XD.receiveMessage(function(L){var K=L.data;console.log("Got data from RP"+K);console.log(L);if(K=="RPLoaded"){window.clearTimeout(J)}else{Snapdeal.rupeePowerIntg.setRupeeInteraction({isLoanAvailable:K.loanStatus,isInsuranceAvailable:K.insuranceStatus,uniqueReferenceNumber:encodeURIComponent(K.rpUrn)});window.location.href=C._createBuyNowUrlForAuto()}},G("#rpDomainId").val())},_lazy:function(){C._generateEmiTooltip()}};D={init:function(){return C._init.apply(this,arguments)},listenForDataFromRP:function(){return C._listenForDataFromRP.apply(this,arguments)},checkAttrSelection:function(){return C._checkAttrSelection.apply(this,arguments)},createBuyNowUrlForAuto:function(){return C._createBuyNowUrlForAuto.apply(this,arguments)}};return D})(window.jQuery,Snapdeal);Snapdeal.buyNowTellMeTile.init();
if($("#pdpType").val().toLowerCase()!="automobiles"){var $frequentlyBlk=$("#frequentlyBlk");var initialiseFbtBxSlider=function(){var A={pager:false,slideMargin:0,slideWidth:183,prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',minSlides:3,maxSlides:5,captions:true,auto:false,autoStart:true,infiniteLoop:false};$frequentlyBlk.find("#frequently-bought-div #slider-1").bxSlider(A)};function freqToBuy(B){var A=$frequentlyBlk.find("#freq-popup-button-id");A.attr("supc",$(B).attr("supc"));A.attr("catalogId",$(B).attr("catalogId"));A.attr("vendorCode",$(B).attr("vendorCode"));freqOmniture($(B).attr("catalogId"))}function freqHoverOut(B,A){$frequentlyBlk.find("#freq-bought-toolTip").css("display","none");$frequentlyBlk.find("#freq-bought-toolTip-displayCashBack").css("display","none");$frequentlyBlk.find(".freq-tool-freebie-outer").css("display","none")}function freqHover(M,G){var F=$(M).position().left-1;$frequentlyBlk.find("#freq-bought-toolTip").css("left",(F));$frequentlyBlk.find("#freq-bought-toolTip").css("display","block");$frequentlyBlk.find("#freq-bought-toolTip-name").html(freqBuyDataArr[G]["name"]);var R=freqBuyDataArr[G]["price"];var I=freqBuyDataArr[G]["displayPrice"];$frequentlyBlk.find("#freq-bought-toolTip-price").html("Rs. "+R);$frequentlyBlk.find("#freq-bought-toolTip-displayPrice").html("Rs. "+Snapdeal.utility.commafy(I));var P=freqBuyDataArr[G]["rating"];$frequentlyBlk.find("#freqRating").css("background-position","0px -"+imageOffsetForRating(P)*10+"px");var H=freqBuyDataArr[G]["cashBack"];if((H!=undefined&&H!=null&&H!="")){$frequentlyBlk.find("#freq-bought-toolTip-cashBack").html("Rs. "+H);$frequentlyBlk.find("#freq-bought-toolTip-displayCashBack").css("display","block")}var N=freqBuyDataArr[G]["freebie"];var D=N.split(";");var O=D.length;if((N!=undefined&&N!=null&&N!="")){var U="";U+="<div class='icon-mvFreebie lfloat mar_8_right'></div><div class='lfloat freq-tool-freebie-text'>";for(var V=0;V<O;++V){var C=((V==O)?"freq-tool-freebie-last":"freq-tool-freebie");U+='<div class="'+C+'">'+D[V]+"</div>"}U+="</div>";var L=$frequentlyBlk.find(".freq-tool-freebie-outer");L.html(U);L.css("display","block")}var B=$("#emiThreshold").html();var K=$("#emiMinLimit").html();var T=$("#emiSixMonth").html();var E=$("#emiNineMonth").html();var A=$("#emiTwelveMonth").html();var J="";if(B!=null){if(I>B){J=((I>A)?"3/6/9/12":(I>E)?"3/6/9":(I>T)?"3/6":"3")}}var Q=$frequentlyBlk.find("#freq-bought-"+G+"-content").html();var S=$frequentlyBlk.find("#freq-bought-toolTip").height()-38;$frequentlyBlk.find("#freq-bought-toolTip").css("top","-"+S+"px")}function freqAttrBuy(B){var C=$(B).attr("supc");var A=$(B).attr("vendorCode");var D=$(B).attr("catalogId");if(C!=undefined&&C!=null&&A!=undefined&&A!=null&&D!=undefined&&D!=null){window.cartService.addToCart(D,A,C)}}function freqOmniture(B){var E=Snapdeal.Cookie.get("frequently_bought");if(E!=undefined&&E!=null){var A=E.split(",");var C=false;for(var D=0;D<A.length;D++){if(A[D]==B){C=true;break}}if(C==false){Snapdeal.Cookie.set("frequently_bought",E+B+",",20)}}else{Snapdeal.Cookie.set("frequently_bought",B+",",20)}}function freqClick(B){var F=$frequentlyBlk.find("#frequently-popup-button-id");F.removeClass("miniBuy");F.addClass("floatBuy");var D=$(B).attr("supc");var A=$(B).attr("vendorCode");var G=$(B).attr("catalog");var E=$(B).attr("pogId");var C=$(B).attr("name");if(D!=null&&D!=undefined&&A!=null&&A!=undefined&&G!=null&&G!=undefined&&G!="undefined"){window.cartService.addToCart(G,A,D);window.cartService.fireOmnitureScript("addToCart",G,true,false,A,$(B).attr("vendorScore"),"BuyButton_Floating",$(B).attr("shippingCharges"))}else{frequentlyBuyClick(B)}$frequentlyBlk.find("#freq-bought-toolTip").hide()}var attachEventsToModalAttributes=function(){var B=$(".sidebarin-content");B.on("change",".pageAttrForFbtSelectBox",function(){B.find(".pageAttrForFbtSelectBox").removeClass("selectBoxError")});B.on("change",".nonPdpPageAttrSelectBox ",function(){B.find(".nonPdpPageAttrSelectBox").removeClass("selectBoxError")});var A=$(".fbtModal .nonPdpPageAttrSelectBox");A.on("change",function(){A.removeClass("selectBoxError")})};function getFrequentlyBoughtWidgetProducts(){if($("#soldOut").val()=="true"||window.liveProduct=="false"||(parseInt($("#primaryVendorsLen").html()))<=0){return }if($("#pppid").val()==undefined){return }if($("#o2oStopFBTcall").val()=="stop"){return }var A=Snapdeal.getAjaxResourcesPath("/json/getFrequentlyBoughtWidgetDataById?pogId="+$("#pppid").val());function C(D){if(D!=null||D!=undefined){if(D.widgetData.length==0){return }$frequentlyBlk.removeClass("hidden");Snapdeal.Fbt={};Snapdeal.Fbt.data=D;$frequentlyBlk.find("#frequently-bought-div").html(displayFrequentlyBoughtWidgetProducts(D));if(!$("html").hasClass("ie8")){$frequentlyBlk.find("#freq-bought-0").parent().find(".add-to-combo").trigger("click")}else{try{$frequentlyBlk.find("#freq-bought-0").parent().find(".add-to-combo").trigger("click")}catch(E){}}if(D.widgetData.length>4){initialiseFbtBxSlider()}lazySrc();if(pdpType=="2"){$frequentlyBlk.find("#moreCombo .bx-prev, #moreCombo .bx-next").css("top","50%");$frequentlyBlk.find("#freq .bx-next, #moreCombo .bx-next").css("right","0%")}if(!$frequentlyBlk.find("#frequently-bought-div").is(":empty")&&!window.isSellerLandingPage){$frequentlyBlk.find(".ClscombosContainer").show()}}if(window.combo){$frequentlyBlk.find("#frequently-bought-div .fbtBuyButton").on("click",function(){var U=$frequentlyBlk.find("#frequently-bought-div");var R=U.find(".combo-added").attr("dex");var L=Snapdeal.attributesTile.getDepth((Snapdeal.Fbt.data.widgetData[R].initAttributesFull));var G=U.find(".combo-added").parent().find(".activeClicked").length;var b=$.parseJSON($("#attributesJson").html()||$("#attributesJson").val());var f=true;if(Snapdeal.attributesTile.getDepth(b)!=0){if(!Snapdeal.Fbt.primaryProductAttributesSelectionComplete){f=false}}if(L!=G){f=false}if(f){window.combo.proceedToCart();var I=$("#add-cart-button-id"),T=I.attr("vendorCode");var F=I.attr("vendorScore");getOmnitureScript({catalogId:$("#catalogId").val(),categoryUrl:$("#catUrl").val(),prebook:$("#prebook").val(),pageName:$("body").data("pagename"),live:$("#live").val(),vendorCode:T,vendorScore:F,buyBtnOrder:"BuyButton-1",shippingCharges:$(I).attr("shippingCharges"),buyType:"combo",cashBackValue:$("#pdpWalletCashBackOmni").val()||0},"addToCartRevamp")}else{var W=document.createElement("div");$(W).append($(".combo-main-div .frequentlyBoughtProductImage").eq(0).clone());$(W).append($(".combo-main-div .cb-plus").eq(0).clone());var c=$(".combo-main-div .added-product #selectedCombo").attr("attributesjsonindex");var g=$('<div class="added-product frequentlyBoughtProductImage" attributesjsonindex="'+c+'" pog=""></div>');$(g).append($(".combo-main-div .frequentlyBoughtProductImage img").eq(1).clone()[0]);$(W).append(g);var H='<div class="fbtModalAttributesContainer col100Percent">';H+='<div class="comboPrimaryProduct col50Percent customMargin59">';var i=$("#attributesJson").text()||$("#attributesJson").val();if(JSON.parse(i).length>0){i=JSON.parse(i);var O=Snapdeal.attributesTile.getPageAttrForFbt();H+=O[O.length-1]}H+='</div><div class="comboSecondaryProduct col50Percent colRight">';var S=$(".combo-main-div #selectedCombo").attr("attributesJsonIndex");if(Snapdeal.Fbt.data.widgetData[S].initAttributesFull.length>0){H+=Snapdeal.attributesTile.getFbtAttr(Snapdeal.Fbt.data.widgetData[S].initAttributesFull,true)[0]}H+="</div></div>";var J='<div class="fbtProductInfo col100Percent">';J+='<div class="col50Percent customMargin59">';J+='<span class="product-title customColumnAligment blackText">';J+=$("#productTitle").val();J+="</span></div>";J+='<div class="col50Percent colRight">';J+='<span class="product-title customColumnAligment blackText">';J+=Snapdeal.Fbt.data.widgetData[$("#selectedCombo").attr("attributesjsonindex")].name;J+="</span></div>";J+='<div class="col100Percent">';J+='<div class="ratingsWrapper col50Percent customMargin59">';var h=$("#avgRating").val();if(h!=0){J+='<div class="ratingStarsSmall customColumnAligment" style="background-position: 0px -'+imageOffsetForRating(h)*10+'px;"></div>'}J+="</div>";J+='<div class="col50Percent colRight">';var M=Snapdeal.Fbt.data.widgetData[$("#selectedCombo").attr("attributesjsonindex")].avgRating;if(M!=0){J+='<div class="ratingStarsSmall customColumnAligment" style="background-position: 0px -'+imageOffsetForRating(M)*10+'px;"></div></div>'}J+="</div></div>";J+='<div class="col100Percent pricingBlkWithWCB">';J+='<div class="col50Percent customMargin59">';J+='<span class="product-price mrp customColumnAligment">';if(Snapdeal.utility.commafy(Snapdeal.Fbt.data.widgetData[$("#selectedCombo").attr("attributesjsonindex")].mrpAware=="true")){J+='<span class="strikeNew">Rs. '+Snapdeal.utility.commafy($("#productMrpForFbt").val());J+="</span>"}J+='<span class="product-Rs">';J+="Rs. "+Snapdeal.utility.commafy($("#productPrice").val());J+="</span>";J+="</div>";J+='<div class="col50Percent colRight">';J+='<div class="product-price mrp customColumnAligment col50Percent">';if(Snapdeal.utility.commafy(Snapdeal.Fbt.data.widgetData[$("#selectedCombo").attr("attributesjsonindex")].mrpAware=="true")){J+='<span class="strikeNew">Rs. '+Snapdeal.utility.commafy(Snapdeal.Fbt.data.widgetData[$("#selectedCombo").attr("attributesjsonindex")].price)}J+="</span>";J+='<span class="product-Rs">';J+="Rs. "+Snapdeal.utility.commafy(Snapdeal.Fbt.data.widgetData[$("#selectedCombo").attr("attributesjsonindex")].displayPrice);J+="</span>";J+="</div></div>";J+="</div>";var X=false;var e=$("#globalSwitchForWalletCashback").val();if(e=="true"&&$("#wCBApplicable").val()!=null&&$("#wCBApplicable").val()&&$("#wCBIntRs").val()>0){X=true}var P=false;var k=$frequentlyBlk.find("#selectedCombo").attr("attributesjsonindex");if(e=="true"&&(Snapdeal.Fbt.data.widgetData[k].walletCashbackApplicable)!=null&&(Snapdeal.Fbt.data.widgetData[k].walletCashbackApplicable)&&(Snapdeal.Fbt.data.widgetData[k].walletCashBackValueInt>0)){P=true}if(X||P){var Y="";Y+='<div class="col100Percent marginTop5">';Y+='<div class="col50Percent customMargin59 ">';if(X){Y+='<div class="walletCashBackBlck"><div><span class="cashBackk">Cashback</span> <span class="cashBackColor">Rs. '+Snapdeal.utility.commafy(($("#wCBIntRs").val()).split(",").join(""))+'</span> <span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> </div><div><span class="effectivePrice">'+$("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor">Rs. '+Snapdeal.utility.commafy(($("#wCBEffectivePrice").val()).split(",").join(""))+"</span></div></div>"}Y+="</div >";Y+='<div class="col50Percent colRight">';if(P){Y+='<div class="walletCashBackBlck"><div><span class="cashBackk">Cashback</span> <span class="cashBackColor">Rs. '+Snapdeal.utility.commafy(Snapdeal.Fbt.data.widgetData[k].walletCashBackValueInt)+'</span> <span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> </div><div><span class="effectivePrice">'+$("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor">Rs. '+Snapdeal.utility.commafy(Snapdeal.Fbt.data.widgetData[k].sellingPriceAftWalletCashback)+"</span></div></div>"}Y+="</div >";Y+="</div >";J+=Y}J+="</div>";J+=H;var a='<div class="fbtModalPromoDiscount col100Percent hidden">';a+='<h3 class="fbtModalPromoDiscountLabel">Total Offer Price</h3>';a+='<div class="promopriceInModal">';a+="</div></div>";var Y='<div id="wCBComboTotal" class="walletCashBackBlck hidden"><div> <span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> <span class="cashBackk">Cashback</span> <span class="cashBackColor"></span></div><div><span class="effectivePrice">'+$("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor"></span></div></div>';a+=Y;var d='<div class="clearfix customMargin34">';d+='<button type="button" class="fbtBuyButtonInModal btn rippleWhite">PROCEED</button>';d+="</div>";a+=d;J+=a;$(W).append(J);$frequentlyBlk.find("#fbtAttributeSelectionModalContent").html('<div id="fbtAttributeSelectionModal">'+$(W).html()+"</div>");var j="Select ";var K="";var b=$.parseJSON($("#attributesJson").html()||$("#attributesJson").val());if(b.length>0){K=b[0].name.toString()}j+=K;var V="";if(Snapdeal.Fbt.data.widgetData[S]&&Snapdeal.Fbt.data.widgetData[S].initAttributesFull.length>0){V=Snapdeal.attributesTile.createFirstLevelAttrNonPdpPage(Snapdeal.Fbt.data.widgetData[S].initAttributesFull,true)[1]}if(V.trim()!=""){if(!(K===V)){if(K.trim()!=""){j+=" / "}j+=V}}var N=$frequentlyBlk.find("#fbtAttributeSelectionModalContent");Snapdeal.sidebar.open(N,j,"fbtModal");var Z=$("#fbtAttributeSelectionModal .fbtBuyButtonInModal");attachEventsToModalAttributes();Z.on("click",function(){var t=$(".combo-added").attr("dex");var r=Snapdeal.attributesTile.getDepth((Snapdeal.Fbt.data.widgetData[t].initAttributesFull));var o=$frequentlyBlk.find("#selectedCombo .fbt-attributes").find(".activeClicked").length;var p=$(".fbtModal .nonPdpPageAttrSelectBox");var v=true;for(var q=0;q<p.length;q++){if(p.eq(q).val()=="undefined"){v=false;p.eq(q).addClass("selectBoxError");p.eq(q).next().addClass("selectBoxError");break}}var l=$(".fbtModal .pageAttrForFbtSelectBox");for(var q=0;q<l.length;q++){if(l.eq(q).val()=="undefined"){v=false;l.eq(q).addClass("selectBoxError");l.eq(q).next().addClass("selectBoxError");break}}if(v){Snapdeal.sidebar.close();var u=Snapdeal.attributesTile.getDepth($("#attributesJson").val());Snapdeal.shoppingCart.addProductsToCart(comboProductsInfo);var n=comboProductsInfo.products[0].vendorCode;var m=$("#buy-button-id");var s=m.attr("vendorScore");getOmnitureScript({catalogId:$("#catalogId").val(),categoryUrl:$("#catUrl").val(),prebook:$("#prebook").val(),pageName:$("body").data("pagename"),live:$("#live").val(),vendorCode:n,vendorScore:s,buyBtnOrder:"BuyButton-1",shippingCharges:$(m).attr("shippingCharges"),buyType:"combo",cashBackValue:$("#pdpWalletCashBackOmni").val()||0},"addToCartRevamp")}else{Z.addClass("shake");setTimeout(function(){Z.removeClass("shake")},1000)}})}var Q=$("#catId").val();Snapdeal.Cookie.set("track","RID_Combo_Proceed_"+Q);Snapdeal.selectCommonConfigure.customSelect($(".pageAttrForFbtSelectBox").parent());Snapdeal.selectCommonConfigure.customSelect($(".nonPdpPageAttrSelectBox").parent())})}}if(typeof isDev!="undefined"&&(isDev==true||(typeof isDev=="object"&&isDev.showFreq==true))){var B=null;C(B)}else{$.ajax({url:A,type:"GET",dataType:"json",success:C,error:function(){}})}}var freqBuyDataArr=[];function displayFrequentlyBoughtWidgetProducts(B){var A="";if(Snapdeal.Utils.fixArray(B.widgetData).length>0){A+=productsForCombo(B);A+="<div class='col-xs-24 padL20'><h3>Add Item to Create Offers</h3></div>";A+="<div id='freq' class='personaliseWidgetWrapper col-xs-24'>";A+="<div class='slider-wrapper' id='slider-1'>";$.each(B.widgetData,function(K,C){if(K==0){freqBuyDataArr=[]}freqBuyDataArr[K]={};tracking="onmouseover=\"track(this,'RID=";if((K%4==0)&&K!=0){}prodImage=(Snapdeal.getResourcePath(C.image)).replace("166x194","230x258");link=Snapdeal.getStaticPath("/"+C.pageUrl);A+="<div fromPDP='fb-"+K+"' class='product_grid_cont personalisegridLayout'>";var E=C.displayPrice;if(C.externalCashBackApplicable==true){E=C.sellingPriceAftExtCashBack}var N=Snapdeal.Utils.fixArray(C.initAttributesFull);var P="";var J="";if(N!=null&&N!=undefined&&N!=""){$.each(N,function(R,Q){if((N[R].soldOut!=true)){P=N[R].id;J=N[R].supc;return false}})}else{P=C.offers[0].id;J=C.offers[0].supcs[0]}A+="<div class='add-to-combo blackText' catoId='"+C.labelId+"' dex='"+K+"' displayPrice='"+E+"' ocp='"+C.price+"' VC='"+C.vendorCode+"' catalog='"+P+"' supc='"+J+"' wCBApp ='"+C.walletCashbackApplicable+"' wCBRsInt='"+C.walletCashBackValueInt+"'wCBEffectivePrice='"+C.sellingPriceAftWalletCashback+"'>CLICK TO ADD</div>";var F;var D=B.heading;if(D="Frequently Bought Together"){F="pdp_frequentlyBought"}A+="<div lsID='"+F+"' pog='"+C.id+"' onclick='freqOmniture("+C.offers[0].id+")' id='freq-bought-"+K+"' class='omniTrackByPOG fbt-prod-cont '>";A+=buyFlowAttrHtml(C.initAttributesFull);A+="<div style='display:none' id='freq-bought-"+K+"-name'>"+C.name+"</div>";var O="";if(C.externalCashBackApplicable==true){O=C.cashBackValue}var M="";$.each(Snapdeal.Utils.fixArray(C.freebies),function(R,Q){M+=Q+";"});freqBuyDataArr[K]["name"]=C.name;freqBuyDataArr[K]["price"]=C.price;freqBuyDataArr[K]["displayPrice"]=C.displayPrice;freqBuyDataArr[K]["rating"]=C.avgRating;freqBuyDataArr[K]["cashBack"]=O;freqBuyDataArr[K]["freebie"]=M.substr(0,(M.length-1));A+="<a id='freq-bought-"+K+"-img' class='product-image' mrpAware="+C.mrpAware+" href='"+link+"'><img  width='183' class='lazy-load' data-src='"+prodImage+"'>";if(C.discount>0&&C.mrpAware){A+="<div class='freqProductDisc'><span>"+C.discount+"% Off</span></div>"}A+="</a>";A+="<div class='fbt-attributes'>";A+="</div>";A+="<div class='product-txtWrapper'><a href='"+link+"' title='"+C.name+"'>";A+="<div class='product-title blackText'>"+C.name.toString().trim();A+="</div></a>";if(C.avgRating!=0&&C.avgRating!=undefined){A+='<div class="ratingsWrapper"><div class="ratingStarsSmall" style="background-position: 0px -'+imageOffsetForRating(C.avgRating)*10+'px;"></div></div>'}if(C.price!=undefined&&C.displayPrice!=undefined&&C.mrpAware&&C.price>C.displayPrice){A+="<div class='product-price mrp'><span class='strikeThrough'>Rs. "+C.price+"</span></div>";A+="<div class='product-price displayPrice'>Rs. "+Snapdeal.utility.commafy(C.displayPrice)+"</div>"}else{A+="<div class='product-price displayPrice'>Rs. "+Snapdeal.utility.commafy(C.displayPrice)+"</div>"}if(C.labelName==undefined){C.labelName="products"}var I=false;var H=$("#globalSwitchForWalletCashback").val();if(H=="true"&&C.walletCashbackApplicable!=null&&C.walletCashbackApplicable&&C.walletCashBackValueInt>0){I=true}if(I){var L='<div class="walletCashBackBlck"><div><span class="cashBackk">Cashback</span> <span class="cashBackColor">Rs.'+Snapdeal.utility.commafy(C.walletCashBackValueInt)+'</span> <span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> </div><div><span class="effectivePrice">'+$("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor">Rs.'+Snapdeal.utility.commafy(C.sellingPriceAftWalletCashback)+"</span></div></div>";A+=L}A+='<div class="mar_10_top">';if(typeof isWishlistPage=="undefined"){var G=Snapdeal.Utils.fixArray(C.initAttributesFull);if(!(G.length>0)){}else{A+='<div style="display:none;" id="freq-attr-'+K+'">'+JSON.stringify(G)+"</div>";A+='<div style="display:none;" id="freq-vendorCode-'+K+'">'+C.vendorCode+"</div>"}}A+="</div>";A+="</div></div>";A+="</div>"});A+="</div></div></div>"}return A}function productsForCombo(B){var A="";A+='<div class="combo-main-div col-xs-24 padL20">';var C=$("#bx-slider-left-image-panel img").eq(0).attr("src");C=C.replace("166x194","230x258");A+='	<div class="main-product frequentlyBoughtProductImage"><img class="lazy-load" data-src="'+C+'" /></div>';A+='	<div class="cb-plus">+</div>';A+='	<div class="added-product frequentlyBoughtProductImage"><i class="remove-combo"></i><div id="selectedCombo"></div>';A+='		<div class="no-item-added">No Item Added</div>';A+="	</div>";A+='	<div class="cb-equal col-xs-offset-1"">=</div>';A+='	<div class="dicount-show-div col-xs-offset-1">';A+='		<div class="top-text">TOTAL OFFER PRICE</div>';A+='		<div class="price-figure"></div>';A+='		<div class="total-price"></div>';A+='		<div class="you-save">You Save : Rs. 0</div>';A+='		<div class="walletCashBackBlck"></div>';A+='<button type="button" class="fbtBuyButton btn-large btn rippleWhite">PROCEED</button>';A+="	</div>";A+="</div>";return A}function buyFlowAttrHtml(A){var D=Snapdeal.Utils.fixArray(A);var B="";var C="";if(D!=null&&D!=undefined&&D!=""){B+='<div class="alphaBox" level="0" attroNama="'+D[0].name+'" typpe="combo">';B+='	<div class="alphaHead">select '+D[0].name+"</div>";B+='	<div class="clear"></div>';B+='   <label class="sizeComboFilter">';$.each(D,function(F,E){C=(D[F].soldOut==true)?"sold-cmb-attr inactiveComboOptions":"";B+='	<input typpe="combo" suboAttri='+JSON.stringify(D[F].subAttributes)+' class="bf-attr-cmb comboOptions '+C+'" type="button" vendorCode="" value="'+D[F].value+'" catalogId="'+D[F].catalogId+'" supc="'+D[F].supc+'" cubAttr="'+D[F].value+'" />'});B+="   </label>";B+="</div>"}return B}var moreComboArr=[];var moreComboElement="";function displayMoreSimilarProductsForCombo(B){var A="";if(Snapdeal.Utils.fixArray(B.widgetData).length>0){A+="<div class='widgetHeader combo-viewed-arrow'><h3><label>Similar Products</label></h3>	</div><br>";A+="<div id='moreCombo' class='personaliseWidgetWrapper'>";A+="<div class='slider-wrapper' id='slider-mc'><div class='product_grid_row'>";$.each(B.widgetData,function(I,C){if(I==0){moreComboArr=[]}moreComboArr[I]={};tracking="onmouseover=\"track(this,'RID=";if((I%4==0)&&I!=0){A+="</div><div class='product_grid_row'>"}prodImage=(Snapdeal.getResourcePath(C.image)).replace("166x194","230x258");link=Snapdeal.getStaticPath("/"+C.pageUrl);A+="<div fromMSC='mc-"+I+"' class='product_grid_cont personalisegridLayout'>";var E=C.displayPrice;if(C.externalCashBackApplicable==true){E=C.sellingPriceAftExtCashBack}var K=Snapdeal.Utils.fixArray(C.initAttributesFull);var M="";var H="";if(K!=null&&K!=undefined&&K!=""){$.each(K,function(O,N){if((K[O].soldOut!=true)){M=K[O].id;H=K[O].supc;return false}})}else{M=C.offers[0].id;H=C.offers[0].supcs[0]}A+="<div class='add-to-combo blackText more-combo-case' catoId='"+C.labelId+"' dex='"+I+"' displayPrice='"+E+"' ocp='"+C.price+"' VC='"+C.vendorCode+"' catalog='"+M+"' supc='"+H+"'>CLICK TO ADD</div>";var F;var D=B.heading;if(D="Frequently Bought Together"){F="pdp_frequentlyBought"}A+="<div lsID='"+F+"' pog='"+C.id+"' onclick='freqOmniture("+C.offers[0].id+")' id='moreCombo-bought-"+I+"' class='omniTrackByPOG fbt-prod-cont '>";A+=buyFlowAttrHtml(C.initAttributesFull);A+="<div style='display:none' id='moreCombo-bought-"+I+"-name'>"+C.name+"</div>";var L="";if(C.externalCashBackApplicable==true){L=C.cashBackValue}var J="";$.each(Snapdeal.Utils.fixArray(C.freebies),function(O,N){J+=N+";"});moreComboArr[I]["name"]=C.name;moreComboArr[I]["price"]=C.price;moreComboArr[I]["displayPrice"]=C.displayPrice;moreComboArr[I]["rating"]=C.avgRating;moreComboArr[I]["cashBack"]=L;moreComboArr[I]["freebie"]=J.substr(0,(J.length-1));A+="<a id='moreComboArr-bought-"+I+"-img' class='product-image' href='"+link+"'><img width='183' class='lazy-load' data-src='"+prodImage+"'></a>";A+="<div class='product-txtWrapper'><a href='"+link+"' title='"+C.name+"'>";A+="<div class='product-title blackText'>"+C.name.toString().substring(0,37).trim();if(C.name.toString().length>38){A+="..."}A+="</div></a>";A+='<div class="ratingsWrapper"><div class="ratingStarsSmall" style="background-position: 0px -'+imageOffsetForRating(C.avgRating)*10+'px;"></div></div>';if(C.price!=undefined&&C.displayPrice!=undefined&&C.mrpAware&&C.price>C.displayPrice){A+="<div class='product-price mrp'>Rs. <span class='strikeThrough'>"+C.price+"</span></div>";A+="<div class='product-price displayPrice'>Rs. "+C.displayPrice+"</div>"}else{A+="<div class='product-price displayPrice'>Rs. "+C.displayPrice+"</div>"}A+='<div class="mar_10_top">';if(typeof isWishlistPage=="undefined"){var G=Snapdeal.Utils.fixArray(C.initAttributesFull);if(!(G.length>0)){}else{A+='<div style="display:none;" id="moreComboArr-attr-'+I+'">'+JSON.stringify(G)+"</div>";A+='<div style="display:none;" id="moreComboArr-vendorCode-'+I+'">'+C.vendorCode+"</div>"}}A+="</div>";A+="</div></div>";A+="</div>"});A+="</div></div></div>"}return A}var getPromoDiscount=function(A){var D=A.products[0];var C=A.products[1];var B=$.ajax({url:Snapdeal.getAjaxResourcesPath("/json/get/getPromoForFBTCombo?catalogId1="+D.catalogId+"&supc1="+D.supc+"&vendorCode1="+D.vendorCode1+"&catId1="+D.catId+"&cartId1="+D.cartId+"&catalogId2="+C.catalogId+"&supc2="+C.supc+"&vendorCode2="+C.vendorCode1+"&catId2="+C.catId+"&cartId2="+C.cartId),type:"GET",dataType:"JSON",cache:false,headers:{Accept:"application/json","Content-Type":"application/json"}});B.done(function(G){if(G!=undefined&&G!=null){var F=$("#fbtAttributeSelectionModal");var E=Snapdeal.utility.commafy(Snapdeal.Fbt.primaryProductPrice)+" + ";E+=Snapdeal.utility.commafy(Snapdeal.Fbt.secondaryProductPrice)+" = ";if(parseInt(G)>0){E+='<span class="strikeThrough">Rs. '+Snapdeal.utility.commafy(Snapdeal.Fbt.primaryProductPrice+Snapdeal.Fbt.secondaryProductPrice)+"</span>"}E+='Rs. <span class="fbtModalFinalPrice">';E+=Snapdeal.utility.commafy((Snapdeal.Fbt.primaryProductPrice+Snapdeal.Fbt.secondaryProductPrice-parseInt(G.INSTANT)));E+="/-</span>";F.find(".promopriceInModal").html(E);F.find(".fbtModalPromoDiscount").removeClass("hidden");if(G.WALLET>0){totalEffectivePrice=(+Snapdeal.Fbt.primaryProductPrice+ +Snapdeal.Fbt.secondaryProductPrice)-G.WALLET;F.find("#wCBComboTotal .cashBackColor").text(Snapdeal.utility.commafy(G.WALLET));F.find("#wCBComboTotal .effectivePriceColor").text(Snapdeal.utility.commafy(totalEffectivePrice));F.find("#wCBComboTotal").removeClass("hidden")}}})};$(window).on("load",function(){var A=true;if($("#hardBundlingEnabledId").val()=="false"&&$("#comboPDPSwitch").val()=="true"){getFrequentlyBoughtWidgetProducts();A=false}else{$("body").on("hardBundleNotPresent",function(C,B){if(A&&$("#comboPDPSwitch").val()=="true"){getFrequentlyBoughtWidgetProducts();A=false}})}$("#product-attr-options").on("productAttrSelectedAtSecondaryLocation",function(E,D,B,F){var C=$("#fbtAttributeSelectionModal");if(F){comboProductsInfo.products[0].vendorCode=D.primaryVendor.vendorCode;comboProductsInfo.products[0].supc=B;C.find(".displayPrice").eq(0).html("Rs. "+Snapdeal.utility.commafy(D.primaryVendor.sellingPrice));Snapdeal.Fbt.primaryProductPrice=D.primaryVendor.sellingPrice}else{comboProductsInfo.products[1].vendorCode=D.primaryVendor.vendorCode;comboProductsInfo.products[1].supc=B;C.find(".displayPrice").eq(1).html("Rs. "+Snapdeal.utility.commafy(D.primaryVendor.sellingPrice));Snapdeal.Fbt.secondaryProductPrice=D.primaryVendor.sellingPrice}});$("#content_wrapper").on("nonPdpPageAttrSelected",function(D,C){var B=$(".combo-added").parent();comboProductsInfo.products[1].supc=C;if(comboProductsInfo.products[0].catId!="undefined"&&comboProductsInfo.products[1].catId!="undefined"){getPromoDiscount(comboProductsInfo)}});$("#content_wrapper").on("nonPdpPageAttrSelectedLevel",function(D,E,C,B){if($(event.target).attr("supc")!=undefined){comboProductsInfo.products[1].supc=$(event.target).attr("supc")}else{comboProductsInfo.products[1].supc=$(event.target).find(":selected").attr("supc")}B.parent().addClass("hidden")});$("#product-attr-options").on("productAttrSelected",function(F,E,D){var C=$(F.target).find(".activeClicked").last();if(D!=undefined){comboProductsInfo.products[0].supc=D}else{comboProductsInfo.products[0].supc=C.attr("supc")}comboProductsInfo.products[0].catalogId=C.attr("catalogId");comboProductsInfo.products[0].vendorCode=E.primaryVendor.vendorCode;var B=$("#frequentlyBlk .combo-added");B.removeClass("combo-added");B.click();window.Snapdeal=window.Snapdeal||{};window.Snapdeal.Fbt=window.Snapdeal.Fbt||{};window.Snapdeal.Fbt.primaryProductAttributesSelectionComplete=true});$("#content_wrapper").on("primaryProductAtSecondaryLocationAttrSelected",function(E,D,B,C){comboProductsInfo.products[0].catalogId=C;comboProductsInfo.products[0].supc=B;if(comboProductsInfo.products[0].catId!="undefined"&&comboProductsInfo.products[1].catId!="undefined"){getPromoDiscount(comboProductsInfo)}});$("#cartModal").on("multipleItemsAddedToCart",function(B){Snapdeal.shoppingCart.showCart()});$("#content_wrapper").on("primaryProductAtSecondaryLocationNonLastLevelAttrSelected",function(E,D,C){var B=$(".comboPrimaryProduct select");if(B.length>=2){B.eq(0).parent().addClass("hidden")}comboProductsInfo.products[0].supc=C})})};
var comboProductsInfo={products:[{supc:"",vendorCode:"",cartId:getCookieByName("cartId"),catalogId:"",catId:$("#catId").val()},{supc:"",vendorCode:"",cartId:getCookieByName("cartId"),catalogId:"",catId:""}]};var mainProductAttrHtml="";var omniMap={discount:false,catalogId:"",rank:0,action:"proceed",type:"pdp",catId:""};var comboEventType="omniComboProductEventRevamp";var cbSelingPrice=0;var buyBtnkey=$("#add-cart-button-id");if(buyBtnkey.length==0){buyBtnkey=$("#buy-button-id")}var finalToBePaid=0;var moreDexId=0;var dfh=0;var $frequentlyBlk=$("#frequentlyBlk");Snapdeal.Combo=function(){var A=this;this.init=function(){if(buyBtnkey.size()==0){buyBtnkey=$("#BuyButton-2")}if(buyBtnkey.size()==0){buyBtnkey=$("#BuyButton-3")}var B=$.parseJSON($("#attributesJson").html()||$("#attributesJson").val());comboProductsInfo.products[0].supc=$("#defaultSupc").text()||$("#defaultSupc").val();comboProductsInfo.products[0].catalogId=$("#catalogId").val();comboProductsInfo.products[0].vendorCode=$(buyBtnkey).attr("vendorCode");$frequentlyBlk.on("click",".add-to-combo",function(F){A.addToCombo(F);var C=$(F.target).attr("dex");var E=$("#catId").val();var D=$("#catUrl").val()});$frequentlyBlk.on("click",".remove-combo",A.removeCombo);$frequentlyBlk.on("click",".closeWrapperNew",A.closeAttrBox);$frequentlyBlk.on("click","#comboFinal",A.proceedToCart);$frequentlyBlk.on("click",".browseCategories-popup-catName, .bf-attr-cmb",A.forComboSelectAttr);$frequentlyBlk.on("click",".no-thanks-Combo",A.noThanks);$frequentlyBlk.on("click",".more-similar-links-cmb",A.showMoreComboSimilar);$("html").click(function(C){if($(C.target).attr("class")!="search-browseCategory-text"){$(".search-browseCategories-popup").hide()}});$frequentlyBlk.on("click",".search-browseCategory-text",function(C){if($(this).hasClass("attr-dissablled")){return false}C.stopPropagation();$(this).next().toggle()});if($(".buyBlueButton.buylink").size()>0){$frequentlyBlk.on("click",".buyBlueButton.buylink",function(){$("#sellingPriceInpt").val($(this).attr("venprc"))})}};this.noThanks=function(){Snapdeal.Cookie.set("track","CBID=No_Thanks");omniMap.action="noThanks";A.addOnlyOneProduct()};this.getPromoForFBTCombo=function(B){if($("#freq").size()==0){return 0}if(comboProductsInfo.products[0].catalogId!="undefined"&&comboProductsInfo.products[1].catalogId!="undefined"&&comboProductsInfo.products[0].catId!="undefined"&&comboProductsInfo.products[1].catId!="undefined"){try{comboProductsInfo=JSON.parse(JSON.stringify(comboProductsInfo))}catch(E){return 0}var D=comboProductsInfo.products[0];var C=comboProductsInfo.products[1];return $.ajax({url:Snapdeal.getAjaxResourcesPath("/json/get/getPromoForFBTCombo?catalogId1="+D.catalogId+"&supc1="+D.supc+"&vendorCode1="+D.vendorCode+"&catId1="+D.catId+"&cartId1="+D.cartId+"&catalogId2="+C.catalogId+"&supc2="+C.supc+"&vendorCode2="+C.vendorCode+"&catId2="+C.catId+"&cartId2="+C.cartId),type:"GET",dataType:"json",aysnc:false,headers:{Accept:"application/json","Content-Type":"application/json"},beforeSend:function(){},cache:false,success:function(F){if(F!=undefined&&F!=""&&F!=null){var G=(parseInt(finalToBePaid)-parseInt(F.INSTANT));if(+F.INSTANT>0){$(".you-save").html("You Save : Rs. "+F.INSTANT).show()}$(".strike-cutt").show();$frequentlyBlk.find(".dicount-show-div > .total-price").html('Rs. <span class="blackText">'+Snapdeal.utility.commafy(G)+"</span>");omniMap.discount=true;A.updatePrice(B,F.INSTANT,F.WALLET);A.flagVal=1;return(F.INSTANT)}else{$(".you-save").html("You Save : Rs. 0").hide();omniMap.discount=false;$(".strike-cutt").hide();return 0}},error:function(F){return 0}})}else{return 0}};this.flagVal=0;this.addToCombo=function(N){var G=$(N.target),F=G.attr("dex");if(Snapdeal.Fbt.data.widgetData[F].initAttributesFull.length>0){var D="";D+=Snapdeal.attributesTile.createFirstLevelAttrNonPdpPage(Snapdeal.Fbt.data.widgetData[F].initAttributesFull,false)[0]}$("#comboAttrPopUp").html("");if(dfh>0){Snapdeal.Cookie.set("track","RID=Combo_Add")}if($frequentlyBlk.find("#frequently-bought-div").hasClass("buyflow-combo-popup")){omniMap.type="buyFlow"}else{omniMap.type="pdp"}omniMap.rank=parseInt(F);omniMap.catalogId=G.attr("catalog");comboEventType="omniComboProductEventRevamp";comboProductsInfo.products[1].vendorCode=G.attr("vc");comboProductsInfo.products[1].supc=G.attr("supc");comboProductsInfo.products[1].catalogId=G.attr("catalog");comboProductsInfo.products[1].catId=G.attr("catoid");var M=0,I=0;var R=$("#buyPriceBox .walletCashBackBlck");var J=A.getPromoForFBTCombo(G)||0;A.flagVal=1;var C=J;$(".strike-cutt").show();var K=$frequentlyBlk.find(".combo-added").next().attr("pog");$frequentlyBlk.find(".combo-added").html("CLICK TO ADD").removeClass("combo-added").addClass("add-to-combo").parents(".personalisegridLayout");G.addClass("combo-added").html("<i class='sd-icon sd-icon-checkmark'></i>ADDED").parents(".personalisegridLayout").removeClass("add-to-combo");$frequentlyBlk.find(".alphaBox[level='1']").remove();$frequentlyBlk.find(".alphaBox").slideUp("slow");$frequentlyBlk.find(".selectedComboOptions").removeClass("selectedComboOptions");$frequentlyBlk.find(".added-product #selectedCombo").remove();var O=G.parent(),H=O.find(".product-image img");var B="<div id='selectedCombo' attributesJsonIndex='"+O.find(".add-to-combo").attr("dex")+"' pog='"+K+"'><a href='"+O.find(".product-image").attr("href")+"'><img width='183' src='"+(H.data("src")||H.attr("src"))+"' /></a>";B+="<div class='fbt-attributes'>"+O.find(".fbt-attributes").html()+"</div>";B+="</div>";$frequentlyBlk.find(".remove-combo").after(B).show();$frequentlyBlk.find(".no-item-added, #comboAttrPopUp").hide();$frequentlyBlk.find(".dicount-show-div > .top-text").html("TOTAL OFFER PRICE");$frequentlyBlk.find(".dicount-show-div > .price-figure, .dicount-show-div > .you-save").show();$frequentlyBlk.find(".grray-out-combo").addClass("proceed-btn").removeClass("grray-out-combo");if(C>0){$frequentlyBlk.find(".you-save, .strike-cutt").show()}else{$frequentlyBlk.find(".you-save, .strike-cutt").hide()}var E=$frequentlyBlk.find("#freq-attr-"+F).html();if(E==null){E=$frequentlyBlk.find("#moreComboArr-attr-"+F).html()}if(E!=""||attrExist){var P=E}if($(this).hasClass("more-combo-case")){var Q=$frequentlyBlk.find("div[fromPDP='"+moreComboElement+"']"),L=$frequentlyBlk.find("div[toPDP='"+moreComboElement+"']")[0].outerHTML;Q.html($(this).parent().html());Q.children(".combo-added").attr("dex",moreDexId);Q.children(".fbt-prod-cont").attr("id","moreCombo-bought-"+moreDexId);Q.find(".mar_10_top").children(":eq(0)").attr("id","moreComboArr-attr-"+moreDexId);Q.children(".more-combo-case").removeClass("more-combo-case");Q.find(".alphaBox").css("height",90).show();Q.find(".at-bottom").append(L);$frequentlyBlk.find("#morecombo-bought-div .closeWrapperNew").click();comboEventType="omniComboProductEventRevamp";omniMap.type="moreSubCat";$frequentlyBlk.find("#morecombo-bought-div .mar_10_top").html("");P=$frequentlyBlk.find("#moreComboArr-attr-"+moreDexId).html();mainJsonAttr=$("#productAttributesJson").val();if(P!=null||mainJsonAttr!=undefined){$frequentlyBlk.find("#comboAttrPopUp").html(A.comboAttrHtml(mainJsonAttr,P));$frequentlyBlk.find("#combo2 > .fbt-prod-cont").html($(".combo-added").next().html());$frequentlyBlk.find("#combo2 > .fbt-prod-cont > .alphaBox").remove();if(navigator.appVersion.indexOf("MSIE 8.")!=-1){$(".comboDropDown:odd").addClass("odd");$(".comboDropDown:even").addClass("even")}$(this).next().children(".alphaBox").slideDown("slow");if(mainProductAttrHtml.toString().trim()!=""&&mainProductAttrHtml.toString().trim()!=null){$frequentlyBlk.find(".comboDropDown").eq(0).html(mainProductAttrHtml.toString().trim())}}}var S;if(A.flagVal==0){S=A.getPromoForFBTCombo(G)||0}else{S=M}if(typeof S=="object"){S.complete(function(){if(dfh>1){A.omnitureHits()}})}dfh++;$frequentlyBlk.find(".attrActive").removeClass("activeClicked");$("#sidebar_modal_right").find(".attrActive").removeClass("activeClicked");$frequentlyBlk.find(".frequentlyBoughtTogetherContainer .fbtBuyButton ").css({opacity:"1.0",cursor:"pointer","margin-top":"25px"})};this.updatePrice=function(E,K,M){cbSelingPrice=$("#productSellingPrice").val()||redDisplayPrice;if($(buyBtnkey).attr("paiseBack")!=null&&$(buyBtnkey).attr("paiseBack")!=undefined){if(parseInt($(buyBtnkey).attr("paiseBack"))<=parseInt($("#sellingPriceInpt").val())){cbSelingPrice=parseInt($(buyBtnkey).attr("paiseBack"))}}var D=(parseInt(cbSelingPrice)+parseInt($(E).attr("displayPrice")));var B=(parseInt(cbSelingPrice)+parseInt($(E).attr("displayPrice")));B=(B-parseInt(K));var H=(D-B);var C=window.Snapdeal||{};C.Fbt=C.Fbt||{};C.Fbt.primaryProductPrice=parseInt(cbSelingPrice);C.Fbt.secondaryProductPrice=parseInt($(E).attr("displayPrice"));$frequentlyBlk.find(".dicount-show-div > .price-figure").html(C.utility.commafy(cbSelingPrice)+" + "+C.utility.commafy($(E).attr("displayPrice"))+" = <span  class='strike-cutt'>Rs. "+C.utility.commafy(D)+"</span>");$frequentlyBlk.find(".dicount-show-div > .total-price").html('Rs. <span class="blackText">'+C.utility.commafy(B)+"</span>");if(+H>0){$frequentlyBlk.find(".you-save").html("You Save : Rs. "+H)}var G=false;var F=$("#globalSwitchForWalletCashback").val();if(F=="true"&&M>0){G=true}if(G){var L=(B-M);var J='<div effPrc="'+L+'"><div class="pDPWCBBDiv"><span class="freeChargeCircle sd-icon sd-icon-nfreecharge-c-logo"></span> <span class="cashBackk">Cashback</span> <span class="cashBackColor">Rs. '+C.utility.commafy(M)+'</span></div></div><div><div class="pDPWCBBDiv"><span class="effectivePrice">'+$("#walletCashBackEffectivePriceName").val()+'</span> <span class="effectivePriceColor">Rs. '+C.utility.commafy(L)+"</span></div></div>";var I=$frequentlyBlk.find(".dicount-show-div .walletCashBackBlck");I.html(J);I.show()}else{$frequentlyBlk.find(".dicount-show-div .walletCashBackBlck").hide()}finalToBePaid=B;return H};this.removeCombo=function(){$frequentlyBlk.find("#comboAttrPopUp").html("");$frequentlyBlk.find(".alphaBox").slideUp("slow");$frequentlyBlk.find(".dicount-show-div > .top-text").html("TOTAL PRICE");$frequentlyBlk.find(".dicount-show-div > .total-price").html("Rs. "+Snapdeal.utility.commafy(parseInt(cbSelingPrice))+"</span>");$frequentlyBlk.find(".dicount-show-div > .price-figure, .dicount-show-div > .you-save").hide();$(this).parent().addClass("no-item");$(this).next().remove();$(this).next().show();$(this).hide();$frequentlyBlk.find(".combo-added").html("CLICK TO ADD").removeClass("combo-added").addClass("add-to-combo");$frequentlyBlk.find(".proceed-btn").addClass("grray-out-combo").removeClass("proceed-btn");comboProductsInfo.products[1].supc="";comboProductsInfo.products[1].vendorCode="";comboProductsInfo.products[1].catId="";comboProductsInfo.products[1].catalogId="";omniMap.discount=false;$frequentlyBlk.find(".frequentlyBoughtTogetherContainer .fbtBuyButton ").css({opacity:0.6,cursor:"not-allowed","margin-top":"25px"});var C=C=$("#buyPriceBox .walletCashBackBlck");var B=C.attr("wCBInt").split(",").join("");if(C.length>0&&C.attr("wCBApp").length>0&&C.attr("wCBApp")&&(+B)>0){$frequentlyBlk.find(".dicount-show-div .walletCashBackBlck .cashBackColor").text("Rs. "+$("#buyPriceBox .walletCashBackBlck").attr("wCBInt"));$frequentlyBlk.find(".dicount-show-div .walletCashBackBlck .effectivePriceColor").text("Rs. "+$("#buyPriceBox .walletCashBackBlck").attr("wCBEffPrice"))}else{$frequentlyBlk.find(".dicount-show-div .walletCashBackBlck").hide()}};this.proceedToCart=function(){if($frequentlyBlk.find("#frequently-bought-div").hasClass("buyflow-combo-popup")){Snapdeal.Cookie.set("track","CBID=BuyFlow_Proceed")}else{Snapdeal.Cookie.set("track","RID=Combo_Proceed")}if($(this).parent().hasClass("grray-out-combo")){return false}omniMap.action="proceed";if($frequentlyBlk.find("#frequently-bought-div").hasClass("buyflow-combo-popup")){omniMap.type="buyFlow"}else{omniMap.type="pdp"}if($(".selected").size()>0){$(".selected").each(function(I,H){$frequentlyBlk.find(".comboDropDown:eq(0) .search-browseCategory-text").eq(I).removeClass("attr-unticked").html($(H).attr("id"))})}if($frequentlyBlk.find("#frequently-bought-div").hasClass("buyflow-combo-popup")&&$(".no-item-added").is(":visible")){A.addOnlyOneProduct();return false}if($frequentlyBlk.find("#comboAttrPopUp").is(":visible")){$(".attr-unticked").each(function(H){$(this).addClass("attr-cmb-err");$(this).shakebomb({horizontal:true});if(H==($(".attr-unticked").size()-1)){return false}})}if((attrNotSelected&&attrExist&&!isSelectAttrToolTip)||$(".attr-unticked").size()>0){if($frequentlyBlk.find("#frequently-bought-div").hasClass("buyflow-combo-popup")){$(".combo-added").parent().shakebomb();return false}else{if($frequentlyBlk.find("#comboAttrPopUp").is(":visible")==false){$frequentlyBlk.find("#comboAttrPopUp").show();setTimeout(function(){$frequentlyBlk.find("#comboAttrPopUp .activeTransModalOuter").css("display","block");$frequentlyBlk.find("#comboAttrPopUp > .qv_pane_outer").addClass("activeTransModal")});$frequentlyBlk.find("#combo2  .more-similar-links-cmb").remove()}}}else{if($frequentlyBlk.find(".no-item-added").is(":visible")){A.addOnlyOneProduct();return false}var B=comboProductsInfo.products[0].vendorCode;var D=comboProductsInfo.products[0].supc;var G=comboProductsInfo.products[0].catalogId;var F=$("#buy-button-id");var E=F.attr("vendorScore");Snapdeal.shoppingCart.addProductsToCart(comboProductsInfo);var C=false;if($(F).attr("prebook")=="true"){C=true}}return false};this.addOnlyOneProduct=function(){if(window.goWithoutCombo){return }goWithoutCombo=true;$(".no-thanks-Combo").hide();omniMap.discount=false;if($(buyBtnkey).size()>0){var E=$(buyBtnkey);var C=false;if($(E).attr("prebook")=="true"){C=true}comboProductsInfo.products[0].vendorCode=$(this).attr("vc");comboProductsInfo.products[0].supc=$(this).attr("supc");comboProductsInfo.products[0].catalogId=$(this).attr("catalog");var B=$(this).attr("vc");var D=$(this).attr("supc");var F=$(this).attr("catalog");Snapdeal.shoppingCart.addToCart(F,B,D);return false}};this.comboAttrHtml=function(B,E){var D="";if(B!=null&&B!=undefined){B=$.trim(B)}if(E!=null){E=$.trim(E)}B=$.parseJSON(B);E=$.parseJSON(E);var C="";C+='<div class="pageOverlay activeTransModalOuter"></div>';C+='	<div class="combo-popup qv_pane_outer"><div class="combo-popup_in qv_pane">';C+='		<div class="closeWrapperNew"></div>';C+='		<div class="widgetHeader combo-viewed-arrow">';C+='		<h3><label class="">Select size/color</label></h3>';C+="	</div>";C+='	<div class="" style="margin: 0 auto; display: table;">';C+='		<div id="combo1" class="product_grid_cont personalisegridLayout">';C+='			<div class=" fbt-prod-cont">';C+='				<div id="freq-bought-1-img" class="product-image">';C+='					<img width="64"	src="'+$(".main-product img").attr("src")+'" /></div>';C+='				<div class="product-txtWrapper">';C+="					<a href='"+window.location.href+"' title='"+titleOfPorduct+"'>";C+="							<div class='product-title'>"+titleOfPorduct.toString().substring(0,37).trim();if(titleOfPorduct.toString().length>38){C+="..."}C+="							</div>";C+="					</a>";if(typeof avgRating=="number"&&avgRating!=0){C+='					<div class="ratingsWrapper">';C+='						<div class="ratingStarsSmall" style="background-position: 0px -'+imageOffsetForRating(avgRating)*10+'px;"></div>';C+="					</div>"}C+='					<div class="at-bottom"><div class="product-price">Rs. '+Snapdeal.utility.commafy(cbSelingPrice)+"</div></div>";C+='					<div class="mar_10_top"></div>';C+=" 				</div>";C+=" 			</div>";C+=" 		</div>";C+='		<div class="cb-plus">+</div>';C+='		<div id="combo2" class="product_grid_cont personalisegridLayout">';C+='			<div class="fbt-prod-cont">';C+=" 			</div>";C+=" 		</div>";C+="	</div>";C+="<div>";if(B!=null&&B!=undefined&&B!=""){C+='	<div class="comboDropDown">';C+='		<div class="search-browseCategory" attroNama="'+B[0].name+'">';C+='			<div class="search-browseCategory-text attr-unticked">Select '+B[0].name+"</div>";C+='			<div class="search-browseCategories-popup" style="display: none;">';$.each(B,function(G,F){D=(B[G].soldOut==true)?"sold-cmb-attr":"";C+='			<div typpe="main" suboAttri='+JSON.stringify(B[G].subAttributes)+' cubAttr="'+B[G].value+'" class="browseCategories-popup-catName '+D+'"><a> <span>'+B[G].value+"</span></a></div>"});C+="			</div>";C+="		</div>";C+="	</div>"}else{C+='	<div class="comboDropDown">';C+='		<div class="search-browseCategory">';C+="		</div>";C+="	</div>"}if(E!=null&&E!=undefined&&E!=""){C+='	<div class="comboDropDown">';C+='		<div class="search-browseCategory" level="0" attroNama="'+E[0].name+'">';C+='			<div class="search-browseCategory-text attr-unticked">Select '+E[0].name+"</div>";C+='			<div class="search-browseCategories-popup" style="display: none;">';$.each(E,function(G,F){D=(E[G].soldOut==true)?"sold-cmb-attr":"";C+='			<div typpe="combo" suboAttri='+JSON.stringify(E[G].subAttributes)+' vendorCode="" catalogId="'+E[G].catalogId+'" supc="'+E[G].supc+'" cubAttr="'+E[G].value+'" class="browseCategories-popup-catName '+D+'"><a> <span>'+E[G].value+"</span></a></div>"});C+="			</div>";C+="		</div>";C+="	</div>"}C+="	</div>";C+='	<div class="clear"></div>';C+='	<div class="proceed-btn prodbuy-button mar_15_top"><a id="comboFinal">PROCEED <span class="semiRightArrow"></span></a></div>';C+="	</div>";C+="</div>";return C};this.closeAttrBox=function(){if($frequentlyBlk.find(".buyflow-combo-popup").is(":visible")){omniMap.action="closeBuyFlow";A.addOnlyOneProduct();return }$frequentlyBlk.find("#frequently-bought-div h3").prev().remove();$frequentlyBlk.find("#moreComboContainer.qv_pane_outer").removeClass("activeTransModal");function D(){$frequentlyBlk.find(".overlayMoreComboContainer").fadeOut(300);$frequentlyBlk.find("#morecombo-bought-div").removeAttr("style").html("")}if(detectCSSFeature("transition")){$frequentlyBlk.find("#moreComboContainer.qv_pane_outer").one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){D()})}else{D()}$frequentlyBlk.find("#comboAttrPopUp .qv_pane_outer").removeClass("activeTransModal");function C(){$frequentlyBlk.find("#comboAttrPopUp").hide();$frequentlyBlk.find("#comboAttrPopUp .activeTransModalOuter").fadeOut(300)}if(detectCSSFeature("transition")){$frequentlyBlk.find("#comboAttrPopUp .qv_pane_outer").one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){C()})}else{C()}var B=$frequentlyBlk.find("#frequently-bought-div");B.parent().removeClass("pageOverlay");B.removeClass("buyflow-combo-popup");$frequentlyBlk.find(".no-thanks-Combo").css("visibility","hidden").show();if($frequentlyBlk.find(".comboDropDown").eq(0).html()!=""&&$(".comboDropDown").eq(0).html()!=null){mainProductAttrHtml=$(".comboDropDown").eq(0).html().toString().trim()}};this.forComboSelectAttr=function(){var I=$(this).attr("cubAttr");if($(this).hasClass("sold-cmb-attr")){return false}if($(this).hasClass("bf-attr-cmb")){$frequentlyBlk.find(".selectedComboOptions").removeClass("selectedComboOptions").addClass("bf-attr-cmb");$(this).addClass("selectedComboOptions")}if($(this).attr("typpe")=="main"){$frequentlyBlk.find("div.attrActive[title='"+I+"']").click();var C=A.getPromoForFBTCombo();if(typeof C!="number"){C=0}var D=parseInt($(".dicount-show-div > .total-price").html().toString().split(" ")[1])-parseInt(C);$frequentlyBlk.find(".dicount-show-div > .total-price").html("Rs. "+Snapdeal.utility.commafy(D)+"</span>")}else{var E=$(this).attr("supc");var H=comboProductsInfo.products[1].vendorCode;var F=$(this).attr("catalogId");var G=comboProductsInfo.products[1].catId;var K="";omniMap.catalogId=F;A.getCatalogId(E,K,G,H,1,F)}if(!$(this).parent().hasClass("sizeComboFilter")){$(this).parent().prev().removeClass("attr-unticked").removeClass("attr-cmb-err").html($(this).attr("cubAttr"));if($(this).attr("typpe")=="combo"){$frequentlyBlk.find(".selectedComboOptions").removeClass("selectedComboOptions").addClass("bf-attr-cmb");$frequentlyBlk.find("input[typpe='combo'][cubattr='"+$(this).attr("cubAttr")+"']").addClass("selectedComboOptions")}}else{$frequentlyBlk.find("div[typpe='combo'][cubattr='"+$(this).attr("cubAttr")+"']").parent().prev().removeClass("attr-unticked").removeClass("attr-cmb-err").html($(this).attr("cubAttr"))}if($(this).parent().hasClass("sizeComboFilter")){A.getHtmlBoxSubAttributes($(this));var B=$("div.browseCategories-popup-catName[cubAttr='"+$(this).val()+"']");A.getSubAttributesHtml(B)}if($(this).hasClass("browseCategories-popup-catName")){A.getSubAttributesHtml($(this));var J=$("label.sizeComboFilter > input[cubAttr='"+$(this).attr("cubAttr")+"']");A.getHtmlBoxSubAttributes(J)}$frequentlyBlk.find("#combo2 .alphaBox").remove();return false};this.getCatalogId=function(E,D,F,C,B,G){$.ajax({url:Snapdeal.getAjaxResourcesPath("/json/gvbps?supc="+E+"&pc="+D+"&catId="+F+"&sort=&filter=&vendorCode="+C+"&lang="+Snapdeal.Cookie.get("lang")),type:"GET",dataType:"json",async:false,beforeSend:function(){},cache:false,success:function(I){if(I!=undefined&&I!=null&&I!=""){var H=$.extend({},I);if(H[0]!=undefined){comboProductsInfo.products[B].vendorCode=H[0].vendorCode;comboProductsInfo.products[B].supc=E;comboProductsInfo.products[B].catalogId=G;A.getPromoForFBTCombo()}}else{comboProductsInfo.products[B].vendorCode=""}}})};this.getHtmlBoxSubAttributes=function(E){var D=$.parseJSON($(E).attr("suboAttri")),C="",B="";if(D==null||D.length==0){$(E).parent().parent().slideUp();return false}if(D[0].name!=undefined){$("div.alphaBox[attroNama='"+D[0].name+"'][typpe='"+$(E).attr("typpe")+"']").remove()}if(D!=null&&D.length>0){B+='<div class="alphaBox" level="1" attroNama="'+D[0].name+'" typpe="'+$(E).attr("typpe")+'">';B+='	<div class="alphaHead">Select '+D[0].name+"</div>";B+='	<div class="clear"></div>';B+='   <label class="sizeComboFilter">';$.each(D,function(G,F){C=(D[G].soldOut==true)?"sold-cmb-attr  inactiveComboOptions":"";B+='	<input typpe="combo" suboAttri='+JSON.stringify(D[G].subAttributes)+' class="bf-attr-cmb comboOptions '+C+'" type="button" value="'+D[G].value+'" catalogId="'+D[G].catalogId+'" supc="'+D[G].supc+'" cubAttr="'+D[G].value+'" />'});B+="	</label>";B+="</div>"}if($(E).parent().parent().parent().hasClass("fbt-prod-cont")){$(E).parent().parent().after(B);$(E).parent().parent().slideUp();$(E).parent().parent().next().slideDown()}};this.getSubAttributesHtml=function(E){var D=$.parseJSON($(E).attr("suboAttri")),C="",B="";if(D==null||D.length==0){return false}if(D[0].name!=undefined){$("div.search-browseCategory[attroNama='"+D[0].name+"'][typpe='"+$(E).attr("typpe")+"']").remove()}if($(E).parent().parent().next().hasClass("search-browseCategory")){$(E).parent().parent().next().remove()}if(D!=null&&D.length>0){B+='		<div class="search-browseCategory" level="1" attroNama="'+D[0].name+'" typpe="'+$(E).attr("typpe")+'">';B+='			<div class="search-browseCategory-text attr-unticked">Select '+D[0].name+"</div>";B+='			<div class="search-browseCategories-popup" style="display: none;">';$.each(D,function(G,F){C=(D[G].soldOut==true)?"sold-cmb-attr":"";B+='			<div typpe="'+$(E).attr("typpe")+'" suboAttri='+JSON.stringify(D[G].subAttributes)+' vendorCode="" catalogId="'+D[G].catalogId+'" supc="'+D[G].supc+'" cubAttr="'+D[G].value+'" class="browseCategories-popup-catName '+C+'"><a> <span>	'+D[G].value+" </span></a></div>"});B+="			</div>";B+="		</div>"}if($(E).parent().parent().parent().hasClass("comboDropDown")){$(E).parent().parent().parent().append(B)}};this.showMoreComboSimilar=function(){Snapdeal.Cookie.set("track","RID=Combo_Moresubcat");moreDexId=$(this).attr("moreDexId");omniMap.catId=$(this).attr("catId");getMoreSimilarProductsForCombo($(this).attr("catId"));var B=$(this).attr("toPDP");moreComboElement=B;$("#morecombo-bought-div").removeAttr("style").html("");comboEventType="omniComboMoreSubcat";A.omnitureHits()};this.moveItemToDest=function(I,F,E,C){var B=$(I),H=B.offset(),G=B.clone();G.css({position:"absolute",width:B.width(),height:B.height(),top:H.top,left:H.left,opacity:0.7,zIndex:100000});$(document.body).append(G);var F=$(F),D=F.offset();$(F).hide();G.animate({top:D.top+10,left:D.left+40,opacity:0.3,width:50,height:50},750,function(){G.hide();$(F).show();$(F).wrap("<a target='_blank' href='"+E+"'></a>");if(C){C()}})};this.omnitureHits=function(){Snapdeal.omni.fire(comboEventType,omniMap)}};$frequentlyBlk.on("click",".omni-track",function(){Snapdeal.Cookie.set("track","CBID=BuyFlow_Cross")});if(window.showCombo){window.combo=new Snapdeal.Combo();window.combo.init()};
var Snapdeal=Snapdeal||{};Snapdeal.QnA=(function(F){var D,A,H;var G={},J={},I=window.isAuthenticated?true:false;function L(N){D=$.extend({},N,G,{tag:$("#tagsFilter").find("option:selected").val(),userNickName:"",qnaRegExp:/(<([^>]+)>)/ig,source:"source=qnaLandingPageDesktop",isLoading:false},{isQnALandingPage:function(O){if(O.indexOf("/qna")!=-1){return true}return false}(window.location.href),pageNo:$("#pageNumber").val(),pageId:$("#pageId").val()||$("#pogId").val()||"",quesCount:$("#qnaNoOfQuestions").val(),ansCount:$("#qnaNoOfAnswers").val(),lastPage:$("#lastPage").val(),sortBy:$("#sortBy").val()||"lastActivityDate",tagsMap:"",isPDP:function(O){if(O.indexOf("/qna")!=-1){return false}return true}(window.location.href),tagsMapFlag:Boolean($("#tagsMapFlag").val()),catalogID:function(O){if(O.indexOf("/qna")!=-1){return $("#qnaCatalogId").val()}return $("#catalogId").val()}(window.location.href),productId:$("#productId").val(),questionsWrapper:$("#qna-questions-wrapper"),pageUrl:$("#pageUrl").val(),pathHttp:$("#pathHttp").val(),validators:{},loginState:window.isAuthenticated?true:false});K();E();D.tag=((typeof D.tag)=="undefined"||D.tag=="undefined")?"":D.tag;C();if(!D.isPDP){Snapdeal.omni.fire("qnaLandingRevamp",{catalogId:D.catalogID,sourceLink:"QNA"})}$("#sdHeader").on("userLoggedIn",function(R,Q){if(Snapdeal.localStorage.getItem("authData").length>0){var P=Snapdeal.localStorage.getItem("authData");var O=P?$.parseJSON(P):"";D.userNickName=O.firstName;D.loginState=true;$("#qna-user-nick-name").val(O.firstName);fn.pendingUpvoteHit()}});D.tag=((typeof D.tag)=="undefined"||D.tag=="undefined")?"":D.tag;var M=$("#tagsFilter");Snapdeal.selectCommonConfigure.customSelect(M.parent())}function K(){A={body:$("body"),window:$(window),wrapper:$(".sd-qna"),qnaAnswersSiderBar:$("#qnaSideBarWriteAnswer"),qnaQuestionsSideBar:$("#qnaSideBarWriteQuestion"),submitAnswerButton:$("#submitAnswer"),submitQuestionButton:$("#submitQuestion"),qnaQuestionWrapper:$(".qna-question-wrapper"),controlHeader:$(".control-header"),askAQuestion:$("#ask-a-question"),havAQuestion:$(".ask-a-question"),radioLabel:$(".control-header").find(".radio-label"),guidelinesText:$(".guidelines-text"),alertCloseButton:$(".alert-error .close"),pagination:$(".LTblack"),redirectButton:$(".redirectionButton"),jumpToQNA:$(".jumpToQA"),gotItQues:$(".got-it-ques"),gotItAns:$(".got-it-ans"),backLink:$(".backLink"),sideBarModalRight:$("#sidebar_modal_right")}}function E(){B();A.qnaQuestionWrapper.on("click",".view-hide-answers",function(M){fn.expandAnswers.call(this,M,true)});A.qnaQuestionWrapper.on("click",".qna-upvote",fn.submitUpVote);A.qnaQuestionWrapper.on("click",".qna-answer-this-question",fn.answerQuestion);A.sideBarModalRight.on("click","#submitAnswer",fn.submitAnswer);A.sideBarModalRight.on("click","#cancelSubmitAnswer",fn.cancelSubmitAnswer);A.sideBarModalRight.on("click","#submitQuestion",fn.submitQuestion);A.sideBarModalRight.on("click","#cancelSubmitQuestion",fn.cancelSubmitQuestion);A.controlHeader.on("click",".radio-label",fn.sortByHandler);A.controlHeader.on("change","#tagsFilter",fn.filterChangeHandler);A.askAQuestion.on("click",function(M){Snapdeal.omni.fire("askAQuestionRevamp",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"});fn.askAQuestion.call(this)});A.havAQuestion.on("click",function(M){Snapdeal.omni.fire("haveAQuestion",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"});fn.askAQuestion.call(this)});A.guidelinesText.on("click",fn.showGuidelines);A.alertCloseButton.on("click",fn.showForm);A.redirectButton.on("click",fn.takeBackToPage);A.jumpToQNA.on("click",function(M){Snapdeal.omni.fire("jumpToQNA",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"})});A.gotItQues.on("click",function(M){Snapdeal.omni.fire("gotItQues",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"})});A.gotItAns.on("click",function(M){Snapdeal.omni.fire("gotItAns",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"})});A.backLink.on("click",function(M){});A.sideBarModalRight.on("click",".qna-checkbox-container input[type='radio'],.qna-checkbox-container input[type='checkbox']",function(M){$(this).addClass("show-ripple");setTimeout(function(){$(this).removeClass("show-ripple")},500)});if(D.isPDP){A.wrapper.one("click",function(M){Snapdeal.omni.fire("pdpQnAUserVisit",{catalogId:D.catalogID})})}}function B(){}function C(){D.validators.answerSubmissionFormValidator=$("#answerSubmissionForm").validate({rules:{"qna-answer-textarea":{required:true,minlength:1},"qna-user-nick-name":{required:true,minlength:1}},messages:{"qna-user-nick-name":"Please enter nickname","qna-answer-textarea":"Please enter your answer"},errorElement:"div",errorClass:"error"});D.validators.questionSubmissionFormValidator=$("#questionSubmissionForm").validate({rules:{"qna-submit-question-textarea":{required:true,minlength:1},"qna-user-nick-name-for-question":{required:true,minlength:1}},messages:{"qna-user-nick-name-for-question":"Please enter nickname","qna-submit-question-textarea":"Please enter your question",},errorElement:"div",errorClass:"error"});if(D.isQnALandingPage){promise1=fn.appendQuestions();$.when(promise1).done(fn.stopLoadingScreen)}}fn={init:L,initializePage:C,startLoadingScreen:function(){D.isLoading=true;Snapdeal.utility.displayPageLoader()},stopLoadingScreen:function(){D.isLoading=false;Snapdeal.utility.hidePageLoader()},expandAnswers:function(P,O){var N,Q,M;N=$(this);if(!N.hasClass("qna-question")){N=$(this).parents(".qna-question")}if(O){N.siblings().removeClass("expanded").find(".qna-answers").slideUp("slow").toggleClass("expanded");N.siblings().find(".view-hide-answers span:first-child").text("View All Answers");N.siblings().find(".view-hide-answers img").attr("src",Snapdeal.getResourcePath("/")+"/img/view-more.png");$(".ajax-loader-icon").hide()}Q=N.find(".qna-answers");setTimeout(function(){if(O){if(N.hasClass("expanded")){Q.slideUp("slow",function(){N.toggleClass("expanded");N.find(".view-hide-answers span:first-child").text("View All Answers");N.find(".view-hide-answers img").attr("src",Snapdeal.getResourcePath("/")+"/img/view-more.png")});$(".ajax-loader-icon").hide()}else{N.toggleClass("expanded");Snapdeal.omni.fire("questionExpanded",{catalogId:D.catalogID,quesId:N.attr("_quesid"),sourceLink:D.isPDP?"PDP":"QNA"});Q.slideDown("slow",function(){if(N.attr("data-all-answers-loaded")=="false"){N.find(".ajax-loader-icon").show();(function(R){fn.appendAnswer(R)})(N.attr("data-question-id"))}N.find(".view-hide-answers span:first-child").text("Hide Answers");N.find(".view-hide-answers img").attr("src",Snapdeal.getResourcePath("/")+"/img/hide-all.png")});$(window).scrollTo(N.offset().top-60,"slow")}}else{if(N.hasClass("expanded")){}else{M=Q.is(":visible");$(".qna-question").removeClass("expanded");$(".qna-answers").hide();N.toggleClass("expanded");if(!M){Snapdeal.omni.fire("questionExpanded",{catalogId:D.catalogID,quesId:N.attr("_quesid"),sourceLink:D.isPDP?"PDP":"QNA"});Q.slideDown("slow",function(){if(N.attr("data-all-answers-loaded")=="false"){N.find(".ajax-loader-icon").show();(function(R){fn.appendAnswer(R)})(N.attr("data-question-id"))}});$(window).scrollTo(N.offset().top-60,"slow")}}}},700)},submitUpVote:function(Q){var P=$(this);var O="",M="upvote";if(P.prop("disabled")){return }O=$(".userLoginEmail").eq(1).text();M=P.hasClass("unvote")&&"unvote"||"upvote";D.currentQuestionID=P.attr("data-question-id");D.currentAnswerID=P.attr("data-answer-id");var R={postId:D.currentAnswerID,voteTypeId:M,postOwnerEmail:O,postTypeCode:"answer",postParentId:D.currentQuestionID,pageId:D.pageId};Snapdeal.omni.fire("qnaVote",{catalogId:D.catalogID,ansId:D.currentAnswerID,action:M,sourceLink:D.isPDP?"PDP":"QNA"});if(D.loginState){P.prop("disabled",true);var N="/posts/vote";Snapdeal.rippleWidget.rippleCallBack(P,Q);$.ajax({url:N,type:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(R),dataType:"json",success:function(S){$("#vote_"+D.currentAnswerID).html(S.score+"<i></i><u></u>");P.toggleClass("unvote");if(P.attr("src")===Snapdeal.getResourcePath("/")+"/img/upvote.png"){P.attr("src",Snapdeal.getResourcePath("/")+"/img/no-like.png")}else{P.attr("src",Snapdeal.getResourcePath("/")+"/img/upvote.png")}},error:function(S){},complete:function(){fn.stopLoadingScreen();P.prop("disabled",false)}})}else{fn.saveVotingState(R);fn.showLogin()}},appendQuestions:function(M){if(!D.pageId){throw ("Error: 'pageId' is missing - Unable to fetch 'Questions and Answers'");return }var N,O;if(true){N="/posts/page/"+D.pageId+"/question?"+D.source+"&page="+D.pageNo+"&sortBy="+D.sortBy+"&tag="+D.tag;O=$.ajax({url:N,success:function(Q){if(Q.posts.length>0){A.qnaQuestionWrapper&&A.qnaQuestionWrapper.html(fn.getQuestionHTML(Q.posts));Q.totalResults=Q.totalResults||0;for(var P=0;P<Q.posts.length;P++){(function(R){fn.appendAnswer(R)})(Q.posts[P].id)}$(".pagination").show()}else{A.qnaQuestionWrapper&&A.qnaQuestionWrapper.html("<div  style='text-align: center; margin-top : 40px; font-size:18px;font-family: robotoLight;'>No Results Found</div>");$(".pagination").hide()}M&&M(Q)},error:function(){A.qnaQuestionWrapper&&A.qnaQuestionWrapper.html("<div style='text-align: center; margin-top : 40px; font-size:18px;font-family: robotoLight;'>No Results Found</div>")}});return O}},getQnACount:function(O){var M,N;M="/posts/count/"+D.pageId+"?source=pdpDesktop";N=$.ajax({url:M,success:function(P){O&&O(P)},error:function(P){}});return N},getQuestionHTML:function(O){var N=0,M=[],P;for(;N<O.length;N++){P=O[N];M.push('<li class="qna-question clearfix" id="',P.id,'" data-question-id="',P.id,'" _quesid="',P.id,'" data-all-answers-loaded="false">','<!--<span class="qna-accordion-icon">',"<i></i><u></u>","</span>-->","<h3>",'<span class="qna-ques-head">',"Q: "+P.body,"</span>","</h3>",' <br class="clear"> <br class="clear"> <br class="clear">',(P.answerCount==0)?('No Answer <br class="clear"> <br class="clear"> <button class="btn btn-large btn-line btn-blue rippleWhite btn-lg-ask qna-answer-this-question" data-question-id="'+P.id+'">ANSWER QUESTION</button>'):"",(P.answerCount!=0)?('<div class="'+P.id+'_qa_pair"></div>'):"",'<div class="qna-answers" style="display:none;">',"</div>",'<div align="center" class="mar_15per_left ajax-loader-icon" style="display:none;">','<img src="',Snapdeal.getResourcePath("img/revamp/cyclicLoader.gif"),'" />',"</div>",(P.answerCount>0)?('<br class="clear"> <div class="view-hide-answers"><span>View All Answers </span><span style="color:grey"> ( '+P.answerCount+' )</span> <img src="'+Snapdeal.getResourcePath("/")+'/img/view-more.png" /></div>'):"","</li>")}return M.join("")},getQAPairHTML:function(N){var M=[],O=N[0];M.push("<p>",'<span class="response-text">',"A: "+O.body.trim(),"</span>","<div>",'<div class="qna-first-ques-userInfo" >by ',O.createdBy.displayName,' | <time datetime="',O.createdDate,'">',O.createdDate,"</time></div>",'<img id="vote" src="',Snapdeal.getResourcePath("/")+(O.currentUserVoteTypeId==null?"/img/no-like.png":"/img/upvote.png"),'"data-answer-id="',O.id,'" data-question-id="',O.parentId,'" data-user-email="',O.createdBy.email,O.currentUserVoteTypeId!=null?'" class="qna-upvote unvote rippleGrey first-vote-up-image"':'" class="qna-upvote rippleGrey first-vote-up-image"',"/>",'<div class="qna-ans-cnt">','<span id="vote_',O.id,'">',O.upvoteCount,"<i></i><u></u></span>","</div>","</div>",'<span class="arrow"></span><i></i>',"</p>");return M.join("")},answerQuestion:function(N){var M=$(this);var O=M.attr("_val");D.currentQuestionID=M.attr("data-question-id");D.userNickName&&D.userNickName.length&&$("#qna-user-nick-name").val(D.userNickName).prop("readonly",true).addClass("disabled");Snapdeal.omni.fire("qnaAnswerQuestion",{catalogId:D.catalogID,quesId:D.currentQuestionID,sourceLink:D.isPDP?"PDP":"QNA"});if(window.isAuthenticated){Snapdeal.sidebar.open(A.qnaAnswersSiderBar,"Your answer can help millions!","sd-qna")}else{window.showLogin();return false}},appendAnswer:function(M){var N;if(M){D.currentQuestionID=M}N="/posts/parent/"+D.currentQuestionID+"?sortBy=score&size=99999";setTimeout(function(){$.ajax({url:N,success:function(O){if(O&&O.answerCount!=0){$("#"+M).find(".qna-answers").html(['<ul class="qna-answers-wrapper container-fluid"></ul>','<button class="btn btn-large btn-line btn-blue rippleWhite btn-lg-ask qna-answer-this-question" data-question-id="',M,'">ANSWER QUESTION</button>'].join(""))}if(O&&O.posts&&O.posts.length>0){$("."+M+"_qa_pair").html(fn.getQAPairHTML(O.posts));$("#"+M).find("ul").before("<h4></h4>").html(fn.getAnswerHTML(O.posts))}}}).complete(function(){fn.stopLoadingScreen();$("#"+M).attr("data-all-answers-loaded","true").find(".ajax-loader-icon").remove()})},1000)},getAnswerHTML:function(O){var N=1,M=[],Q,P=8;for(;N<O.length;N++,P++){Q=O[N];M.push('<li class="row" id="',Q.id,'" data-answer-id="',Q.id,'" data-question-id="',Q.id,'">','<!--<span class="user-profile">','<span class="user-img-name c',P%7,'">',Q.createdBy.displayName.substr(0,1),"</span>",'<span class="user-name" title="',Q.createdBy.displayName,'">',Q.createdBy.displayName,"</span>","</span>-->","<p>",'<!--<span class="user-responses">-->','<span class="response-text">',"A: "+Q.body.trim(),"</span>",'<div><div class="qna-ques-userInfo">by ',Q.createdBy.displayName,' | <time datetime="',Q.createdDate,'">',Q.createdDate,"</time></div>",'<img id="vote" src="',Snapdeal.getResourcePath("/")+(Q.currentUserVoteTypeId==null?"/img/no-like.png":"/img/upvote.png"),'" data-answer-id="',Q.id,'" data-question-id="',Q.parentId,'" data-user-email="',Q.createdBy.email,Q.currentUserVoteTypeId!=null?'" class="qna-upvote unvote rippleGrey vote-up-image"':'" class="qna-upvote rippleGrey vote-up-image"',"/>",'<span class="qna-ans-cnt">','<span id="vote_',Q.id,'">',Q.upvoteCount,"<i></i><u></u></span>",'<!--<time class="rfloat" id="answerTime_',Q.id,'">',Q.createdDate,"</time>-->","</span></div>","<!--</span>-->",'<span class="arrow"></span><i></i>',"</p>","</li>")}return M.join("")},showGuidelines:function(M){Snapdeal.sidebar.open($("#qnaSideBarQnAGuidelines"),"Guidelines","sd-qna")},getQnaOmnitureScript:function(N,M){var O;O="/qna/getomniturescript/"+M+"?"+$.param(N);return $.ajax({url:O,type:"POST",contentType:"application/json; charset=utf-8",dataType:"html",success:function(P){$("body").append(P)},error:function(){$(".ajax-loader-icon").hide()}})},askAQuestion:function(M){D.userNickName&&D.userNickName.length&&$("#qna-user-nick-name-for-question").val(D.userNickName).prop("readonly",true).addClass("disabled");if(window.isAuthenticated){Snapdeal.sidebar.open(A.qnaQuestionsSideBar,"Have a question?","sd-qna")}else{window.showLogin();return false}},sortByHandler:function(O){var N=$(this),M;A.radioLabel.removeClass("selected");D.sortBy=N.attr("data-sort-by");D.pageNo=1;N.addClass("selected");Snapdeal.omni.fire("qnaSortBy",{catalogId:D.catalogID,typeOfSorting:D.sortBy,sourceLink:D.isPDP?"PDP":"QNA"});M=fn.appendQuestions(fn.generatePagination);$.when(M).done(fn.stopLoadingScreen)},takeBackToPage:function(O){var N,M;N=$(this);M=N.attr("data-form-name")||"";N.parents(".qna-success-message").fadeOut("slow",function(){$(M).fadeIn()});fn.cancelSubmitQuestion.call(this,O,true);fn.cancelSubmitAnswer.call(this,O,true);Snapdeal.sidebar.close()},showForm:function(O){var N,M;N=$(this);M=N.attr("data-form-name")||"";N.parents(".alert-error").fadeOut("slow",function(){$(M).fadeIn()})},filterChangeHandler:function(O){var N,M,P;N=$(this);D.tagText=N.find("option:selected").text();D.tag=N.find("option:selected").val();D.pageNo=1;console.log("Tag "+D.tag);D.tag=((typeof D.tag)=="undefined"||D.tag=="undefined")?"":D.tag;Snapdeal.omni.fire("qnaFilterSelect",{catalogId:D.catalogID,typeOfSorting:D.sortBy,typeOfTag:D.tagText,sourceLink:D.isPDP?"PDP":"QNA"});M=fn.getQnACount(function(Q){});promise2=fn.appendQuestions(fn.generatePagination);$.when(M,promise2).done(fn.stopLoadingScreen)},showLogin:function(){var M;M=window.showLogin||Snapdeal.showLogin||function(){window.location.href="/login"};M()},saveVotingState:function(N){var M;M=Snapdeal.localStorage&&Snapdeal.localStorage.getItem(D.pageId+"_qna_content");M=M&&JSON.parse(M)||{};M.activity=M.activity||[];M.activity.push({voteup:N});Snapdeal.localStorage&&Snapdeal.localStorage.setItem(D.pageId+"_qna_content",JSON.stringify(M))},omnitureScriptForSubmitAnswer:function(){},submitAnswer:function(P){P.preventDefault();if($("html").hasClass("ie8")||$("html").hasClass("ie9")){var R="Kindly ensure your answers are to the point or elaborate accordingly.";if($("#qna-answer-textarea").val().trim()==R){$("#qna-answer-textarea").val("")}}A.userNickName=$("#qna-user-nick-name");A.answerTextArea=$("#qna-answer-textarea");A.userNickName.val(A.userNickName.val().trim().replace(D.qnaRegExp,""));A.answerTextArea.val(A.answerTextArea.val().trim().replace(D.qnaRegExp,""));if(!D.loginState){D.currentAnswer=Snapdeal.localStorage&&localStorage.getItem(D.currentQuestionID+"QnaAns")||"";if(Snapdeal.localStorage&&localStorage.getItem(D.currentQuestionID+"QnaAns")){$("#"+D.currentQuestionID+"_qnaAns").val()=localStorage.getItem(D.currentQuestionID+"QnaAns")}fn.showLogin()}if($("#answerSubmissionForm").valid()){var O,N,Q;O=$(this);if(O.not(":disabled")[0]){O.prop("disabled",true);D.userNickName=A.userNickName.val()?A.userNickName.val().trim().replace(D.qnaRegExp,""):"";Q=A.answerTextArea.val()?A.answerTextArea.val().trim().replace(D.qnaRegExp,""):"";N="/posts/answer?name="+D.userNickName;Snapdeal.omni.fire("submitAnswer",{catalogId:D.catalogID,quesId:D.currentQuestionID,sourceLink:D.isPDP?"PDP":"QNA"});fn.startLoadingScreen();$.ajax({url:N,type:"POST",dataType:"JSON",contentType:"application/json; charset=utf-8",data:JSON.stringify({pogId:D.pageId,parentId:D.currentQuestionID,name:D.userNickName,body:Q}),success:function(){$("#answerSubmissionForm").fadeOut("medium",function(){$("#answerSubmissionSuccess").fadeIn("medium")})},error:function(){$("#answerSubmissionForm").fadeOut("medium",function(){$("#answerSubmissionError").fadeIn("medium",function(){O.prop("disabled",false)})})}}).complete(M)}}function M(){fn.stopLoadingScreen()}},omnitureScriptForSubmitQuestion:function(){},submitQuestion:function(N){N.preventDefault();if($("html").hasClass("ie8")||$("html").hasClass("ie9")){var O="- Questions on products and its features.";if($("#qna-submit-question-textarea").val().trim()==O){$("#qna-submit-question-textarea").val("")}}A.userNickName=$("#qna-user-nick-name-for-question");A.submitQuestionTextArea=$("#qna-submit-question-textarea");A.userNickName.val(A.userNickName.val().trim().replace(D.qnaRegExp,""));A.submitQuestionTextArea.val(A.submitQuestionTextArea.val().trim().replace(D.qnaRegExp,""));if(!D.pageId){return }if(!D.loginState){D.currentAnswer=Snapdeal.localStorage&&localStorage.getItem(D.currentQuestionID+"QnaAns")||"";if(Snapdeal.localStorage&&localStorage.getItem(D.currentQuestionID+"QnaAns")){$("#"+D.currentQuestionID+"_qnaAns").val()=localStorage.getItem(D.currentQuestionID+"QnaAns")}fn.showLogin()}if($("#questionSubmissionForm").valid()){var W,T,Q,X,S,R=[];W=$(this);if(W.not(":disabled")[0]){W.prop("disabled",true);D.userNickName=A.userNickName.val()?A.userNickName.val().trim().replace(D.qnaRegExp,""):"";Q=A.submitQuestionTextArea.val()?A.submitQuestionTextArea.val().trim().replace(D.qnaRegExp,""):"";T="/posts/question?name="+D.userNickName;X=$(this).closest("form");if(D.tagsMapFlag){function V(Z){var Y={};Y.id=Z;return Y}S=X.find("input[type='checkbox']");if(S&&S.length!=0){for(var M=0;M<S.length;M++){var U=S[M];if($(U).is(":checked")){R[R.length]=new V($(U).attr("id"))}}}}Snapdeal.omni.fire("submitQuestion",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"});fn.startLoadingScreen();$.ajax({url:T,type:"POST",dataType:"JSON",contentType:"application/json; charset=utf-8",data:JSON.stringify({pogId:D.pageId,name:D.userNickName,body:Q,moderationStatus:"PENDING",postTags:R}),success:function(){$("#questionSubmissionForm").fadeOut("medium",function(){$("#questionSubmissionSuccess").fadeIn("medium")})},error:function(){$("#questionSubmissionForm").fadeOut("medium",function(){$("#questionSubmissionError").fadeIn("medium")});$("#questionSubmissionForm").fadeOut("medium",function(){$("#questionSubmissionError").fadeIn("medium",function(){W.prop("disabled",false)})})}}).complete(P)}}function P(){fn.stopLoadingScreen()}},cancelSubmitQuestion:function(N,M){N.preventDefault();if(!M){Snapdeal.omni.fire("cancelQuestion",{catalogId:D.catalogID,sourceLink:D.isPDP?"PDP":"QNA"})}D.validators.questionSubmissionFormValidator.resetForm();$("#qna-user-nick-name-for-question").val(D.userNickName);A.submitQuestionButton.prop("disabled",false)},cancelSubmitAnswer:function(N,M){N.preventDefault();if(!M){Snapdeal.omni.fire("cancelAnswer",{catalogId:D.catalogID,quesId:D.currentQuestionID,sourceLink:D.isPDP?"PDP":"QNA"})}D.validators.answerSubmissionFormValidator.resetForm();$("#qna-user-nick-name").val(D.userNickName);A.submitAnswerButton.prop("disabled",false)},pendingUpvoteHit:function(){if(D.loginState){var M,P="";M=Snapdeal.localStorage&&Snapdeal.localStorage.getItem(D.pageId+"_qna_content");M=M&&JSON.parse(M)||{};M.activity=M.activity||[];if(M.activity[0]&&M.activity[0].voteup){var O=M.activity[0].voteup,N=$("#"+O.postId);O.postOwnerEmail=$(".userLoginEmail").eq(1).text();N.prop("disabled",true);P=M.activity[0].voteup.postParentId;$.ajax({url:"/posts/vote",type:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(O),dataType:"json",success:function(Q){$("#vote_"+O.postId).html(Q.score+"<i></i><u></u>");N.toggleClass("unvote");if(N.attr("src")===Snapdeal.getResourcePath("/")+"/img/upvote.png"){N.attr("src",Snapdeal.getResourcePath("/")+"/img/no-like.png")}else{N.attr("src",Snapdeal.getResourcePath("/")+"/img/upvote.png")}},error:function(Q){},complete:function(){fn.stopLoadingScreen();if(P!==""){var Q=jQuery("#"+P);if(Q.length>0){jQuery("html, body").animate({scrollTop:Q.offset().top},"slow",function(){Q.click()})}}N.prop("disabled",false);M.activity=[];Snapdeal.localStorage&&Snapdeal.localStorage.setItem(D.pageId+"_qna_content",JSON.stringify(M))}})}}},changePaginationHREFs:function(M){},generatePagination:function(U){var M,W,Z,V,O,S,R,Q,Y,N=[],X;X=(D.tag=="")?"":("&tag="+D.tag);W=U.lastPage;M=U.pageCriteria.page;Z=window.location.href.split("/qna")[0]+"/qna";S=D.tag.length?U.totalResults/U.pageCriteria.size:D.quesCount/U.pageCriteria.size;S=Math.ceil(S);R=D.tag.length?U.totalResults:D.quesCount;if(D.isQnALandingPage){if(!(M==1&&W)){N.push('<li class="first">');if(M==1){N.push('<i class="sd-icon sd-icon-previous nav-disable-qna"></i>')}else{if(M-1==1){N.push('<a href="',Z,"?page=&sortBy=",D.sortBy,X,'" class="rippleGrey"><i class="sd-icon sd-icon-previous"></i></a>')}else{N.push('<a href="',Z,"?page=",M-1,"&sortBy=",D.sortBy,X,'" class="rippleGrey"><i class="sd-icon sd-icon-previous"></i></a>')}}N.push("</li>");if(M==1){N.push('<li><span class="rippleGrey"><a href="javascript:void(0)">1</a></span></li>')}else{N.push('<li><a href="',Z,"?&sortBy=",D.sortBy,X,'" class="rippleGrey">1</a></li>')}if(M-1>2){N.push("<li><i>...</i></li>")}Q=M>2?(M-1):2;Y=(S<M+2?S-1:M+1);for(var T=Q;T<=Y;T++){N.push("<li>");if(T==M){N.push('<span class="rippleGrey"><a href="javascript:void(0)">',T,"</a></span>")}else{if((M-1)==1){N.push('<a href="',Z,"?&sortBy=",D.sortBy,X,'" class="rippleGrey">',T,"</a>")}else{N.push('<a href="',Z,"?page=",T,"&sortBy=",D.sortBy,X,'" class="rippleGrey">',T,"</a>")}}N.push("</li>")}if(S-M>2){N.push("<li><i>...</i></li>")}if(S!=1){if(M==S){N.push('<li><span class="rippleGrey"><a href="javascript:void(0)">'+S+"</a></span></li>")}else{N.push('<li><a href="',Z,"?page=",T,"&sortBy=",D.sortBy,X,'" class="rippleGrey">'+S+"</a></li>")}}N.push('<li class="last">');if(W){N.push('<a href="javascript:void(0);"><i class="sd-icon sd-icon-previous nav-disable-qna" ></i>')}else{N.push('<a href="',Z,"?page=",M+1,"&sortBy=",D.sortBy,X,'" class="rippleGrey"><i class="sd-icon sd-icon-next"></i>')}N.push("</a>","</li>")}A.pagination.html(N.join(""))}var P=D.tag?"&tag="+D.tag:"";$("#qna-count-heading").html("Displaying Questions  1 - "+U.posts.length+" of "+R).show();if(!W){if(R>11){O=$(".qna-load-more").prop("href")||"";$(".qna-load-more").html(D.sortBy=="lastActivityDate"?"View more recent questions":"View more helpful questions").show().prop("href",O.split("sortBy=")[0]+"sortBy="+D.sortBy+P)}else{if(R>5){O=$(".qna-load-more").prop("href")||"";$(".qna-load-more").html(D.sortBy=="lastActivityDate"?"View more recent questions":"View more helpful questions").show().prop("href",O.split("sortBy=")[0]+"sortBy="+D.sortBy+P)}}}else{if(U.posts.length==0){$("#qna-count-heading").html("Displaying Questions  0 of 0")}$(".qna-load-more").hide()}}};H={init:function(M){return fn.init(M)}};return H})();Snapdeal.QnA.init({});
var Snapdeal=Snapdeal||{};Snapdeal.trackPDPHit=(function(E,C){var B,A,D={};D.allVendorObj={};A={_init:function(K){var G=Snapdeal.CommonUtils.URL.getQueryParam;if(G("order")){A._logConversions();return true}if(!G("aw_google_conversion_label")||!G("aw_google_conversion_id")||!G("vendorCode")){return false}D.vendorArr=JSON.parse(Snapdeal.localStorage.getItem("awVendors"))||[];var F=G("vendorCode"),J=G("aw_google_conversion_id"),H=G("aw_google_conversion_label"),I={};I[F]={};I[F].google_conversion_id=J;I[F].google_conversion_label=H;I[F].google_conversion_language="en";I[F].google_conversion_format="3";I[F].google_conversion_color="0000ff";I[F].creationTime=Date.now();D.vendorArr.push(I);Snapdeal.localStorage.setItem("awVendors",JSON.stringify(D.vendorArr));A._validateSellers()},_validateSellers:function(){var K=JSON.parse(Snapdeal.localStorage.getItem("awVendors"))||[],J=K.length-1,I=parseInt(E("#adWordPersistenceTime").val())*60*60000||24*60*60000,H,F,G=Date.now(),L=G-I;while(J>=0){H=K[J];F=Object.keys(H)[0];if(H[F].creationTime<L){break}D.allVendorObj[F]=H[F];J--}if(J>0){K=K.slice(J,K.length-J);Snapdeal.localStorage.setItem("awVendors",JSON.stringify(K))}},_logConversions:function(){A._validateSellers();var F=D.allVendorObj;E("li.ocn-cart-item").each(function(){var H=E(this).data("vendorcode");if(F[H]){var G={};var I=new Image(1,1);G.id=F[H].google_conversion_id;G.label=F[H].google_conversion_label;G.language=F[H].google_conversion_language;G.format=F[H].google_conversion_format;G.color=F[H].google_conversion_color;I.src="//www.googleadservices.com/pagead/conversion/"+G.id+"/?label="+G.label+"&guid=ON&script=0"}})}};B={init:function(){return A._init.apply(this,arguments)},};return B})(window.jQuery,Snapdeal);Snapdeal.trackPDPHit.init({});
var Snapdeal=Snapdeal||{};Snapdeal.googleMaps=function(D){var I,G,B,F,E,A,H,C;H={_currentMarker:"",_normalIcon:"/img/o2o-normal-map-icon.png",_customIcon:"/img/o2o-normal-map-icon.png",_currentFlow:"",_showOptions:false};I={_createMarker:function(K,L){var J=new google.maps.Marker(K);A.extend(J.position);if(L){google.maps.event.addListener(J,"click",function(){if(I._emptyCheck(H._currentMarker)){H._currentMarker.setIcon(H._normalIcon)}J.setIcon(H._customIcon);H._currentMarker=J;F.setContent(L);F.open(K.map,this);I._handleStoreCards(this);Snapdeal.omni.fire("showStoreLocation",{clickBucatalogIdtton:$("#catalogId").val()})})}B.fitBounds(A);return J},_emptyCheck:function(J){if(J!==""&&J!==undefined&&J!==null){return true}else{return false}},_getInstance:function(){return B},_handleStoreCards:function(J){B.panTo(J.getPosition())},_initialize:function(){Snapdeal.onlineToOffline.addLoader();C=D;A=new google.maps.LatLngBounds();B=new google.maps.Map(C,{center:new google.maps.LatLng(28.6472799,76.8130634),zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP});if(C.getAttribute("id")=="googleMap"){H._currentFlow="buy-now"}else{if(C.getAttribute("id")=="googleMapViewDetail"){H._currentFlow="view-more"}}F=new google.maps.InfoWindow();google.maps.event.addListenerOnce(B,"tilesloaded",function(){Snapdeal.onlineToOffline.removeLoader()});I._addMarkers()},_clearMarkers:function(K){for(var J in K){K[J].setMap(null)}},_setCurrentFlow:function(J){H._currentFlow=J},_addMarkers:function(){I._clearMarkers(E);E=[];var J=null;if(H._currentFlow=="view-more"){J=Snapdeal.onlineToOffline.viewMoreList();H._showOptions=false}else{if(H._currentFlow=="buy-now"){J=Snapdeal.onlineToOffline.storesList();H._showOptions=true}}if(J.length==0){B.setZoom(6);B.setCenter(new google.maps.LatLng(28.6472799,76.8130634));B.setMapTypeId(google.maps.MapTypeId.ROADMAP);I._clearMarkers(E)}if(null!==J){for(var K in J){(function(O){var L=J[O];var M={position:new google.maps.LatLng(parseFloat(L.lat),parseFloat(L["long"])),map:B,icon:H._normalIcon,customInfo:L.customInfo};if(Snapdeal.onlineToOffline.getActiveStore()===L.customInfo){M.icon=H._customIcon}var N="";if(H._showOptions){N="<div class='map-marker-message dealer-details'>"+jQuery("#"+L.customInfo).find(".o2o-store-first-part").html()+'<span class="o2o-today open-today">'+jQuery("#"+L.customInfo).find(".o2o-today").html()+"</span></div>"}E[O]=I._createMarker(M,N);if(O==0){B.panTo(E[O].getPosition())}if(Snapdeal.onlineToOffline.getActiveStore()===L.customInfo){H._currentMarker=E[O];if(H._showOptions){}}})(K)}}google.maps.event.trigger(B,"resize")}};G={init:function(){return I._initialize.apply(this,arguments)},updateMarkers:function(){return I._addMarkers.apply(this,arguments)},getMapInstance:function(){return I._getInstance.apply(this,arguments)},setCurrentFlow:function(J){I._setCurrentFlow(J)}};return G};
var Snapdeal=Snapdeal||{};Snapdeal.donationFlow=(function(E,D){var C,B,A;A={pdpFlow:false,donationVisit:false,json:{ngoName:"",addressId:"",hashValue:"",customerName:"",mobile:""}};C={_init:function(){var G=E("#donorName");var F=E("#donorMobile");if(E("#ngoName").val()!=""&&E("#addressId").val()!=""){A.pdpFlow=E("#pdpDonation").val()}E(".donationContinue").on("click",function(H){var J=/^[A-Za-z ]+$/;if(C._isFieldEmpty(G.val())||!G.val().match(J)){G.addClass("bb-red").prev().addClass("bb-red");E(".validation-message-name").text("Please enter name");delerParent.find(".leftWidgetdealer .validation-message-name").text("Please enter name")}else{G.removeClass("bb-red");E(".validation-message-name").text("")}var I=/^[789]\d{9}$/;if(C._isFieldEmpty(F.val())||!F.val().match(I)){F.addClass("bb-red").prev().addClass("bb-red");E(".validation-message-mobile").text("Please enter valid contact number");delerParent.find(".leftWidgetdealer .validation-message-mobile").text("Please enter valid contact number")}else{F.removeClass("bb-red");E(".validation-message-mobile").text("")}A.json.ngoName=$("#ngoName").val();A.json.addressId=$("#addressId").val();A.json.hashValue=$("#hashValue").val();A.json.customerName=$("#donorName").val();A.json.mobile=$("#donorMobile").val();A.donationVisit=true;E("#buy-button-id").trigger("click")})},_getDonationVisit:function(){return A.donationVisit},_getDonationJson:function(){return A.json},_getPdpFlowFlag:function(){return A.pdpFlow},_isFieldEmpty:function(F){return(F.trim()==="")}};B={init:function(){return C._init.apply(this,arguments)},getDonationVisit:function(){return C._getDonationVisit.apply(this,arguments)},getDonationjson:function(){return C._getDonationJson()},getPdpFlowFlag:function(){return C._getPdpFlowFlag()}};return B})(window.jQuery,Snapdeal);Snapdeal.donationFlow.init();
if($("#pdpType").val()!="automobiles"&&$("#productLifeState").val()=="buyType"&&$("#hardBundlingEnabledId").val()=="true"){var Snapdeal=Snapdeal||{};Snapdeal.hardBundling=(function(){var C,A,B,D;D={sliderModal:{}};A={hardBundlePDPContainer:$(".hardBundlePDPContainer"),primaryComboProdCont:$("#primaryComboProd"),bundlingSidebarModalCont:$("#bundlingSidebarModal"),comboAttrContainer:"",defaultSupc:$("#defaultSupc").html(),createComboLink:$("#createComboLink"),pogId:$("#pogId").val(),secondaryProdBxslider:$(".secondary-prod-bxslider"),contentWrapper:$("#content_wrapper"),attrOptions:$("#product-attr-options"),heroProductPrice:"",heroProductAttr:$("#product-attr-options"),catalogId:$("#catalogId").val(),heroProductServiceability:$("#heroProductServiceability").val(),checkingServiceabilityPrimaryBundle:$(".checkingServiceabilityPrimaryBundle")};B={_init:function(){B._bindEventsForBundling()},_prodImgSlider:"",_checkPincodeAvailabe:function(){var F=Snapdeal.Cookie.get("spin");var E=(F)?F.split("-")[0]:"";if(E&&parseInt(E).toString().length==6){return E}return""},_activeLinkHoverProd:function(H){H.preventDefault();var E=$(this).attr("data-slide-index");var G=$($(".bx-slider-check li")[E]);var F=G.find("img");F.attr("src",F.attr("hoverSrc"));F.removeAttr("hoverSrc");B._prodImgSlider.goToSlide(E)},_bindEventsForBundling:function(){$(".hardbundle-link").on("click",function(){$("html, body").animate({scrollTop:$(".hardBundlePDPContainer").offset().top-50},2000)});$("body").on("mouseover click","#bundlingSidebarModal #bx-pager-check a",B._activeLinkHoverProd);if(B._checkPincodeAvailabe()){if(A.heroProductServiceability=="true"){B._windowLoadEvents("getBundleResponsePrimary",1,null,0,2)}}else{B._windowLoadEvents("getBundleResponsePrimary",1,null,0,2)}A.heroProductAttr.on("productAttrSelected",function(H,G,F,E){A.defaultSupc=F;B._createBundlingWidget(H,G,F,E)});A.contentWrapper.on("nonPdpPageAttrSelectedLevel",function(G,H,F,E){E.parents(".currentlyClicked").addClass("hidden")});A.contentWrapper.on("nonPdpPageAttrSelectedBundle",function(G,F,E){B._clickedElement.attr("catalogId",E)});A.attrOptions.on("productAttrSelectedAtSecondaryLocation",function(I,G,F,K){B._hideLoader();B._clickedElement.parents(".feature-grid-layout").find("div[data-identifier='"+B._clickedElement.attr("data-identifier")+"']").addClass("hidden");if(!G){return }if(B._clickedElement.attr("soldout")=="true"){B._checkforSoldoutAndServiciability();return }else{if(B._checkPincodeAvailabe()&&!B._checkServiceability(G,F)){B._checkforSoldoutAndServiciability();return }}var L=B._clickedElement.parent().find("input");L.attr("checked","checked");B._clickedElement.attr("supc",F);if(B._clickedType=="primary"){var J=$("#add-cart-button-id");$("#primaryBundleBuy").removeClass("disabled");B._primaryArray.push({cartId:Snapdeal.Cookie.get("cartId"),catId:B._clickedElement.attr("catId"),catalogId:B._clickedElement.attr("catalogId"),supc:F,vendorCode:G.primaryVendor["vendorCode"],price:G.primaryVendor["sellingPrice"],cashBack:G.primaryVendor["walletCashBackValueInt"],name:B._clickedElement.attr("nameOfProduct"),bundleType:"HARD",bundleId:J.attr("supc"),heroItem:false});B._updatePrimaryPayablePrice()}else{if(B._clickedType=="secondary"){var J=$("#add-cart-button-id");B._secondaryArray[B._secondaryClickedParent].push({cartId:Snapdeal.Cookie.get("cartId"),catId:B._clickedElement.attr("catId"),catalogId:B._clickedElement.attr("catalogId"),supc:F,vendorCode:G.primaryVendor["vendorCode"],price:G.primaryVendor["sellingPrice"],cashBack:G.primaryVendor["walletCashBackValueInt"],bundleType:"HARD",bundleId:J.attr("supc"),heroItem:false});B._secondaryChkBoxArray.push({secProdSUPC:F,secProdLabel:B._clickedElement.parents(".prod-tupple-combo").find(".product-title-bundlingDesc").html(),secProdPrice:G.primaryVendor["sellingPrice"]});B._updateSecondaryPayablePrice();B._updateComboProdAddedCont()}}var E="";if(B._clickedType=="secondary"){E=B._clickedElement.parents(".prod-tupple-combo")}else{E=B._clickedElement.parents(".feature-grid-layout")}E.find(".product-price").html("Rs. "+Snapdeal.utility.commafy(G.primaryVendor["sellingPrice"]));if(G.primaryVendor["walletCashBackValueInt"]){var H=E.find(".cashback-section");H.find(".cashback-color").html("Rs. "+Snapdeal.utility.commafy(G.primaryVendor["walletCashBackValueInt"]));H.find(".effective-price-color").html("Rs. "+Snapdeal.utility.commafy(G.primaryVendor["sellingPrice"]-G.primaryVendor["walletCashBackValueInt"]));H.removeClass("hidden")}else{E.find(".cashback-section").addClass("hidden")}});A.hardBundlePDPContainer.on("click","#primaryBundleBuy",function(){Snapdeal.Cookie.set("track","RID=hardBundling_"+$(this).attr("data-buyBtn"));var G=Snapdeal.buyNowTellMeTile.checkAttrSelection();if(G){if(B._primaryArray.length){buyArr=[];var I=$("#add-cart-button-id").length?$("#add-cart-button-id"):$(".buyFMCGNow:eq(0)");buyArr.push({cartId:Snapdeal.Cookie.get("cartId"),catId:$("#catId").val(),catalogId:I.attr("catalog"),supc:I.attr("supc"),vendorCode:I.attr("vendorcode"),bundleType:Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails().length>0?"SOFT":"HARD",bundleId:I.attr("supc"),heroItem:true});var E=JSON.parse(JSON.stringify(B._primaryArray));for(var F=0;F<E.length;F++){delete E[F].price;delete E[F].cashBack;delete E[F].name;buyArr.push(E[F])}var H=Snapdeal.softBundling&&JSON.parse(JSON.stringify(Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails()));if(H&&H.length>0){for(var F=0;F<H.length;F++){delete H[F].price;buyArr.push(H[F])}}Snapdeal.shoppingCart.addProductsToCart({products:buyArr});Snapdeal.omni.fire("addToCartHardBundling",{catalogId:I.attr("catalog"),vendorCode:I.attr("vendorcode"),buyBtnOrder:"hardBundleBuy_1"})}else{console.log("select product")}}});A.bundlingSidebarModalCont.on("click","#secondaryBundleBuy",function(){Snapdeal.Cookie.set("track","RID=hardBundling_"+$(this).attr("data-buyBtn"));var J=Snapdeal.softBundling&&JSON.parse(JSON.stringify(Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails()));var L=J.length>0?J.length:0;var K=B._primaryArray.length+B._secondaryArray[0].length+B._secondaryArray[1].length+B._secondaryArray[2].length+L;if(K){buyArr=[];var G=$("#add-cart-button-id").length?$("#add-cart-button-id"):$(".buyFMCGNow:eq(0)");buyArr.push({cartId:Snapdeal.Cookie.get("cartId"),catId:$("#catId").val(),catalogId:G.attr("catalog"),supc:G.attr("supc"),vendorCode:G.attr("vendorcode"),bundleType:Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails().length>0?"SOFT":"HARD",bundleId:G.attr("supc"),heroItem:true});var M=JSON.parse(JSON.stringify(B._secondaryArray));for(var F=0;F<M.length;F++){for(var E=0;E<M[F].length;E++){delete M[F][E].price;delete M[F][E].cashBack;buyArr.push(M[F][E])}}var H=JSON.parse(JSON.stringify(B._primaryArray));for(var F=0;F<H.length;F++){delete H[F].price;delete H[F].cashBack;delete H[F].name;buyArr.push(H[F])}var J=Snapdeal.softBundling&&JSON.parse(JSON.stringify(Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails()));if(J&&J.length>0){for(var F=0;F<J.length;F++){delete J[F].price;buyArr.push(J[F])}}Snapdeal.shoppingCart.addProductsToCart({products:buyArr});Snapdeal.omni.fire("addToCartHardBundling",{catalogId:G.attr("catalog"),vendorCode:G.attr("vendorcode"),buyBtnOrder:"hardBundleBuy_2"});Snapdeal.sidebar.close();Snapdeal.shoppingCart.showCart()}else{if(K==0){var I=Snapdeal.offersPanel.getExchangeData();var G=$("#add-cart-button-id").length?$("#add-cart-button-id"):$(".buyFMCGNow:eq(0)");Snapdeal.shoppingCart.addToCart(G.attr("catalog"),G.attr("vendorcode"),G.attr("supc"),I.buyBackQuoteValue,I.buyBackQuoteId,I.buyBackQuoteName);Snapdeal.sidebar.close();Snapdeal.shoppingCart.showCart()}}});$("#cartModal").on("multipleItemsAddedToCart",function(E){Snapdeal.sidebar.close();Snapdeal.shoppingCart.showCart()})},_checkforSoldoutAndServiciability:function(){B._clickedElement.addClass("disabled-opaque");if(B._clickedType=="secondary"){var E=B._clickedElement.parents(".prod-tupple-combo");E.find("div:eq(0),div:eq(1),div:eq(2)").addClass("disabled-opaque");E.find(".serviceablitytError").removeClass("hidden")}else{var F=B._clickedElement.parents(".pdp-page-bundle");F.find(".col-xs-1,.col-xs-14,.col-xs-7").addClass("disabled-opaque");if(B._clickedElement.attr("soldout")=="true"){F.find(".serviceablitytError").removeClass("hidden").html("SOLD OUT")}else{F.find(".serviceablitytError").removeClass("hidden")}}},_clickedType:"",_primaryPogArr:[],_primaryArray:[],_secondaryArray:[[],[],[]],_primaryPriceArray:[],_secondaryChkBoxArray:[],_secondaryClickedParent:"",_primaryPayablePriceArray:[],_clickedElement:"",_hideLoader:function(){A.checkingServiceabilityPrimaryBundle.addClass("hidden");$(".checkingServiceabilitySecondaryBundle").addClass("hidden")},_updatePrimaryPayablePrice:function(){var N=$(".totalPayableAmt");var E=N.find(".cashback-color").attr("cashBack")?parseInt(N.find(".cashback-color").attr("cashBack")):0;var O=N.find(".effective-price-color").attr("effectivePrice")?parseInt(N.find(".effective-price-color").attr("effectivePrice")):0;var K=E;var R=O;var H=Snapdeal.utility.commafy(A.heroProductPrice);var L=B._primaryArray;var M=parseInt(A.heroProductPrice);var F=parseInt(A.heroProductPrice);for(var G=0;G<L.length;G++){H+=" + ";H+=Snapdeal.utility.commafy(L[G]["price"]);F+=parseInt(L[G]["price"]);E+=(L[G]["cashBack"])?parseInt(L[G]["cashBack"]):0}var Q=Snapdeal.softBundling&&JSON.parse(JSON.stringify(Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails()));if(Q&&Q.length){for(var G=0;G<Q.length;G++){H+=" + ";H+=Snapdeal.utility.commafy(Q[G]["price"]);F+=parseInt(Q[G]["price"])}}if(!(L.length>0||(Q&&Q.length))){F=M;E=K}else{H+=" ="}N.find(".heroProductPrice").html(Snapdeal.utility.commafy(F));var J=$(".calculatedPrimaryPayableAmt");var P=Q?Q.length:0;B._primaryArray.length+P?J.html(H).removeClass("hidden"):J.addClass("hidden");if(E>0){N.find(".cashback-color").html("Rs. "+Snapdeal.utility.commafy(E));N.find(".effective-price-color").html("Rs. "+Snapdeal.utility.commafy(F-E));N.find(".cashback-section").removeClass("hidden")}else{N.find(".cashback-section").addClass("hidden")}var I=$("#primaryBundleBuy");B._primaryArray.length?I.removeClass("disabled"):I.addClass("disabled")},_resetMethods:function(E){B._secondaryChkBoxArray=[];B._primaryArray=[];B._secondaryArray=[[],[],[]];B._startTab1=0;B._startTab2=0;B._startTab3=0;B._nextTab1=true;B._nextTab2=true;B._nextTab3=true;A.primaryComboProdCont.off("click.hardBundling");A.createComboLink.off("click.hardBundling");if(E){A.hardBundlePDPContainer.addClass("hidden")}},_createBundlingWidget:function(I,H,F,E){var G="";if(!B._checkPincodeAvailabe()){G=true}else{if(H.primaryVendor.o2oFulfilled&&(H.primaryVendor.fulfillmentModel=="O2O")){G=false}else{if(A.pdpType=="automobiles"){G=false}else{G=H.primaryVendor.isStdAvailable}}}if(G){B._resetMethods(false);B._windowLoadEvents("getBundleResponsePrimary",1,null,0,2,null)}else{A.hardBundlePDPContainer.addClass("hidden");B._resetMethods()}},_updateSecondaryPayablePriceOnLoad:function(){var M=$(".totalPayableAmt-secondary");var E=M.find(".cashback-color").attr("cashBack")?parseInt(M.find(".cashback-color").attr("cashBack")):0;var N=M.find(".effective-price-color").attr("effectivePrice")?parseInt(M.find(".effective-price-color").attr("effectivePrice")):0;var J=E;var P=N;var H=Snapdeal.utility.commafy(A.heroProductPrice);var K=B._primaryArray;var L=parseInt(A.heroProductPrice);var F=parseInt(A.heroProductPrice);for(var G=0;G<K.length;G++){H+=" + ";H+=Snapdeal.utility.commafy(K[G]["price"]);F+=parseInt(K[G]["price"]);E+=(K[G]["cashBack"])?parseInt(K[G]["cashBack"]):0}var O=Snapdeal.softBundling&&JSON.parse(JSON.stringify(Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails()));if(O&&O.length){for(var G=0;G<O.length;G++){H+=" + ";H+=Snapdeal.utility.commafy(O[G]["price"]);F+=parseInt(O[G]["price"])}}if(!(K.length>0||(O&&O.length))){F=L;E=J}else{H+=""}var I=$(".payable-prices-display");B._primaryArray.length?I.html("("+H+")").removeClass("hidden"):I.addClass("hidden");M.find(".heroProductPrice").html(Snapdeal.utility.commafy(F));if(E>0){M.find(".cashback-color").html("Rs. "+Snapdeal.utility.commafy(E));M.find(".effective-price-color").html("Rs. "+Snapdeal.utility.commafy(F-E));M.find(".cashback-section").removeClass("hidden")}else{M.find(".cashback-section").addClass("hidden")}},_updateSecondaryPayablePrice:function(){var Q=$(".totalPayableAmt-secondary");var E=Q.find(".cashback-color").attr("cashBack")?parseInt(Q.find(".cashback-color").attr("cashBack")):0;var R=Q.find(".effective-price-color").attr("effectivePrice")?parseInt(Q.find(".effective-price-color").attr("effectivePrice")):0;var N=E;var U=R;var L=Snapdeal.utility.commafy(A.heroProductPrice);var K=B._secondaryArray;var O;var P=parseInt(A.heroProductPrice);var G=parseInt(A.heroProductPrice);var J;O=B._primaryArray;for(var I=0;I<O.length;I++){L+=" + ";L+=Snapdeal.utility.commafy(O[I]["price"]);G+=parseInt(O[I]["price"]);E+=(O[I]["cashBack"])?parseInt(O[I]["cashBack"]):0}if(!(O.length>0)){G=P;E=N}for(var I=0;I<K.length;I++){O=K[I];for(var H=0;H<O.length;H++){L+=" + ";L+=Snapdeal.utility.commafy(O[H]["price"]);G+=parseInt(O[H]["price"]);E+=(O[H]["cashBack"])?parseInt(O[H]["cashBack"]):0}}var T=Snapdeal.softBundling&&JSON.parse(JSON.stringify(Snapdeal.softBundling&&Snapdeal.softBundling.getSoftBundleDetails()));if(T&&T.length){for(var I=0;I<T.length;I++){L+=" + ";L+=Snapdeal.utility.commafy(T[I]["price"]);G+=parseInt(T[I]["price"])}}if(!(K[0].length>0||K[1].length>0||B._primaryArray.length>0||(T&&T.length))){G=P;E=N}else{L+=""}Q.find(".heroProductPrice").html(Snapdeal.utility.commafy(G));var S=T?T.length:0;var M=$(".payable-prices-display");(B._primaryArray.length+B._secondaryArray[0].length+B._secondaryArray[1].length+B._secondaryArray[2].length+S)?M.html("("+L+")").removeClass("hidden"):M.addClass("hidden");if(E>0){Q.find(".cashback-color").html("Rs. "+Snapdeal.utility.commafy(E));Q.find(".effective-price-color").html("Rs. "+Snapdeal.utility.commafy(G-E));Q.find(".cashback-section").removeClass("hidden")}else{Q.find(".cashback-section").addClass("hidden")}var F=$("#comboheadersecondary");if((B._primaryArray.length+B._secondaryArray[0].length+B._secondaryArray[1].length+B._secondaryArray[2].length)>1){F.html((B._primaryArray.length+B._secondaryArray[0].length+B._secondaryArray[1].length+B._secondaryArray[2].length)+" Products Added")}else{if((B._primaryArray.length+B._secondaryArray[0].length+B._secondaryArray[1].length+B._secondaryArray[2].length)==0){F.html("No Product Added")}else{F.html((B._primaryArray.length+B._secondaryArray[0].length+B._secondaryArray[1].length+B._secondaryArray[2].length)+" Product Added")}}},_startTab1:0,_startTab2:0,_startTab3:0,_countTab:24,_nextTab1:true,_nextTab2:true,_nextTab3:true,_attachSliderSecondayPage:function(E){E.each(function(G,H){D.sliderModal[$($(E)[G]).attr("id")]=$(H).bxSlider({prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',minSlides:1,maxSlides:4,slideWidth:250,slideMargin:1,moveSlides:3,moveSlideQty:3,pager:false,infiniteLoop:false,useCSS:false,startSlide:0,onSlideNext:function(K,J,I){B._getProductOnPagination(K.context)}});var F=$(this).attr("id");if($(this).find(".prod-tupple-combo").length>0){$(".tab-heading[data-heading='"+F+"']").removeClass("hidden")}else{$(".tab-heading[data-heading='"+F+"']").addClass("hidden")}})},_reloadSliderSecondayPage:function(F){var E=F.getCurrentSlide();F.reloadSlider({prevText:'<span><i class="sd-icon sd-icon-previous"></i></span>',nextText:'<span><i class="sd-icon sd-icon-next"></i></span>',minSlides:1,maxSlides:4,slideWidth:250,slideMargin:1,moveSlides:3,moveSlideQty:3,pager:false,infiniteLoop:false,useCSS:false,startSlide:E,onSlideNext:function(I,H,G){B._getProductOnPagination(I.context)}})},_primaryHardBundleJson:"",_secondaryHardBundleJson:"",_windowLoadEvents:function(Q,H,G,E,L,F){var K=H;var O=(K==1)?A.primaryComboProdCont:A.bundlingSidebarModalCont;O.empty();var I="?supc="+A.defaultSupc+"&bundleType=hard&pogId="+A.pogId+"&index="+K+"&start="+E+"&count="+L;if(F){var P=$($("#primaryComboProd").find(".primaryPage")[0]).attr("pogid");var N=$($("#primaryComboProd").find(".primaryPage")[1]).attr("pogid");if(!!P&&!!N){I+="&index="+F+"&pogArr="+P+"&pogArr="+N}else{var J=P?P:N;I+="&index="+F+"&pogArr="+J}}if(G){I+="&index="+G}var M=Snapdeal.getAjaxResourcesPath("/"+Q+I);$.ajax({url:M,type:"GET",dataType:"html",success:function(V){O.off("click.hardBundling","label.prod-combo");O.off("click.hardBundling",".product-title-bundlingDesc");O.off("click.hardBundling",".closeSecondaryOldCheckBox");O.off("click.hardBundling","#createComboLink");O.html(V);if(JSON.parse(O.find(".attrJson").html()).length>0){lazySrc();O.on("click.hardBundling","label.prod-combo",B._setCheckBoxChecked);A.comboAttrContainer=$("#combo-attribute-container");O.on("click.hardBundling",".product-title-bundlingDesc",B._openModalForProdDesc);O.on("click.hardBundling",".closeSecondaryOldCheckBox",B._closeSecondaryOldCheckBox);var U="";if(K==1){Snapdeal.omni.fire("hardBundlingWidget",{position:A.catalogId});$(".hardbundle-link").removeClass("disabled-opaque hidden");O.parent().removeClass("hidden");Snapdeal.floatingBuy.updateSponsoredBlkOffset(true,O.outerHeight());A.hardBundlePDPContainer.find(".hard-bundle-text").html($("#primaryWidgetTabName").val());O.on("click.hardBundling","#createComboLink",B._openSideBarModalForCombo);A.heroProductPrice=$(".totalPayableAmt .heroProductPrice").attr("price");if(!B._primaryHardBundleJson){U=$("#primaryHardBundleJson").html();B._primaryHardBundleJson=U?$.parseJSON(U):U}}else{B._startTab1++;B._startTab2++;B._startTab3++;var S="";for(var T=0;T<B._primaryArray.length;T++){S+='<li class="col-xs-12"><i class="sd-icon sd-icon-checkmark"></i><div class="primaryComboRow clearfix"><span class="name" title="'+B._primaryArray[T]["name"]+'">'+B._primaryArray[T]["name"]+'</span><span class="price color-black">(Rs.'+B._primaryArray[T]["price"]+")</span></div></li>"}if(B._primaryArray.length){$("#primarySelectedInfo-divider").removeClass("hidden");O.find("#primarySelectedInfo").html(S).removeClass("hidden")}Snapdeal.utility.hidePageLoader();var R="More Options For You <span id='comboheadersecondary'>"+(B._primaryArray.length>1?(B._primaryArray.length+" Products"):(B._primaryArray.length==0?"No Product":B._primaryArray.length+" Product"))+" Added</span>";Snapdeal.sidebar.open($("#bundlingSideBarModalWrapper"),R,"hardBundling-common-modal");B._attachSliderSecondayPage($(".secondary-prod-bxslider"));if(!B._secondaryHardBundleJson){A.heroProductPrice=$(".totalPayableAmt-secondary .heroProductPrice").attr("price");U=$("#secondaryHardBundleJson").html();B._secondaryHardBundleJson=U?$.parseJSON(U):U}$(".view-combo-added").on("click",B._hideShowComboProdAdded);B._updateSecondaryPayablePriceOnLoad()}}else{if(K==1){$(".hardbundle-link").addClass("disabled-opaque hidden");if(document.readyState==="complete"){$("body").trigger("hardBundleNotPresent",[])}else{$(window).on("load",function(){$("body").trigger("hardBundleNotPresent",[])})}}}}})},_closeSecondaryOldCheckBox:function(){var E=$(this);var F=E.parents(".combo-attribute-container");F.html("");F.addClass("hidden");if(B._clickedType=="primary"){F.siblings(".labelCont").find("label").toggleClass("chkBoxChecked")}else{F.siblings(".sdCheckbox").find("label").toggleClass("chkBoxChecked")}},_isLoadingNewData:false,_getProductOnPagination:function(I){var H=$(".sidebarin-content");var E=H.scrollTop();if(B._isLoadingNewData){return }var F=I.getAttribute("id");var G=parseInt(F.substring(F.length-1))+2;if((G==1&&(!B._nextTab2||B._startTab2>4))||(G==2&&(!B._nextTab2||B._startTab2>4))||(G==3&&(!B._nextTab3||B._startTab3>4))){return }B._isLoadingNewData=true;$.ajax({url:Snapdeal.getAjaxResourcesPath("/getBundleResponseSecondary?supc="+A.defaultSupc+"&bundleType=hard&pogId="+A.pogId+"&index="+G+"&start="+(G==2?B._startTab2:B._startTab3)+"&count="+B._countTab),type:"GET",dataType:"html",success:function(N){B._isLoadingNewData=false;$("body").append(N);var L=$("#secondaryHardBundlePaginationJson").html();var M=L.length?$.parseJSON(L)[0]:L;if(M&&M.length>0){(G==2?B._startTab2++:B._startTab3++);$(I).append($("#sliderProdTupple").html());var K=$(I).attr("data-sliderIndex");var J=D.sliderModal[$(I).attr("id")];$.merge(B._secondaryHardBundleJson[K],M);B._reloadSliderSecondayPage(J);H.scrollTop(E,0);$("#sliderProdTupple").remove();$("#secondaryHardBundlePaginationJson").remove()}if(M&&M.length<B._countTab){((G==2)?(B._nextTab2=false):(B._nextTab3=false))}},error:function(){B._isLoadingNewData=false}})},_getProductDescription:function(I,G,L){var N=G;var E=I;var K=L.attr("pogId");var H=L.parents(".descriptionCont").attr("data-tabIndex");var J=$(".hardBundleComboPDP");var F=L.parents(".commonCont").find(".sdCheckbox label");Snapdeal.omni.fire("Bundleproductdetails",{position:A.catalogId+"_tab_"+H});var M=Snapdeal.getAjaxResourcesPath("/getProductContentById?pogId="+K);$.ajax({url:M,type:"GET",dataType:"html",success:function(P){N.html(P);A.bundlingSidebarModalCont.off("click",".spec-title-wrp");N.parent().addClass("openModal");lazySrc();var O=$("#bundlingSidebarModal .bx-slider-check");B._prodImgSlider=O.bxSlider({pagerCustom:"#bx-pager-check",mode:"fade",nextText:"",prevText:"",controls:false});if(E!="primaryPage"){$(".opacity-grey").removeClass("hidden")}$("#close-productInfo").on("click",function(){$(".productInfo-subModal-bundling").removeClass("openModal");$(".opacity-grey").addClass("hidden")});$(".js-selection").on("click",function(){if(E!="primaryPage"){$(".productInfo-subModal-bundling").removeClass("openModal");$(".opacity-grey").addClass("hidden")}B._clickToSelection(F)});A.bundlingSidebarModalCont.on("click",".spec-title-wrp",B._accordionExpandCollapse)}})},_clickToSelection:function(E){if(!E.is(".chkBoxChecked")){B._setCheckBoxChecked(E,true)}if(E.attr("clickType")=="primary"){Snapdeal.sidebar.close()}},_hideShowComboProdAdded:function(){var E=$(this);if(E.hasClass("expanded")){E.removeClass("expanded").addClass("collapsed");$("#primarySelectedInfo").removeClass("height65").addClass("hgt-auto");E.find("label").html("View Less");E.find("i").removeClass("sd-icon-expand-arrow").addClass("sd-icon-collapse-arrow")}else{E.removeClass("collapsed").addClass("expanded");$("#primarySelectedInfo").removeClass("hgt-auto").addClass("height65");E.find("label").html("View More");E.find("i").removeClass("sd-icon-collapse-arrow").addClass("sd-icon-expand-arrow")}},_openSideBarModalForCombo:function(){B._secondaryChkBoxArray=[];B._secondaryArray=[[],[],[]];B._startTab1=0;B._startTab2=0;B._startTab3=0;B._nextTab1=true;B._nextTab2=true;B._nextTab3=true;var E=Snapdeal.buyNowTellMeTile.checkAttrSelection();if(E){Snapdeal.utility.displayPageLoader();Snapdeal.omni.fire("hardBundlingCreateCombo",{position:A.catalogId});B._windowLoadEvents("getBundleResponseSecondary",2,3,B._startTab2,B._countTab,1)}},_openModalForProdDesc:function(){var E=$(this);var F=E.attr("data-pageType");var G=$(".productInfo-subModal-Container");if(F=="primaryPage"){B._getProductDescription(F,A.bundlingSidebarModalCont,E);Snapdeal.sidebar.open($("#bundlingSideBarModalWrapper"),"Product Description","hardBundling-common-modal")}else{B._getProductDescription(F,G,E)}},_accordionExpandCollapse:function(){$(this).parent().toggleClass("expanded collapsed").find(".spec-body").slideToggle("fast")},_secondaryOldCheckBox:"",_updateComboProdAddedCont:function(){$(".secondaryProdDesc").remove();var F="";for(var E=0;E<B._secondaryChkBoxArray.length;E++){F+='<li class="secondaryProdDesc col-xs-12"> <i class="sd-icon sd-icon-checkmark"></i><div class="primaryComboRow clearfix"><span class="name" title="'+B._secondaryChkBoxArray[E]["secProdLabel"]+'">'+B._secondaryChkBoxArray[E]["secProdLabel"]+'</span><span class="price color-black">(Rs. '+B._secondaryChkBoxArray[E]["secProdPrice"]+")</span></div></li>"}if(B._secondaryChkBoxArray.length){if(B._secondaryChkBoxArray.length+B._primaryArray.length>4){$(".view-combo-added").removeClass("hidden")}else{$(".view-combo-added").addClass("hidden collapsed").removeClass("expanded")}$("#primarySelectedInfo-divider").removeClass("hidden");$("#primarySelectedInfo").append(F).removeClass("hidden")}else{if(B._primaryArray.length>0){$("#primarySelectedInfo-divider").removeClass("hidden")}else{$("#primarySelectedInfo-divider").addClass("hidden")}}},_setCheckBoxChecked:function(O,P){var R;if(!!P){R=O}else{R=$(O.target)}B._clickedElement=R;B._clickedType=R.attr("clickType");if(R.hasClass("disabled-opaque")){return }if(B._clickedType=="primary"){var I=Snapdeal.buyNowTellMeTile.checkAttrSelection();if(!I){return }}B._secondaryClickedParent=R.attr("clickedIndexParent");var M=R.attr("data-identifier");var Q=R.parent().find("input");R.toggleClass("chkBoxChecked");var K="";var J="";var G="";if(R.is(".chkBoxChecked")){if(B._clickedType=="primary"){G=B._primaryHardBundleJson[+B._secondaryClickedParent][R.attr("clickedIndex")]}else{if(B._clickedType=="secondary"){G=B._secondaryHardBundleJson[+B._secondaryClickedParent][R.attr("clickedIndex")];if(B._secondaryOldCheckBox&&!(B._secondaryOldCheckBox.siblings(".comboProduct").attr("checked")=="checked")&&!(B._clickedElement.is(B._secondaryOldCheckBox))){B._secondaryOldCheckBox.toggleClass("chkBoxChecked");var H=B._secondaryOldCheckBox.parents(".sdCheckbox").siblings(".combo-attribute-container");H.html("");H.addClass("hidden")}B._secondaryOldCheckBox=R}}if(G&&G.length){K=Snapdeal.attributesTile.createFirstLevelAttrNonPdpPage(G,false,true,R.attr("catId"),R.attr("catUrl"),R.attr("brandName"),B._clickedType);J=R.parents(".feature-grid-layout").find("div[data-identifier='"+M+"']");J.html(K[0]);J.removeClass("hidden")}else{if(B._clickedType=="primary"){A.checkingServiceabilityPrimaryBundle.removeClass("hidden")}else{if(B._clickedType=="secondary"){$(".checkingServiceabilitySecondaryBundle").removeClass("hidden")}}Snapdeal.attributesTile.getNewVendorData(R.attr("supc"),R.attr("catId"),B._checkPincodeAvailabe(),R.attr("catUrl"),R.attr("brandName"),0,1,true,false,false,false,true)}}else{Q.removeAttr("checked");var N=R.attr("supc");var F="";var E="";F=B._secondaryChkBoxArray;if(B._clickedType=="primary"){E=B._primaryArray}else{if(B._clickedType=="secondary"){E=B._secondaryArray[B._secondaryClickedParent];if(B._secondaryOldCheckBox&&!(B._secondaryOldCheckBox.siblings(".comboProduct").attr("checked")=="checked")&&!(B._clickedElement.is(B._secondaryOldCheckBox))){B._secondaryOldCheckBox.toggleClass("chkBoxChecked");var H=B._secondaryOldCheckBox.parents(".sdCheckbox").siblings(".combo-attribute-container");H.html("");H.addClass("hidden")}B._secondaryOldCheckBox=R}}for(var L=0;L<F.length;L++){if(F[L]["secProdSUPC"]==N){F.splice(L,1);break}}B._secondaryChkBoxArray=F;for(var L=0;L<E.length;L++){if(E[L]["supc"]==N){E.splice(L,1);break}}if(B._clickedType=="primary"){B._updatePrimaryPayablePrice()}else{if(B._clickedType=="secondary"){B._updateSecondaryPayablePrice()}}B._updateComboProdAddedCont()}},_checkServiceability:function(F,E){if(F.primaryVendor&&F.primaryVendor.isStdAvailable&&!F.primaryVendor.o2oFulfilled&&!(F.primaryVendorfulfillmentModel=="O2O")){return true}return false}};C={init:function(){return B._init.apply(this,arguments)},resetBundlingContainer:function(){return B._resetMethods.apply(this,arguments)},hideLoader:function(){return B._hideLoader.apply(this,arguments)},checkPincodeAvailabe:function(){return B._checkPincodeAvailabe.apply(this,arguments)},primaryArray:function(){return B._primaryArray},secondaryArray:function(){return B._secondaryArray},updatePrimaryPayablePrice:function(){return B._updatePrimaryPayablePrice(this,arguments)},updateSecondaryPayablePrice:function(){return B._updateSecondaryPayablePrice(this,arguments)}};return C})(Window.jQuery,Snapdeal);Snapdeal.hardBundling.init()};
var Snapdeal=Snapdeal||{};Snapdeal.fMCGProductBuy=(function(F,E){var D,C,A,G,B;G={succesMsg:"",errorMsg:"Something went wrong, please try again.",updateErrorMsg:"Sorry! Item quantity could not be updated. Please try again later or continue without updating.",addCartErrorMsg:"Sorry, unable to add item to your cart at this moment. Please try again later.",removeCartErrorMsg:"Sorry! Item could not be removed. Please try again later or continue without removing.",showCartErrorMsg:"Sorry, unable to show your cart at this moment. Please try again later.",quantityErrorMsg:"Sorry! You can not add more items to the cart. Please remove some items from cart to continue.",updateSuccessMsg:"Updated successfully",removeSuccessMsg:"Product removed successfully",errorClassName:"error-msg",toastDisplayTimeInMiliSec:2000,buttonFadeInTime:500,maxFMCGQuantity:F("#maxFMCGQuantity").val()?+F("#maxFMCGQuantity").val().trim():0};A={$pdpMiddleFMCG:F("#pdpFMCGBuyBlock"),$floatingBuyFMCG:F("#floatingFMCGBuyBlock"),cartId:Snapdeal.Cookie.get("cartId")||"",productDetailsObject:{catalogId:F("#catalogId").val()||"",vendorCode:F("#primaryVendorCode").val()||"",supc:F("#defaultSupc").text()||"",productName:F("#productNamePDP").val()||"",productImage:F(".floating-buy-wrapper img.tileImg").attr("src")||F(".floating-buy-wrapper img.tileImg").attr("lazySrc")||"",qty:F("#fmcgAddedQuantity").val()==0?1:F("#fmcgAddedQuantity").val(),maxQuantityAllowed:0,},shoppingListSwitch:F("#shoppingListSwitch").val()==="true"?true:false};C={_init:function(H){if(F("#isProductFMCG").val()==="true"){B=F.extend(true,{},G,H);C._bindEvents()}},_bindEvents:function(){A.$pdpMiddleFMCG.find(".pdp-quantity").on("click",function(H){C._changeQuantityController(F(this))});A.$floatingBuyFMCG.find(".pdp-quantity").on("click",function(H){C._changeQuantityController(F(this))});A.$pdpMiddleFMCG.find(".buyFMCGNow").on("click",function(H){C._addToCartController()});A.$floatingBuyFMCG.find(".buyFMCGNow").on("click",function(H){C._addToCartController()});A.$pdpMiddleFMCG.find(".update-quantity").on("click",function(H){C._updateItemController(F(this))});A.$floatingBuyFMCG.find(".update-quantity").on("click",function(H){C._updateItemController(F(this))});F(document).on("addItemToCart",function(I,H){C._addToCartOperations(H.data)});F(document).on("updateQuantityCartItem",function(I,H){C._updateCartOperations(H.data)});F(document).on("removeCartItem",function(I,H){C._removeCartOperations(H.data,H.obj)});F(document).on("cartItemUpdation",function(H,I){C._cartOperationsHandler(I)});F("#sdHeader").on("userLoggedIn",function(H){if(A.shoppingListSwitch){C._updateReorderBanner()}})},_changeQuantityController:function(I){var H=C._changeQuantityCount(I);if(H<0){return }C._changeQuantityUpdate(A.$pdpMiddleFMCG);C._changeQuantityUpdate(A.$floatingBuyFMCG)},_changeQuantityCount:function(I){if(I.hasClass("disable-count-arrow")){return -1}var H=A.productDetailsObject;if(I.hasClass("pdp-quantity-up")){H.qty=++H.qty}else{if(I.hasClass("pdp-quantity-down")){H.qty=--H.qty}}if(H.qty<=0){H.qty=1}return 1},_changeQuantityUpdate:function(K){var I=A.productDetailsObject;var M=K.find(".buy-quantity"),L=M.find(".buy-quantity-count"),H=I.qty,J=G.maxFMCGQuantity,N=1;if(H===N){L.text(I.qty);M.find(".pdp-quantity-down").addClass("disable-count-arrow");M.find(".pdp-quantity-up").removeClass("disable-count-arrow")}else{if(J>0&&H===J){M.find(".pdp-quantity-up").addClass("disable-count-arrow")}else{M.find(".pdp-quantity-up").removeClass("disable-count-arrow")}L.text(I.qty);M.find(".pdp-quantity-down").removeClass("disable-count-arrow")}},_addToCartController:function(){var I=A.productDetailsObject,J=C._omnitureAddToCart();var H=Snapdeal.shoppingCart.getCartJsonData("addItemToCart",I,true,{},J)},_addToCartOperations:function(I){if(I!=null&&I.cartSRO!=null){if(A.cartId==""){A.cartId=Snapdeal.Cookie.get("cartId")}var H=C._checkForMaxQuantity(I);if(H){C._addToCartQuantityUpdate(A.$pdpMiddleFMCG);C._addToCartQuantityUpdate(A.$floatingBuyFMCG)}}},_addToCartQuantityUpdate:function(H){H.find(".add-to-cart").fadeOut(G.buttonFadeInTime);H.find(".added-to-cart").delay(G.buttonFadeInTime).fadeIn(G.buttonFadeInTime,function(){F(".pdp-fmcg-buy-block").removeClass("add-to-cart-visible")});H.find(".updated-quantity-number").text(A.productDetailsObject.qty)},_updateItemController:function(K){var H,J={};if(K.hasClass("disable-count-arrow")){return false}var I=A.productDetailsObject,H="";if(K.hasClass("update-quantity-up")){I.qty=+I.qty+1}else{if(K.hasClass("update-quantity-down")){I.qty=+I.qty-1}}J.catalogId=I.catalogId;J.pageName=F("body").attr("data-pagename")||"";if(I.qty===0){H=Snapdeal.shoppingCart.getCartJsonData("removeCartItem",I,true,{},J)}else{if(I.qty>0){J.qty=I.qty;H=Snapdeal.shoppingCart.getCartJsonData("updateQuantityCartItem",I,true,{},J)}}},_removeCartOperations:function(I,J){if(I!=null&&I.cartSRO!=null){if(J==null||(J.isRemoved!=null&&J.isRemoved==false)){J.isRemoved=true;return }var H=C._checkForFMCGBasket(I);A.productDetailsObject.qty=1;C._removeCartSuccess(A.$pdpMiddleFMCG);C._removeCartSuccess(A.$floatingBuyFMCG)}},_removeCartSuccess:function(H){H.find(".added-to-cart").fadeOut(G.buttonFadeInTime);H.find(".add-to-cart").delay(G.buttonFadeInTime).fadeIn(G.buttonFadeInTime);H.find(".buy-quantity-count").text("1");H.find(".pdp-quantity-down").addClass("disable-count-arrow").end().find(".pdp-quantity-up").removeClass("disable-count-arrow");F(".pdp-fmcg-buy-block").addClass("add-to-cart-visible")},_updateCartOperations:function(I){if(I!=null&&I.cartSRO!=null){var H=C._checkForMaxQuantity(I);if(H){C._updateProductCount(A.$pdpMiddleFMCG);C._updateProductCount(A.$floatingBuyFMCG)}else{A.productDetailsObject.qty=1;C._removeCartSuccess(A.$pdpMiddleFMCG);C._removeCartSuccess(A.$floatingBuyFMCG)}}},_updateProductCount:function(H){H.find(".updated-quantity-number").text(A.productDetailsObject.qty)},_updateCartCount:function(H){if(!(H>=0)){return }F("#cartModal").trigger("updateCartQty",{cartQty:H});Snapdeal.Cookie.set("cartQty",H,1000)},_checkForMaxQuantity:function(N){if(N.cartSRO.baskets==null){return }var L=C._checkForFMCGBasket(N);if(L==null||L.length==0){return }var K=L,J=K.length,H=false,M=A.productDetailsObject;for(var I=0;I<J;I++){if(K[I].supc==M.supc){C._updateButtonsCheck(K[I].quantity,K[I].maxUnitsAllowed,A.$pdpMiddleFMCG);C._updateButtonsCheck(K[I].quantity,K[I].maxUnitsAllowed,A.$floatingBuyFMCG);H=true;break}}return H},_checkForFMCGBasket:function(L){var N=L.cartSRO,M=N.baskets,H,O,P,I,J,Q=0,K=0;M=M?Snapdeal.Utils.fixArray(M):[],O=M.length;K=N.cartItem?Snapdeal.Utils.fixArray(N.cartItem).length:0;if(O){for(H=0;H<O;H++){if(M[H].basketType=="FMCG"){P=M[H];break}}}if(P){I=P.basketItems?Snapdeal.Utils.fixArray(P.basketItems):[],Q=I.length,K=K+Q}C._updateCartCount(K);return I},_updateButtonsCheck:function(K,J,I){var H=A.productDetailsObject;if(K>=J){H.qty=J;I.find(".update-quantity-up").addClass("disable-count-arrow")}else{H.qty=K;I.find(".update-quantity-up").removeClass("disable-count-arrow")}},_toastMsgString:function(J){var I="";try{I='<div class="msgToast"><span >'+J+"</span></div>"}catch(H){I=G.errorMsg}return I},_opentCartFromContinue:function(){Snapdeal.shoppingCart.showCart("",true)},_cartOperationsHandler:function(J){if(J==null){return }var H=J.url,I=J.supc,K=J.qty,L=J.maxUnits;switch(H){case"updateListQuanity":C._updateProductQuantity(I,K,L);break;case"removeListQuanity":C._removeProductQuantity(I);break;default:break}},_updateProductQuantity:function(H,I,J){C._updateButtonsCheck(I,J,A.$pdpMiddleFMCG);C._updateButtonsCheck(I,J,A.$floatingBuyFMCG);C._updateProductCount(A.$pdpMiddleFMCG);C._updateProductCount(A.$floatingBuyFMCG)},_removeProductQuantity:function(H){C._removeCartSuccess(A.$pdpMiddleFMCG);C._removeCartSuccess(A.$floatingBuyFMCG);A.productDetailsObject.qty=1},_omnitureAddToCart:function(){var I=A.productDetailsObject,H=A.$pdpMiddleFMCG.find(".buyFMCGNow");var J={quantity:I.qty,basketId:"true",pageName:F("body").attr("data-pagename"),catalogId:F("#catalogId").val(),categoryUrl:F("#catUrl").val(),prebook:F("#prebook").val(),live:F("#live").val(),vendorCode:H.attr("vendorcode"),vendorScore:H.attr("vendorscore"),buyBtnOrder:"addToCartFMCG",shippingCharges:H.attr("shippingcharges"),cashBackValue:F("#pdpWalletCashBackOmni").val()||0,};return J},_updateReorderBanner:function(){var H="/json/getfmcgpdpmessage?pogId="+F("#pogId").val();F.ajax({url:H,type:"GET",success:function(I){if(I&&I.trim()){F(".comp-product-description").prepend('<div class="pdp-reorder-wrapper"><div class="pdp-reorder-banner"><span class="pdp-reorder-alert">Re-order</span><div class="pdp-reorder-text">'+I+"</div></div></div>")}},error:function(){}})}};D={init:function(){return C._init.apply(this,arguments)}};return D})(window.jQuery,Snapdeal);$(window).load(function(){Snapdeal.fMCGProductBuy.init()});
if($("#pdpType").val()!="automobiles"&&$("#productLifeState").val()=="buyType"&&$("#softBundlingEnabledId").val()=="true"){var Snapdeal=Snapdeal||{};Snapdeal.softBundling=(function(){var C,A,B,D;dataObj={softBundleData:[]};A={softBundleDiv:document.getElementById("softBundleDiv"),softBundleAddOnDiv:$(".additional-services"),attrOptions:$("#product-attr-options"),bundlingSidebarModalCont:$(".soft-installation"),softBundlingSection:$("#softBundlingSection"),errorMessageDiv:$(".not-serviceable")};B={_init:function(){B._bindEvents();B._attachEvents()},_prodImgSliderSoftBundle:"",_attachEvents:function(){A.softBundlingSection.on("softBundlingServicibilityHit",function(I,H,E,J){var G=J.target||J.srcElement;if(Snapdeal.hardBundling.checkPincodeAvailabe()!=""&&!B._checkServiceability(H,E)){$(G).removeClass("checked");$(G).addClass("disable-service");$(G).next().removeClass("hidden");Snapdeal.utility.hidePageLoader()}else{var F=$("#add-cart-button-id");dataObj.softBundleData.push({cartId:Snapdeal.Cookie.get("cartId"),catId:$("#catId").val(),catalogId:$(G).attr("catalogid"),supc:E,bundleType:"SOFT",vendorCode:H.primaryVendor["vendorCode"],price:H.primaryVendor["sellingPrice"],bundleId:F.attr("supc"),heroItem:false});Snapdeal.hardBundling.updatePrimaryPayablePrice();Snapdeal.hardBundling.updateSecondaryPayablePrice();Snapdeal.utility.hidePageLoader()}});A.attrOptions.on("productAttrSelected",function(G,F,E){});A.attrOptions.on("attributeClicked",function(){setTimeout(function(){var F=$("#add-cart-button-id");for(var E=0;E<dataObj.softBundleData.length;E++){dataObj.softBundleData[E]["bundleId"]=F.attr("supc")}},100)});A.softBundlingSection.on("pinCodeCheckOnSoftBundling",function(H,G,F){var E=$(".additional-services.checked");B._resetBundling();if(B._checkO2OServiceability(G,F)){$("#softBundlingSection").addClass("hidden")}else{$("#softBundlingSection").removeClass("hidden")}if(!B._checkO2OServiceability(G,F)&&E.length){E.trigger("click")}});if(!Snapdeal.hardBundling){$("#cartModal").on("multipleItemsAddedToCart",function(E){Snapdeal.sidebar.close();Snapdeal.shoppingCart.showCart()})}},_activeLinkHoverProdSoftBundle:function(H){H.preventDefault();var E=$(this).attr("data-slide-index");var G=$($(".bx-slider-check li")[E]);var F=G.find("img");F.attr("src",F.attr("hoverSrc"));F.removeAttr("hoverSrc");B._prodImgSliderSoftBundle.goToSlide(E)},_bindEvents:function(){$("body").on("mouseover click","#bundlingSidebarModalSoftProduct #bx-pager-check a",B._activeLinkHoverProdSoftBundle);A.softBundleAddOnDiv.on("click",function(E){if($(this).hasClass("disable-service")){return }if($(E.target).hasClass("view-details")){getOmnitureScript({catalogId:$(this).attr("catalogid"),installationType:$(this).data("softInstall")==true?$(this).data("freeInstall")==true?"free":"paid":"paid"},"viewDetailsSoftProduct");B._viewDetails(E,this,$(this).attr("pogId"))}else{B._setCheckBox(E,this)}})},_accordionExpandCollapse:function(){$(this).parent().toggleClass("expanded collapsed").find(".spec-body").slideToggle("fast")},_setCheckBox:function(H,E){if($(E).hasClass("disable-service")){return }var G=Snapdeal.buyNowTellMeTile.checkAttrSelection(true);if(!G){return }$(E).toggleClass("checked");if($(E).hasClass("checked")){Snapdeal.utility.displayPageLoader();B._getVendorInfo(H,E)}else{var F=$(E).attr("supc");B._removeSoftProduct(F);Snapdeal.hardBundling.updatePrimaryPayablePrice();Snapdeal.hardBundling.updateSecondaryPayablePrice();return }},_removeSoftProduct:function(F){for(var E=0;E<dataObj.softBundleData.length;E++){if(dataObj.softBundleData[E]["supc"]==F){dataObj.softBundleData.splice(E,1);break}}},_getVendorInfo:function(F,E){Snapdeal.attributesTile.getNewVendorData($(E).attr("supc"),$(E).attr("catId"),Snapdeal.hardBundling.checkPincodeAvailabe(),$(E).attr("catUrl"),$(E).attr("brandName"),0,1,true,false,false,false,true,true,F)},_checkServiceability:function(F,E){if(F.primaryVendor&&F.primaryVendor.isStdAvailable&&!F.primaryVendor.o2oFulfilled&&!(F.primaryVendorfulfillmentModel=="O2O")){return true}return false},_checkO2OServiceability:function(F,E){if(F.primaryVendor.o2oFulfilled&&F.primaryVendor.fulfillmentModel=="O2O"){return true}return false},_getSoftBundleDetails:function(){return dataObj.softBundleData},_resetBundling:function(){A.softBundleAddOnDiv.removeClass("checked");A.softBundleAddOnDiv.removeClass("disable-service");A.errorMessageDiv.addClass("hidden");dataObj.softBundleData.length=0},_viewDetails:function(I,E,H){var G=$(E).attr("data-soft-install")=="true"?true:false;var F=Snapdeal.getAjaxResourcesPath("/getProductContentById?pogId="+H+"&sdInstallFlag="+G+"&sdInstallFree="+$(E).attr("data-free-install"));$.ajax({url:F,type:"GET",dataType:"html",success:function(M){var K="Product Description";var L="hardBundling-common-modal	";$("#bundlingSidebarModalSoftProduct").off();$("#bundlingSidebarModalSoftProduct").empty();$("#bundlingSidebarModalSoftProduct").append(M);if(G){K="Installation and Demo Details";L="installation-modal"}Snapdeal.sidebar.open($(".softBundleDetails"),K,L);lazySrc();var J=$("#bundlingSidebarModalSoftProduct .bx-slider-check");B._prodImgSliderSoftBundle=J.bxSlider({pagerCustom:"#bx-pager-check",mode:"fade",nextText:"",prevText:"",controls:false});$(".hardBundling-common-modal").off("click.softBundling",".spec-title-wrp");$(".hardBundling-common-modal").on("click.softBundling",".spec-title-wrp",B._accordionExpandCollapse)}})}};C={init:function(){B._init.apply(this,arguments)},getSoftBundleDetails:function(){return B._getSoftBundleDetails(this,arguments)}};return C})(Snapdeal);Snapdeal.softBundling.init()};
if($("#policyEngineEnabledId").val()=="true"){var Snapdeal=Snapdeal||{};Snapdeal.policyEngine=(function(G,E){var D,C,A,H,B,F;H={};A={policyEngineOnSupc:G("#policyEngineOnSupc"),productAttrOptions:G("#product-attr-options"),pdpType:G("#pdpType").val(),policyRightCardCont:G("#policyEngineRightCard"),policyTooltipCont:G("#petooltip-cont")};C={_init:function(I){A.productAttrOptions.on("supcDescriptionFetched",function(K,J){C._createPolicyEngineWidget(K,J)})},_createPolicyEngineWidget:function(J,I){if(A.pdpType=="automobiles"||A.pdpType=="furniture"){if(G.trim(G(G(I)[0]).find("#policyEngineOnSupc").html()).length>0){A.policyTooltipCont.removeClass("hidden");A.policyTooltipCont.find("#policyengn-box-outer").empty().append(G(G(I)[0]).find("#policyEngineOnSupc").html())}else{A.policyTooltipCont.addClass("hidden")}}else{if(G.trim(G(I).html()).length>0){A.policyRightCardCont.removeClass("hidden");A.policyRightCardCont.empty().append(G(G(I)[0]).html())}else{A.policyRightCardCont.addClass("hidden")}}}};D={init:function(){return C._init.apply(this,arguments)}};return D})(window.jQuery,Snapdeal);Snapdeal.policyEngine.init()};
var Snapdeal=Snapdeal||{};Snapdeal.emiDetailWidget=(function(){var A,D,C,B=false,G=false,F="",E=$(".emiToolTp")[0];C={_init:function(){C._initCache();C._attachPdpAttrChangeHandler()},_initCache:function(){A={container:$("#emi-detail-list-widget")};A.labels=A.container.find(".bank-name");A.emiDetailsBlock=A.container.find(".emi-list-block");C._bindEvents()},_updateWorking:function(){B=false},_bindEvents:function(){A.labels.on("click",function(){var H=$(this);if(!B){B=true;if(H.hasClass("open")){H.next().slideUp("ease",C._updateWorking);H.removeClass("open").find("i").removeClass("sd-icon-collapse-arrow").addClass("sd-icon-expand-arrow")}else{A.labels.filter(".open").removeClass("open").find("i").removeClass("sd-icon-collapse-arrow").addClass("sd-icon-expand-arrow").end().next().hide();H.next().slideDown("ease",function(){C._updateWorking();A.container.animate({scrollTop:H.position().top+A.container.scrollTop()},"500","swing")});H.addClass("open").find("i").removeClass("sd-icon-expand-arrow").addClass("sd-icon-collapse-arrow")}}})},_attachPdpAttrChangeHandler:function(){$("#product-attr-options").on("productAttrSelected productAttrSelectedAutoPin",function(I,H){if(H){F=(H.primaryVendor.externalCashBackApplicable?H.primaryVendor.sellingPriceAftExtCashBack:H.primaryVendor.sellingPrice);G=true}})},_createEmiHTML:function(M){var L='<div class="emi-detail-label">EMI Plan for different banks</div>';for(var K=0,J=M.length;K<J;K++){if(M[K].emiDetails&&M[K].emiDetails.length>0){L+='<div class="bank-item">';L+='	<div class="bank-name">'+M[K].bankName+'<i class="sd-icon sd-icon-expand-arrow pull-right"></i></div>';L+='	<ul class="emi-list-block" style="display:none;">';L+='		<li class="emi-list-item emi-head clearfix">';L+='			<div class="col-xs-6">Plan (monthly)</div>';L+='			<div class="col-xs-9">EMI</div>';L+='			<div class="col-xs-9">Effective Cost</div>';L+="		</li>";for(var I=0,H=M[K].emiDetails.length;I<H;I++){L+='<li class="emi-list-item clearfix">';L+='	<div class="col-xs-6">'+M[K].emiDetails[I].emiTenure+"</div>";L+='			<div class="col-xs-9">';L+='				<div class="emi-rs-text">Rs. '+Snapdeal.utility.commafy(M[K].emiDetails[I].monthlyInstallment)+"</div>";L+='				<div class="emi-interest-text">(interest '+M[K].emiDetails[I].emiRateOfInterest+"%)</div>";L+="			</div>";L+='			<div class="col-xs-9">';L+='				<div class="emi-rs-text">Rs. '+Snapdeal.utility.commafy(M[K].emiDetails[I].amount)+"</div>";L+="			</div>";L+="		</li>"}L+='	<li class="emi-list-item clearfix"></li>';L+="	</ul>";L+="</div>"}}return L},_updateLowestEmi:function(H){if(E&&E.nextSibling){E.nextSibling.textContent="EMI starts at Rs. "+Snapdeal.utility.commafy(H)}},_getUpdatedEmiDetailList:function(){Snapdeal.utility.displayPageLoader();$.ajax({url:"/acors/json/emiDetails?amount="+F,cache:false,type:"GET",success:function(H){H=JSON.parse(H);if(H&&H.emiDetailDTOList&&H.emiDetailDTOList.length>0){A.container.html(C._createEmiHTML(H.emiDetailDTOList));C._initCache();Snapdeal.sidebar.open($("#popover_emiTip"),"EMI OPTION","emiDetailListClass");G=false;C._updateLowestEmi(H.lowestEMIDetail.monthlyInstallment)}},error:function(){},complete:function(){Snapdeal.utility.hidePageLoader()}})},_showSidebar:function(){if(G){C._getUpdatedEmiDetailList()}else{Snapdeal.sidebar.open($("#popover_emiTip"),"EMI OPTION","emiDetailListClass")}}};D={init:function(){C._init.apply(this,arguments)},openSidebar:function(){C._showSidebar.apply(this,arguments)}};return D})();Snapdeal.emiDetailWidget.init();
var Snapdeal=Snapdeal||{};Snapdeal.mach16Widget=(function(D,G){var F,H,A,C,B,E,I;C={inProgress:false,sdPushApiTimeout:parseInt(document.getElementById("sdPushApiTimeout").value),pogId:D("#pogId").val()||"",discount:D("#appOnlyPriceDiscount").val()||"",productName:D(".pdp-section .pdp-e-i-head").html()||"",omniFlag:false,expVersion:D("#dpExperimentVersion").val()||""};A={viewOnAppButton:D(".pdp-viewonapp"),sendSmsButton:D(".mach16-mobile-submit-btn"),mach16Modal:D(".mach16-modal"),mobileInput:D(".mach16-modal .modal-input"),errorMsg:D(".mobile-error-msg")};I={CLICK:"click",KEYPRESS:"keypress",FOCUS:"focus"};H={_init:function(J){B=D.extend(true,{},C,J);H._bindEvents()},_bindEvents:function(){A.viewOnAppButton.on(I.CLICK,H._viewOnAppClick);A.sendSmsButton.on(I.CLICK,H._sendSms);A.mobileInput.on(I.KEYPRESS,function(K){var J=(K.keyCode?K.keyCode:K.which);if(J=="13"){A.sendSmsButton.click()}if(B.omniFlag){getOmnitureScript({},"openapp_entermobno")}B.omniFlag=false});A.mobileInput.on(I.FOCUS,function(){A.mobileInput.removeClass("invalid");A.errorMsg.css("visibility","hidden")});A.mach16Modal.find(".close-mach16-modal, .mach16-modal-cover").on(I.CLICK,function(J){A.mach16Modal.addClass("hidden");A.mobileInput.val("").removeClass("invalid");A.errorMsg.css("visibility","hidden")})},_viewOnAppClick:function(K){K.stopPropagation();var J=D(this);B.omniFlag=true;if(window.isAuthenticated==true){H._sdPushHit()}else{A.mach16Modal.removeClass("hidden");A.mach16Modal.find(".mach16-mobile-wrapper").removeClass("hidden");A.mach16Modal.find(".mach16-notification-wrapper").addClass("hidden");setTimeout(function(){A.mobileInput.focus()},0)}getOmnitureScript({},"openapp")},_validateMobile:function(){var K=A.mobileInput.val();var J=false,L=/^[789]\d{9}$/g;if(typeof K===typeof ("")){J=!(K.trim()==="");if(J){J=(L.test(K))}}return J},_sendSms:function(J){A.mobileInput.blur();var L=H._validateMobile();if(L){var K=A.mobileInput.val();H._sdPushHit(K);getOmnitureScript({},"openapp_submit")}else{A.mobileInput.addClass("invalid");A.errorMsg.css("visibility","visible")}},_sdPushHit:function(K){var J={pogId:B.pogId,productName:B.productName,discount:(B.discount=="0"||B.discount=="")?"":"Rs. "+B.discount,mobileNumber:(K==undefined?"":K),dpExpVersion:B.expVersion};var L="/json/sdpush";if(!B.inProgress){B.inProgress=true;D.ajax({url:L,type:"POST",timeout:B.sdPushApiTimeout,data:JSON.stringify(J),contentType:"application/json",beforeSend:function(){Snapdeal.utility.displayPageLoader()},success:function(M){if(M&&M.successful==true){H._successSDPush(M,K)}else{H._errorSDPush(K)}},error:function(){H._errorSDPush(K)}})}},_errorSDPush:function(J){B.inProgress=false;Snapdeal.utility.hidePageLoader();A.mach16Modal.find(".mach16-notification-wrapper .notification-sent-msg").html(D("#mach16SmsErrorMsg").val());if(J){A.mach16Modal.find(".mach16-mobile-wrapper").addClass("hidden");A.mach16Modal.find(".mach16-notification-wrapper").removeClass("hidden success").addClass("error")}else{A.mach16Modal.removeClass("hidden");A.mach16Modal.find(".mach16-mobile-wrapper").addClass("hidden");A.mach16Modal.find(".mach16-notification-wrapper").removeClass("hidden success").addClass("error")}},_successSDPush:function(K,J){B.inProgress=false;Snapdeal.utility.hidePageLoader();if(J){A.mach16Modal.find(".mach16-notification-wrapper .notification-sent-msg").html(D("#mach16SmsThankMsg1").val()+" "+J+" "+D("#mach16SmsThankMsg2").val());A.mach16Modal.find(".mach16-mobile-wrapper").addClass("hidden");A.mach16Modal.find(".mach16-notification-wrapper").removeClass("hidden error").addClass("success")}else{if(K.mobileNumber){A.mach16Modal.find(".mach16-notification-wrapper .notification-sent-msg").html(D("#mach16NotificationThankMsg").val()+" "+K.mobileNumber);A.mach16Modal.removeClass("hidden");A.mach16Modal.find(".mach16-mobile-wrapper").addClass("hidden");A.mach16Modal.find(".mach16-notification-wrapper").removeClass("hidden error").addClass("success")}else{A.mach16Modal.removeClass("hidden");A.mach16Modal.find(".mach16-mobile-wrapper").removeClass("hidden");A.mach16Modal.find(".mach16-notification-wrapper").addClass("hidden");setTimeout(function(){A.mobileInput.focus()},0)}}}};F={init:function(){return H._init.apply(this,arguments)}};return F})(window.jQuery,Snapdeal);Snapdeal.mach16Widget.init();
